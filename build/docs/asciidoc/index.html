<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.12">
<meta name="author" content="本資料は、(株)日本取引所グループがデータサイエンスに興味のある個人向けに提供する、ITやデータ分析を活用した取引の学習を目的とした、ハンズオン形式のチュートリアルです。">
<title>株式分析チュートリアル | 日本取引所グループ</title>
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:'Hiragino Sans',sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-weight:bold}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:"Courier New",monospace;}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
/* fix serif; body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased} */
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:'Hiragino Sans',"Noto Serif","DejaVu Serif";font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.7;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-weight:bold}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:'Hiragino Sans',"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#2d466b;text-rendering:optimizeLegibility;margin-top:1.5em;margin-bottom:1.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-weight:bold;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Courier New",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Courier New",monospace;font-size:16px;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Courier New",monospace;display:inline-block;color:rgba(0,0,0,.8);line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-weight:bold}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#2d466b;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#2d466b;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:2em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:'Hiragino Sans',"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-weight:normal}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-top:3em;margin-bottom:3em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#2d466b;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.listingblock{margin: 2em 0}
.literalblock pre.nowrap,.literalblock pre.nowrap pre,.listingblock pre.nowrap,.listingblock pre.nowrap pre{white-space:pre;word-wrap:normal}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #dddddf}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:2.25em 1em 2.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
/* fix font style; .quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-weight:bold;text-align:justify} */
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1em;line-height:1.75;word-spacing:.1em;letter-spacing:0;}
.quoteblock blockquote{margin:0;padding:0;border:0;background-color:#fff;}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#2d466b;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-weight:normal}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate;margin: 2em 0;}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock{margin: 2em 0}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock{margin: 2em 0}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>株式分析チュートリアル | 日本取引所グループ</h1>
<div class="details">
<span id="author" class="author">本資料は、(株)日本取引所グループがデータサイエンスに興味のある個人向けに提供する、ITやデータ分析を活用した取引の学習を目的とした、ハンズオン形式のチュートリアルです。</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">目次</div>
<ul class="sectlevel1">
<li><a href="#introduction">1. はじめに</a></li>
<li><a href="#_財務諸表で株価の先行きを予測しよう">2. 財務諸表で株価の先行きを予測しよう</a>
<ul class="sectlevel2">
<li><a href="#_予測対象">2.1. 予測対象</a></li>
<li><a href="#_データセットの説明">2.2. データセットの説明</a></li>
<li><a href="#_実行環境及び必要なライブラリ">2.3. 実行環境及び必要なライブラリ</a></li>
<li><a href="#_データセットの読み込み">2.4. データセットの読み込み</a></li>
<li><a href="#_データセットの可視化">2.5. データセットの可視化</a></li>
<li><a href="#_データセットの前処理">2.6. データセットの前処理</a></li>
<li><a href="#_特徴量の生成">2.7. 特徴量の生成</a></li>
<li><a href="#_バックテスト用のテストデータ作成">2.8. バックテスト用のテストデータ作成</a></li>
<li><a href="#_モデルの構築">2.9. モデルの構築</a></li>
<li><a href="#_モデルの推論">2.10. モデルの推論</a></li>
<li><a href="#_予測結果に対する分析の道筋">2.11. 予測結果に対する分析の道筋</a></li>
<li><a href="#_モデルの評価">2.12. モデルの評価</a></li>
<li><a href="#_モデルの提出">2.13. モデルの提出</a></li>
</ul>
</li>
<li><a href="#_ニュースでポートフォリオを構築しよう">3. ニュースでポートフォリオを構築しよう</a></li>
<li><a href="#_tips集">4. tips集</a>
<ul class="sectlevel2">
<li><a href="#_コンペティションフォーラムの紹介">4.1. コンペティションフォーラムの紹介</a></li>
<li><a href="#_金融用語集">4.2. 金融用語集</a></li>
<li><a href="#_東証マネ部">4.3. 東証マネ部</a></li>
<li><a href="#_参考になる書籍">4.4. 参考になる書籍</a></li>
<li><a href="#_参考になるコンペティション">4.5. 参考になるコンペティション</a></li>
<li><a href="#_ファンダメンタルズ分析の活用方法">4.6. ファンダメンタルズ分析の活用方法</a></li>
<li><a href="#_テクニカル分析の活用方法">4.7. テクニカル分析の活用方法</a></li>
<li><a href="#_ファクター分析の活用方法">4.8. ファクター分析の活用方法</a></li>
<li><a href="#_複数個のモデルの出力をアンサンブルするアプローチ">4.9. 複数個のモデルの出力をアンサンブルするアプローチ</a></li>
<li><a href="#_プライベート期間の性能の向上のために考慮すべきこと">4.10. プライベート期間の性能の向上のために考慮すべきこと</a></li>
<li><a href="#_本コンペでは利用できないがモデルを将来的に発展させるために検討する価値のある外部データ">4.11. 本コンペでは利用できないが、モデルを将来的に発展させるために検討する価値のある外部データ</a></li>
<li><a href="#_モデルの再学習の運用について">4.12. モデルの再学習の運用について</a></li>
<li><a href="#_google_colaboratoryの使用法">4.13. Google Colaboratoryの使用法</a></li>
<li><a href="#_内国株の売買制度">4.14. 内国株の売買制度</a></li>
</ul>
</li>
<li><a href="#_j_quantsapi">5. J-QuantsAPI</a>
<ul class="sectlevel2">
<li><a href="#_概要">5.1. 概要</a></li>
<li><a href="#_apiの利用">5.2. APIの利用</a></li>
<li><a href="#_必要なパッケージのインポート">5.3. 必要なパッケージのインポート</a></li>
<li><a href="#_refresh_api">5.4. Refresh API</a></li>
<li><a href="#_共通で使用するメソッド">5.5. 共通で使用するメソッド</a></li>
<li><a href="#_stock_lists_api">5.6. Stock Lists API</a></li>
<li><a href="#_prices_api">5.7. Prices API</a></li>
<li><a href="#_stock_fins_api">5.8. Stock Fins API</a></li>
<li><a href="#_stock_labels_api">5.9. Stock Labels API</a></li>
<li><a href="#_news_api">5.10. News API</a></li>
<li><a href="#_tdnet_api">5.11. TDnet API</a></li>
</ul>
</li>
<li><a href="#_チュートリアル作成環境の参考文献">6. チュートリアル作成環境の参考文献</a>
<ul class="sectlevel2">
<li><a href="#_商標">6.1. 商標</a></li>
</ul>
</li>
<li><a href="#_ライセンス">7. ライセンス</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;に&#8203;関&#8203;し&#8203;て&#8203;の&#8203;ご&#8203;質&#8203;問&#8203;は、&#8203;SIGNATE&#8203;に&#8203;て&#8203;開&#8203;催&#8203;中&#8203;の&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;サ&#8203;イ&#8203;ト&#8203;( <a href="https://signate.jp/competitions/423" class="bare">https://signate.jp/competitions/423</a> )&#8203;の&#8203;フォー&#8203;ラ&#8203;ム&#8203;に&#8203;お&#8203;き&#8203;ま&#8203;し&#8203;て、&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;質&#8203;問&#8203;用&#8203;の&#8203;ス&#8203;レッ&#8203;ド&#8203;に&#8203;投&#8203;稿&#8203;い&#8203;た&#8203;だ&#8203;く&#8203;か、&#8203;タ&#8203;イ&#8203;ト&#8203;ル&#8203;冒&#8203;頭&#8203;に&#8203; <code>[tutorial]</code> &#8203;と&#8203;ご&#8203;記&#8203;載&#8203;の&#8203;上、&#8203;ご&#8203;質&#8203;問&#8203;し&#8203;て&#8203;い&#8203;た&#8203;だ&#8203;け&#8203;ま&#8203;す&#8203;と&#8203;幸&#8203;い&#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p>ま&#8203;た、&#8203;本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;に&#8203;関&#8203;し&#8203;て&#8203;の&#8203;ご&#8203;要&#8203;望&#8203;が&#8203;あ&#8203;れ&#8203;ば、&#8203;Github&#8203;リ&#8203;ポ&#8203;ジ&#8203;ト&#8203;リ&#8203;( <a href="https://github.com/JapanExchangeGroup/J-Quants-Tutorial" class="bare">https://github.com/JapanExchangeGroup/J-Quants-Tutorial</a> )&#8203;の&#8203; <code>Issues</code> &#8203;か&#8203;ら&#8203;ご&#8203;意&#8203;見&#8203;を&#8203;い&#8203;た&#8203;だ&#8203;け&#8203;ま&#8203;す&#8203;と&#8203;幸&#8203;い&#8203;で&#8203;す。&#8203; (&#8203;な&#8203;お、&#8203;投&#8203;稿&#8203;の&#8203;際&#8203;に&#8203;は、&#8203;過&#8203;去&#8203;に&#8203;同&#8203;じ&#8203;ご&#8203;要&#8203;望&#8203;が&#8203;な&#8203;い&#8203;か&#8203;ご&#8203;確&#8203;認&#8203;く&#8203;だ&#8203;さ&#8203;い。&#8203;)</p>
</div>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>更&#8203;新&#8203;履&#8203;歴</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>2021-01-29: 初版リリース
2021-02-05: 誤字や表記の修正を中心に改良
2021-02-12: ランタイム環境のデータの扱い、GoogleColaboratoryについて追記
2021-02-19: predictor.pyの修正、stocklabelsAPIの修正
2021-02-26: 予測対象のエッジケースにおいて追記</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction">1. はじめに</h2>
<div class="sectionbody">
<div class="paragraph">
<p>証&#8203;券&#8203;市&#8203;場&#8203;で&#8203;は、&#8203;長&#8203;年、&#8203;様々&#8203;な&#8203;デー&#8203;タ&#8203;や&#8203;数&#8203;学&#8203;的&#8203;手&#8203;法&#8203;を&#8203;用&#8203;い&#8203;て&#8203;市&#8203;場&#8203;を&#8203;分&#8203;析&#8203;し&#8203;た&#8203;り、&#8203;金&#8203;融&#8203;商&#8203;品&#8203;の&#8203;組&#8203;成&#8203;や&#8203;投&#8203;資&#8203;戦&#8203;略&#8203;の&#8203;立&#8203;案&#8203;が&#8203;行&#8203;わ&#8203;れ&#8203;た&#8203;り&#8203;し&#8203;て&#8203;き&#8203;ま&#8203;し&#8203;た。&#8203;以&#8203;前&#8203;は&#8203;こ&#8203;の&#8203;よ&#8203;う&#8203;な&#8203;分&#8203;析&#8203;を&#8203;行&#8203;う&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;る&#8203;の&#8203;は、&#8203;金&#8203;融&#8203;機&#8203;関&#8203;や&#8203;機&#8203;関&#8203;投&#8203;資&#8203;家&#8203;と&#8203;呼&#8203;ば&#8203;れ&#8203;る&#8203;大&#8203;手&#8203;の&#8203;投&#8203;資&#8203;家&#8203;に&#8203;限&#8203;ら&#8203;れ&#8203;て&#8203;き&#8203;ま&#8203;し&#8203;た。&#8203;し&#8203;か&#8203;し&#8203;近&#8203;年&#8203;で&#8203;は、&#8203;個&#8203;人&#8203;の&#8203;方&#8203;に&#8203;も、&#8203;IT&#8203;や&#8203;デー&#8203;タ&#8203;を&#8203;活&#8203;用&#8203;し&#8203;た&#8203;金&#8203;融&#8203;市&#8203;場&#8203;の&#8203;分&#8203;析&#8203;や&#8203;取&#8203;引&#8203;が&#8203;拡&#8203;大&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>日&#8203;本&#8203;取&#8203;引&#8203;所&#8203;グ&#8203;ルー&#8203;プ&#8203;は、&#8203;証&#8203;券&#8203;分&#8203;野&#8203;に&#8203;お&#8203;け&#8203;る&#8203;デー&#8203;タ&#8203;活&#8203;用&#8203;や&#8203;人&#8203;工&#8203;知&#8203;能&#8203;の&#8203;活&#8203;用&#8203;を&#8203;発&#8203;展&#8203;さ&#8203;せ&#8203;た&#8203;い&#8203;と&#8203;考&#8203;え&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;日&#8203;本&#8203;に&#8203;お&#8203;い&#8203;て&#8203;も&#8203;さ&#8203;ま&#8203;ざ&#8203;ま&#8203;な&#8203;デー&#8203;タ&#8203;の&#8203;活&#8203;用&#8203;や&#8203;デー&#8203;タ&#8203;サ&#8203;イ&#8203;エ&#8203;ン&#8203;ティ&#8203;ス&#8203;ト&#8203;の&#8203;育&#8203;成&#8203;が&#8203;推&#8203;進&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す&#8203;が、&#8203;金&#8203;融&#8203;分&#8203;野&#8203;に&#8203;特&#8203;化&#8203;し&#8203;た&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;の&#8203;作&#8203;成&#8203;や&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;は&#8203;あ&#8203;ま&#8203;り&#8203;行&#8203;わ&#8203;れ&#8203;て&#8203;き&#8203;て&#8203;い&#8203;ま&#8203;せ&#8203;ん&#8203;で&#8203;し&#8203;た。</p>
</div>
<div class="paragraph">
<p>そ&#8203;こ&#8203;で、&#8203;日&#8203;本&#8203;取&#8203;引&#8203;所&#8203;グ&#8203;ルー&#8203;プ&#8203;は、&#8203;投&#8203;資&#8203;に&#8203;ま&#8203;つ&#8203;わ&#8203;る&#8203;デー&#8203;タ・&#8203;環&#8203;境&#8203;を&#8203;提&#8203;供&#8203;し、&#8203;個&#8203;人&#8203;投&#8203;資&#8203;家&#8203;の&#8203;皆&#8203;様&#8203;に&#8203;よ&#8203;る&#8203;デー&#8203;タ&#8203;利&#8203;活&#8203;用&#8203;の&#8203;可&#8203;能&#8203;性&#8203;を&#8203;検&#8203;証&#8203;す&#8203;る&#8203;た&#8203;め&#8203;の&#8203;実&#8203;証&#8203;実&#8203;験&#8203;プ&#8203;ロ&#8203;ジェ&#8203;ク&#8203;ト&#8203;と&#8203;し&#8203;て、&#8203;J-Quants&#8203;を&#8203;立&#8203;ち&#8203;上&#8203;げ&#8203;ま&#8203;し&#8203;た。&#8203;本&#8203;プ&#8203;ロ&#8203;ジェ&#8203;ク&#8203;ト&#8203;で&#8203;は、&#8203;「ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;ズ&#8203;分&#8203;析&#8203;チャ&#8203;レ&#8203;ン&#8203;ジ」&#8203;と&#8203;「ニュー&#8203;ス&#8203;分&#8203;析&#8203;チャ&#8203;レ&#8203;ン&#8203;ジ」&#8203;の&#8203;2&#8203;本&#8203;の&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;開&#8203;催&#8203;を&#8203;予&#8203;定&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;本&#8203;ペー&#8203;ジ&#8203;で&#8203;は、&#8203;こ&#8203;れ&#8203;ら&#8203;の&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;に&#8203;係&#8203;る&#8203;学&#8203;習&#8203;環&#8203;境&#8203;と&#8203;い&#8203;う&#8203;位&#8203;置&#8203;付&#8203;け&#8203;で、&#8203;ハ&#8203;ン&#8203;ズ&#8203;オ&#8203;ン&#8203;形&#8203;式&#8203;の&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;を&#8203;提&#8203;供&#8203;し&#8203;ま&#8203;す。&#8203;本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;を&#8203;学&#8203;ぶ&#8203;こ&#8203;と&#8203;で、&#8203;デー&#8203;タ&#8203;サ&#8203;イ&#8203;エ&#8203;ン&#8203;ス&#8203;を&#8203;活&#8203;用&#8203;し&#8203;た&#8203;株&#8203;価&#8203;予&#8203;測&#8203;を&#8203;行&#8203;う&#8203;際&#8203;に、&#8203;最&#8203;低&#8203;限&#8203;必&#8203;要&#8203;な&#8203;知&#8203;識&#8203;や&#8203;実&#8203;践&#8203;方&#8203;法&#8203;を&#8203;学&#8203;ぶ&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;は&#8203;幅&#8203;広&#8203;い&#8203;方&#8203;に&#8203;ご&#8203;参&#8203;加&#8203;い&#8203;た&#8203;だ&#8203;け&#8203;る&#8203;こ&#8203;と&#8203;を&#8203;期&#8203;待&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す&#8203;が、&#8203;プ&#8203;ロ&#8203;グ&#8203;ラ&#8203;ミ&#8203;ン&#8203;グ&#8203;の&#8203;経&#8203;験&#8203;が&#8203;あ&#8203;り&#8203;確&#8203;率・&#8203;統&#8203;計&#8203;の&#8203;基&#8203;礎&#8203;な&#8203;ど&#8203;を&#8203;勉&#8203;強&#8203;さ&#8203;れ&#8203;た&#8203;学&#8203;生&#8203;の&#8203;方&#8203;や、&#8203;他&#8203;分&#8203;野&#8203;で&#8203;の&#8203;デー&#8203;タ&#8203;分&#8203;析&#8203;経&#8203;験&#8203;を&#8203;お&#8203;持&#8203;ち&#8203;の&#8203;社&#8203;会&#8203;人&#8203;の&#8203;方、&#8203;金&#8203;融&#8203;分&#8203;野&#8203;で&#8203;の&#8203;知&#8203;見&#8203;は&#8203;あ&#8203;る&#8203;が&#8203;デー&#8203;タ&#8203;サ&#8203;イ&#8203;エ&#8203;ン&#8203;ス&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;こ&#8203;れ&#8203;か&#8203;ら&#8203;勉&#8203;強&#8203;を&#8203;さ&#8203;れ&#8203;た&#8203;い&#8203;と&#8203;考&#8203;え&#8203;て&#8203;い&#8203;る&#8203;社&#8203;会&#8203;人&#8203;の&#8203;方&#8203;に&#8203;は&#8203;特&#8203;に&#8203;楽&#8203;し&#8203;ん&#8203;で&#8203;い&#8203;た&#8203;だ&#8203;け&#8203;る&#8203;内&#8203;容&#8203;と&#8203;なっ&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;及&#8203;び&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;を&#8203;通&#8203;じ&#8203;て&#8203;金&#8203;融&#8203;デー&#8203;タ&#8203;や&#8203;デー&#8203;タ&#8203;分&#8203;析&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;理&#8203;解&#8203;を&#8203;深&#8203;め&#8203;て&#8203;い&#8203;た&#8203;だ&#8203;き、&#8203;ポー&#8203;ト&#8203;フォ&#8203;リ&#8203;オ&#8203;分&#8203;析&#8203;や&#8203;資&#8203;産&#8203;運&#8203;用&#8203;に&#8203;活&#8203;用&#8203;い&#8203;た&#8203;だ&#8203;き&#8203;た&#8203;い&#8203;と&#8203;考&#8203;え&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;ま&#8203;た、&#8203;デー&#8203;タ&#8203;サ&#8203;イ&#8203;エ&#8203;ン&#8203;ス&#8203;を&#8203;学&#8203;ぶ&#8203;学&#8203;生&#8203;の&#8203;方々&#8203;に&#8203;とっ&#8203;て&#8203;は、&#8203;金&#8203;融&#8203;デー&#8203;タ&#8203;を&#8203;用&#8203;い&#8203;た&#8203;デー&#8203;タ&#8203;活&#8203;用&#8203;や&#8203;人&#8203;工&#8203;知&#8203;能&#8203;の&#8203;活&#8203;用&#8203;に&#8203;関&#8203;す&#8203;る&#8203;研&#8203;究&#8203;に&#8203;も&#8203;興&#8203;味&#8203;を&#8203;持っ&#8203;て&#8203;い&#8203;た&#8203;だ&#8203;き&#8203;た&#8203;い&#8203;と&#8203;考&#8203;え&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="注記"></i>
</td>
<td class="content">
本&#8203;プ&#8203;ロ&#8203;ジェ&#8203;ク&#8203;ト&#8203;の&#8203;概&#8203;要&#8203;や&#8203;ハ&#8203;ン&#8203;ズ&#8203;オ&#8203;ン&#8203;で&#8203;使&#8203;う&#8203;ソー&#8203;ス&#8203;コー&#8203;ド&#8203;類&#8203;は&#8203;以&#8203;下&#8203;の&#8203;ペー&#8203;ジ&#8203;で&#8203;公&#8203;開&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。
</td>
</tr>
</table>
</div>
<table class="tableblock frame-ends grid-none stripes-even stretch">
<colgroup>
<col style="width: 66.6666%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">プ&#8203;ロ&#8203;ジェ&#8203;ク&#8203;ト&#8203;概&#8203;要</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.jpx-jquants-info.com/" class="bare">https://www.jpx-jquants-info.com/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/JapanExchangeGroup/J-Quants-Tutorial" class="bare">https://github.com/JapanExchangeGroup/J-Quants-Tutorial</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jupyter&#8203;ノー&#8203;ト&#8203;ブッ&#8203;ク</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/JapanExchangeGroup/J-Quants-Tutorial/tree/main/handson/Chapter02" class="bare">https://github.com/JapanExchangeGroup/J-Quants-Tutorial/tree/main/handson/Chapter02</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">J-QuantsAPI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://jpx-jquants.com/" class="bare">https://jpx-jquants.com/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;サ&#8203;イ&#8203;ト</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://signate.jp/competitions/423" class="bare">https://signate.jp/competitions/423</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_財務諸表で株価の先行きを予測しよう">2. 財務諸表で株価の先行きを予測しよう</h2>
<div class="sectionbody">
<div class="paragraph">
<p>本&#8203;章&#8203;で&#8203;は、&#8203;J-Quants&#8203;で&#8203;開&#8203;催&#8203;す&#8203;る&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;う&#8203;ち、&#8203;「ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;ズ&#8203;分&#8203;析&#8203;チャ&#8203;レ&#8203;ン&#8203;ジ」&#8203;（https://signate.jp/competitions/423）&#8203;に&#8203;係&#8203;る&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;を&#8203;提&#8203;供&#8203;し&#8203;ま&#8203;す。&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;で&#8203;は、&#8203;デー&#8203;タ&#8203;分&#8203;析&#8203;や&#8203;株&#8203;式&#8203;取&#8203;引&#8203;に&#8203;は&#8203;興&#8203;味&#8203;は&#8203;あ&#8203;る&#8203;が、&#8203;きっ&#8203;か&#8203;け&#8203;が&#8203;な&#8203;い&#8203;と&#8203;い&#8203;う&#8203;方&#8203;を&#8203;主&#8203;な&#8203;対&#8203;象&#8203;と&#8203;し&#8203;て、&#8203;投&#8203;資&#8203;に&#8203;ま&#8203;つ&#8203;わ&#8203;る&#8203;デー&#8203;タ・&#8203;環&#8203;境&#8203;を&#8203;提&#8203;供&#8203;し、&#8203;株&#8203;式&#8203;市&#8203;場&#8203;に&#8203;お&#8203;け&#8203;る&#8203;デー&#8203;タ&#8203;利&#8203;活&#8203;用&#8203;の&#8203;可&#8203;能&#8203;性&#8203;を&#8203;試&#8203;し&#8203;て&#8203;い&#8203;た&#8203;だ&#8203;く&#8203;こ&#8203;と&#8203;を&#8203;期&#8203;待&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p><strong>&#8203;ス&#8203;ケ&#8203;ジュー&#8203;ル&#8203;</strong></p>
</div>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;日&#8203;時&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;内&#8203;容&#8203;</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2021&#8203;年&#8203;1&#8203;月&#8203;29&#8203;日&#8203;（金）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;開&#8203;始</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2021&#8203;年&#8203;3&#8203;月&#8203;28&#8203;日&#8203;（日）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">モ&#8203;デ&#8203;ル&#8203;提&#8203;出&#8203;締&#8203;切</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2021&#8203;年&#8203;3&#8203;月&#8203;29&#8203;日&#8203;（月）&#8203; 〜&#8203; 6&#8203;月&#8203;14&#8203;日&#8203;（月）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">モ&#8203;デ&#8203;ル&#8203;評&#8203;価&#8203;期&#8203;間</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2021&#8203;年&#8203;7&#8203;月&#8203;頃</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">入&#8203;賞&#8203;者&#8203;の&#8203;決&#8203;定</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;で&#8203;は、&#8203;東&#8203;証&#8203;上&#8203;場&#8203;企&#8203;業&#8203;（普&#8203;通&#8203;株&#8203;式&#8203;の&#8203;み。&#8203;ETF&#8203;及&#8203;び&#8203;REIT&#8203;は&#8203;除&#8203;き&#8203;ま&#8203;す。）&#8203;が、&#8203;決&#8203;算&#8203;短&#8203;信&#8203;（本&#8203;資&#8203;料&#8203;で&#8203;は、&#8203;四&#8203;半&#8203;期&#8203;決&#8203;算&#8203;短&#8203;信&#8203;や&#8203;訂&#8203;正&#8203;開&#8203;示&#8203;等&#8203;を&#8203;総&#8203;称&#8203;し、&#8203;決&#8203;算&#8203;短&#8203;信&#8203;と&#8203;表&#8203;記&#8203;し&#8203;ま&#8203;す。）&#8203;を&#8203;発&#8203;表&#8203;し&#8203;た&#8203;後&#8203;の&#8203;20&#8203;営&#8203;業&#8203;日&#8203;の&#8203;間&#8203;に&#8203;お&#8203;け&#8203;る、&#8203;当&#8203;該&#8203;企&#8203;業&#8203;の&#8203;株&#8203;価&#8203;の&#8203;最&#8203;高&#8203;値&#8203;及&#8203;び&#8203;最&#8203;安&#8203;値&#8203;を、&#8203;銘&#8203;柄&#8203;情&#8203;報・&#8203;株&#8203;価&#8203;情&#8203;報・&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;情&#8203;報&#8203;等&#8203;を&#8203;用&#8203;い&#8203;て&#8203;予&#8203;測&#8203;い&#8203;た&#8203;だ&#8203;き&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p><strong>&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;概&#8203;要&#8203;</strong></p>
</div>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;項&#8203;目&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;内&#8203;容&#8203;</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;名</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;ズ&#8203;分&#8203;析&#8203;チャ&#8203;レ&#8203;ン&#8203;ジ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">主&#8203;な&#8203;対&#8203;象&#8203;者</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">株&#8203;式&#8203;市&#8203;場&#8203;を&#8203;対&#8203;象&#8203;と&#8203;し&#8203;た&#8203;デー&#8203;タ&#8203;分&#8203;析&#8203;の&#8203;初&#8203;学&#8203;者</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">入&#8203;力&#8203;内&#8203;容&#8203;（利&#8203;用&#8203;デー&#8203;タ）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">銘&#8203;柄&#8203;情&#8203;報・&#8203;株&#8203;価&#8203;情&#8203;報・&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;情&#8203;報&#8203;等</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">出&#8203;力&#8203;内&#8203;容&#8203;（予&#8203;測&#8203;対&#8203;象）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">各&#8203;東&#8203;証&#8203;上&#8203;場&#8203;企&#8203;業&#8203;が、&#8203;決&#8203;算&#8203;短&#8203;信&#8203;を&#8203;発&#8203;表&#8203;し&#8203;た&#8203;後&#8203;の&#8203;20&#8203;営&#8203;業&#8203;日&#8203;の&#8203;間&#8203;に&#8203;お&#8203;け&#8203;る、&#8203;当&#8203;該&#8203;企&#8203;業&#8203;の&#8203;株&#8203;価&#8203;の&#8203;最&#8203;高&#8203;値&#8203;及&#8203;び&#8203;最&#8203;安&#8203;値</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">参&#8203;加&#8203;を&#8203;通&#8203;じ&#8203;て&#8203;得&#8203;ら&#8203;れ&#8203;る&#8203;知&#8203;見</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- &#8203;株&#8203;価&#8203;や&#8203;企&#8203;業&#8203;業&#8203;績&#8203;の&#8203;推&#8203;移&#8203;な&#8203;ど&#8203;の&#8203;時&#8203;系&#8203;列&#8203;デー&#8203;タ&#8203;の&#8203;解&#8203;析&#8203;手&#8203;法&#8203;<br>
- &#8203;市&#8203;場&#8203;動&#8203;向&#8203;の&#8203;把&#8203;握&#8203;手&#8203;法&#8203;<br>
- &#8203;リ&#8203;ス&#8203;ク&#8203;分&#8203;析</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>本&#8203;章&#8203;の&#8203;構&#8203;成&#8203;は、&#8203;ま&#8203;ず、&#8203;2.1&#8203;節&#8203;に&#8203;て、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;に&#8203;お&#8203;け&#8203;る&#8203;予&#8203;測&#8203;対&#8203;象&#8203;等&#8203;の&#8203;詳&#8203;細&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;説&#8203;明&#8203;し、&#8203;2.2&#8203;節&#8203;に&#8203;て、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;で&#8203;提&#8203;供&#8203;す&#8203;る&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;の&#8203;仕&#8203;様&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;説&#8203;明&#8203;し&#8203;ま&#8203;す。&#8203;そ&#8203;し&#8203;て、&#8203;2.3&#8203;節&#8203;以&#8203;降&#8203;で、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;ベー&#8203;ス&#8203;ラ&#8203;イ&#8203;ン&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;開&#8203;発&#8203;か&#8203;ら&#8203;モ&#8203;デ&#8203;ル&#8203;提&#8203;出&#8203;ま&#8203;で&#8203;の&#8203;一&#8203;連&#8203;の&#8203;フ&#8203;ロー&#8203;を&#8203;説&#8203;明&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="sect2">
<h3 id="_予測対象">2.1. 予測対象</h3>
<div class="paragraph">
<p>本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;予&#8203;測&#8203;対&#8203;象&#8203;は、&#8203;東&#8203;証&#8203;上&#8203;場&#8203;企&#8203;業&#8203;が、&#8203;決&#8203;算&#8203;短&#8203;信&#8203;を&#8203;発&#8203;表&#8203;し&#8203;た&#8203;後&#8203;の&#8203;20&#8203;営&#8203;業&#8203;日&#8203;の&#8203;期&#8203;間&#8203;に&#8203;お&#8203;け&#8203;る、&#8203;当&#8203;該&#8203;企&#8203;業&#8203;の&#8203;株&#8203;価&#8203;の&#8203;最&#8203;高&#8203;値&#8203;及&#8203;び&#8203;最&#8203;安&#8203;値&#8203;で&#8203;す。&#8203; &#8203;上&#8203;場&#8203;企&#8203;業&#8203;は&#8203;決&#8203;算&#8203;期&#8203;末&#8203;を&#8203;含&#8203;め&#8203;四&#8203;半&#8203;期&#8203;毎&#8203;に&#8203;決&#8203;算&#8203;内&#8203;容&#8203;が&#8203;定&#8203;まっ&#8203;た&#8203;際、&#8203;決&#8203;算&#8203;内&#8203;容&#8203;の&#8203;開&#8203;示&#8203;が&#8203;義&#8203;務&#8203;付&#8203;け&#8203;ら&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;決&#8203;算&#8203;の&#8203;内&#8203;容&#8203;と&#8203;し&#8203;て&#8203;開&#8203;示&#8203;さ&#8203;れ&#8203;る&#8203;決&#8203;算&#8203;短&#8203;信&#8203;に&#8203;は&#8203;財&#8203;務&#8203;諸&#8203;表&#8203;が&#8203;添&#8203;付&#8203;さ&#8203;れ&#8203;て&#8203;お&#8203;り、&#8203;財&#8203;務&#8203;諸&#8203;表&#8203;は&#8203;企&#8203;業&#8203;の&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;情&#8203;報&#8203;を&#8203;含&#8203;む&#8203;複&#8203;数&#8203;の&#8203;表&#8203;で&#8203;構&#8203;成&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>2.1.1&#8203;項&#8203;で&#8203;は&#8203;予&#8203;測&#8203;対&#8203;象&#8203;の&#8203;銘&#8203;柄&#8203;に&#8203;つ&#8203;い&#8203;て、&#8203;2.1.2&#8203;項&#8203;で&#8203;は&#8203;予&#8203;測&#8203;対&#8203;象&#8203;の&#8203;決&#8203;算&#8203;短&#8203;信&#8203;に&#8203;つ&#8203;い&#8203;て、&#8203;2.1.3&#8203;項&#8203;で&#8203;は&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;評&#8203;価&#8203;方&#8203;法&#8203;に&#8203;つ&#8203;い&#8203;て、&#8203;2.1.4&#8203;項&#8203;で&#8203;は&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;リー&#8203;ダー&#8203;ボー&#8203;ド&#8203;の&#8203;仕&#8203;様&#8203;に&#8203;つ&#8203;い&#8203;て、&#8203;2.1.5&#8203;項&#8203;で&#8203;は&#8203;決&#8203;算&#8203;短&#8203;信&#8203;と&#8203;財&#8203;務&#8203;諸&#8203;表&#8203;の&#8203;概&#8203;要&#8203;に&#8203;つ&#8203;い&#8203;て、&#8203;そ&#8203;れ&#8203;ぞ&#8203;れ&#8203;説&#8203;明&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="sect3">
<h4 id="_予測対象の銘柄">2.1.1. 予測対象の銘柄</h4>
<div class="paragraph">
<p>本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;予&#8203;測&#8203;対&#8203;象&#8203;と&#8203;な&#8203;る&#8203;銘&#8203;柄&#8203;は、&#8203;次&#8203;に&#8203;挙&#8203;げ&#8203;る&#8203;条&#8203;件&#8203;を&#8203;全&#8203;て&#8203;満&#8203;た&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>A)	2020&#8203;年&#8203;12&#8203;月&#8203;末&#8203;日&#8203;時&#8203;点&#8203;で、&#8203;東&#8203;京&#8203;証&#8203;券&#8203;取&#8203;引&#8203;所&#8203;に&#8203;上&#8203;場&#8203;し&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と</p>
</div>
<div class="paragraph">
<p>B)	&#8203;普&#8203;通&#8203;株&#8203;式&#8203;で&#8203;あ&#8203;る&#8203;こ&#8203;と&#8203;（種&#8203;類&#8203;株&#8203;で&#8203;は&#8203;な&#8203;い&#8203;こ&#8203;と）</p>
</div>
<div class="paragraph">
<p>C)	ETF、&#8203;ETN、&#8203;REIT、&#8203;優&#8203;先&#8203;出&#8203;資&#8203;証&#8203;券、&#8203;イ&#8203;ン&#8203;フ&#8203;ラ&#8203;ファ&#8203;ン&#8203;ド、&#8203;外&#8203;国&#8203;株&#8203;の&#8203;い&#8203;ず&#8203;れ&#8203;に&#8203;も&#8203;該&#8203;当&#8203;し&#8203;な&#8203;い&#8203;こ&#8203;と</p>
</div>
<div class="paragraph">
<p>D)	2020&#8203;年&#8203;12&#8203;月&#8203;末&#8203;日&#8203;時&#8203;点&#8203;で、&#8203;上&#8203;場&#8203;後&#8203;2&#8203;年&#8203;を&#8203;経&#8203;過&#8203;し&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と</p>
</div>
</div>
<div class="sect3">
<h4 id="_予測対象の決算短信">2.1.2. 予測対象の決算短信</h4>
<div class="paragraph">
<p>本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;で&#8203;は、&#8203;2021&#8203;年&#8203;3&#8203;月&#8203;27&#8203;日&#8203;か&#8203;ら&#8203;同&#8203;年&#8203;5&#8203;月&#8203;15&#8203;日&#8203;の&#8203;期&#8203;間&#8203;中&#8203;に&#8203;開&#8203;示&#8203;さ&#8203;れ&#8203;た&#8203;決&#8203;算&#8203;短&#8203;信&#8203;を&#8203;対&#8203;象&#8203;に、&#8203;そ&#8203;の&#8203;開&#8203;示&#8203;日&#8203;か&#8203;ら&#8203;起&#8203;算&#8203;し&#8203;て&#8203;20&#8203;営&#8203;業&#8203;日&#8203;を&#8203;経&#8203;過&#8203;し&#8203;た&#8203;期&#8203;間&#8203;に&#8203;お&#8203;け&#8203;る、&#8203;各&#8203;銘&#8203;柄&#8203;の&#8203;最&#8203;高&#8203;値&#8203;及&#8203;び&#8203;最&#8203;安&#8203;値&#8203;を&#8203;予&#8203;測&#8203;し&#8203;ま&#8203;す。&#8203;厳&#8203;密&#8203;に&#8203;は、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;で&#8203;予&#8203;測&#8203;対&#8203;象&#8203;と&#8203;な&#8203;る&#8203;決&#8203;算&#8203;短&#8203;信&#8203;は、&#8203;次&#8203;に&#8203;挙&#8203;げ&#8203;る&#8203;条&#8203;件&#8203;を&#8203;全&#8203;て&#8203;満&#8203;た&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>A)	&#8203;直&#8203;近&#8203;の&#8203;決&#8203;算&#8203;期&#8203;末&#8203;ま&#8203;た&#8203;は&#8203;四&#8203;半&#8203;期&#8203;期&#8203;末&#8203;に&#8203;係&#8203;る&#8203;決&#8203;算&#8203;短&#8203;信&#8203;で&#8203;あ&#8203;る&#8203;こ&#8203;と</p>
</div>
<div class="paragraph">
<p>B)	2021&#8203;年&#8203;3&#8203;月&#8203;27&#8203;日&#8203;か&#8203;ら&#8203;同&#8203;年&#8203;5&#8203;月&#8203;15&#8203;日&#8203;ま&#8203;で&#8203;の&#8203;期&#8203;間&#8203;に&#8203;開&#8203;示&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と</p>
</div>
<div class="paragraph">
<p>C)	&#8203;開&#8203;示&#8203;日&#8203;及&#8203;び&#8203;同&#8203;日&#8203;か&#8203;ら&#8203;起&#8203;算&#8203;し&#8203;て&#8203;20&#8203;営&#8203;業&#8203;日&#8203;を&#8203;経&#8203;過&#8203;し&#8203;た&#8203;日&#8203;ま&#8203;で&#8203;の&#8203;期&#8203;間、&#8203;訂&#8203;正&#8203;開&#8203;示&#8203;等&#8203;が&#8203;行&#8203;わ&#8203;れ&#8203;て&#8203;い&#8203;な&#8203;い&#8203;こ&#8203;と</p>
</div>
<div class="paragraph">
<p>D)	&#8203;開&#8203;示&#8203;日&#8203;及&#8203;び&#8203;同&#8203;日&#8203;か&#8203;ら&#8203;起&#8203;算&#8203;し&#8203;て&#8203;20&#8203;営&#8203;業&#8203;日&#8203;を&#8203;経&#8203;過&#8203;し&#8203;た&#8203;日&#8203;ま&#8203;で&#8203;の&#8203;期&#8203;間、&#8203;上&#8203;場&#8203;廃&#8203;止&#8203;に&#8203;なっ&#8203;て&#8203;い&#8203;な&#8203;い&#8203;こ&#8203;と</p>
</div>
<div class="paragraph">
<p>条&#8203;件&#8203;C&#8203;に&#8203;示&#8203;す&#8203;「訂&#8203;正&#8203;開&#8203;示&#8203;等」&#8203;と&#8203;は、&#8203;決&#8203;算&#8203;発&#8203;表&#8203;資&#8203;料&#8203;の&#8203;訂&#8203;正、&#8203;業&#8203;績&#8203;予&#8203;想&#8203;の&#8203;修&#8203;正・&#8203;予&#8203;想&#8203;値&#8203;と&#8203;決&#8203;算&#8203;値&#8203;と&#8203;の&#8203;差&#8203;異&#8203;等、&#8203;配&#8203;当&#8203;予&#8203;想・&#8203;配&#8203;当&#8203;予&#8203;想&#8203;の&#8203;修&#8203;正&#8203;に&#8203;か&#8203;か&#8203;る&#8203;開&#8203;示&#8203;を&#8203;指&#8203;し&#8203;ま&#8203;す。&#8203;こ&#8203;れ&#8203;ら&#8203;の&#8203;詳&#8203;細&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;は、&#8203;以&#8203;下&#8203;の&#8203;と&#8203;お&#8203;り&#8203;で&#8203;す。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>決&#8203;算&#8203;発&#8203;表&#8203;資&#8203;料&#8203;の&#8203;訂&#8203;正&#8203;<br>
&#8203;決&#8203;算&#8203;短&#8203;信&#8203;等&#8203;を&#8203;開&#8203;示&#8203;し&#8203;た&#8203;後&#8203;に、&#8203;開&#8203;示&#8203;し&#8203;た&#8203;内&#8203;容&#8203;に&#8203;つ&#8203;い&#8203;て、&#8203;変&#8203;更&#8203;又&#8203;は&#8203;訂&#8203;正&#8203;す&#8203;べ&#8203;き&#8203;事&#8203;情&#8203;が&#8203;生&#8203;じ&#8203;た&#8203;場&#8203;合&#8203;に&#8203;義&#8203;務&#8203;付&#8203;け&#8203;ら&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;訂&#8203;正&#8203;開&#8203;示&#8203;を&#8203;い&#8203;い&#8203;ま&#8203;す。</p>
</li>
<li>
<p>業&#8203;績&#8203;予&#8203;想&#8203;の&#8203;修&#8203;正・&#8203;予&#8203;想&#8203;値&#8203;と&#8203;決&#8203;算&#8203;値&#8203;と&#8203;の&#8203;差&#8203;異&#8203;等&#8203;<br>
&#8203;売&#8203;上&#8203;高&#8203;や&#8203;営&#8203;業&#8203;利&#8203;益、&#8203;経&#8203;常&#8203;利&#8203;益、&#8203;当&#8203;期&#8203;純&#8203;利&#8203;益&#8203;等&#8203;に&#8203;つ&#8203;い&#8203;て、&#8203;公&#8203;表&#8203;が&#8203;さ&#8203;れ&#8203;た&#8203;直&#8203;近&#8203;の&#8203;予&#8203;想&#8203;値&#8203;等&#8203;と&#8203;比&#8203;較&#8203;し&#8203;て、&#8203;新&#8203;た&#8203;に&#8203;算&#8203;出&#8203;し&#8203;た&#8203;予&#8203;想&#8203;値&#8203;ま&#8203;た&#8203;は&#8203;決&#8203;算&#8203;に&#8203;お&#8203;け&#8203;る&#8203;数&#8203;値&#8203;に&#8203;一&#8203;定&#8203;以&#8203;上&#8203;の&#8203;差&#8203;異&#8203;が&#8203;生&#8203;じ&#8203;た&#8203;場&#8203;合&#8203;に&#8203;義&#8203;務&#8203;付&#8203;け&#8203;ら&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;開&#8203;示&#8203;を&#8203;い&#8203;い&#8203;ま&#8203;す。</p>
</li>
<li>
<p>配&#8203;当&#8203;予&#8203;想・&#8203;配&#8203;当&#8203;予&#8203;想&#8203;の&#8203;修&#8203;正&#8203;<br>
&#8203;公&#8203;表&#8203;が&#8203;さ&#8203;れ&#8203;た&#8203;直&#8203;近&#8203;の&#8203;配&#8203;当&#8203;の&#8203;予&#8203;想&#8203;値&#8203;と&#8203;比&#8203;較&#8203;し&#8203;て、&#8203;新&#8203;た&#8203;に&#8203;算&#8203;出&#8203;し&#8203;た&#8203;予&#8203;想&#8203;値&#8203;に&#8203;差&#8203;異&#8203;が&#8203;生&#8203;じ&#8203;た&#8203;場&#8203;合&#8203;を&#8203;含&#8203;め、&#8203;剰&#8203;余&#8203;金&#8203;の&#8203;配&#8203;当&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;予&#8203;想&#8203;値&#8203;を&#8203;算&#8203;出&#8203;し&#8203;た&#8203;場&#8203;合&#8203;に&#8203;義&#8203;務&#8203;付&#8203;け&#8203;ら&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;開&#8203;示&#8203;を&#8203;い&#8203;い&#8203;ま&#8203;す。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>ま&#8203;た、&#8203;決&#8203;算&#8203;短&#8203;信&#8203;の&#8203;訂&#8203;正&#8203;開&#8203;示&#8203;等&#8203;が、&#8203;次&#8203;に&#8203;挙&#8203;げ&#8203;る&#8203;条&#8203;件&#8203;を&#8203;全&#8203;て&#8203;満&#8203;た&#8203;す&#8203;場&#8203;合、&#8203;こ&#8203;れ&#8203;も&#8203;予&#8203;測&#8203;対&#8203;象&#8203;に&#8203;含&#8203;ま&#8203;れ&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>E)	&#8203;直&#8203;近&#8203;の&#8203;決&#8203;算&#8203;期&#8203;末&#8203;ま&#8203;た&#8203;は&#8203;四&#8203;半&#8203;期&#8203;期&#8203;末&#8203;に&#8203;係&#8203;る&#8203;決&#8203;算&#8203;短&#8203;信&#8203;に&#8203;対&#8203;す&#8203;る&#8203;訂&#8203;正&#8203;開&#8203;示&#8203;等&#8203;で&#8203;あ&#8203;る&#8203;こ&#8203;と</p>
</div>
<div class="paragraph">
<p>F)	2021&#8203;年&#8203;3&#8203;月&#8203;27&#8203;日&#8203;か&#8203;ら&#8203;同&#8203;年&#8203;5&#8203;月&#8203;15&#8203;日&#8203;ま&#8203;で&#8203;の&#8203;期&#8203;間&#8203;に&#8203;開&#8203;示&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と</p>
</div>
<div class="paragraph">
<p>G)	&#8203;訂&#8203;正&#8203;開&#8203;示&#8203;等&#8203;の&#8203;開&#8203;示&#8203;日&#8203;及&#8203;び&#8203;同&#8203;日&#8203;か&#8203;ら&#8203;起&#8203;算&#8203;し&#8203;て&#8203;20&#8203;営&#8203;業&#8203;日&#8203;を&#8203;経&#8203;過&#8203;し&#8203;た&#8203;日&#8203;ま&#8203;で&#8203;の&#8203;期&#8203;間、&#8203;当&#8203;該&#8203;開&#8203;示&#8203;に&#8203;対&#8203;す&#8203;る&#8203;訂&#8203;正&#8203;開&#8203;示&#8203;等&#8203;が&#8203;行&#8203;わ&#8203;れ&#8203;て&#8203;い&#8203;な&#8203;い&#8203;こ&#8203;と</p>
</div>
<div class="paragraph">
<p>H)	&#8203;訂&#8203;正&#8203;開&#8203;示&#8203;等&#8203;の&#8203;開&#8203;示&#8203;日&#8203;及&#8203;び&#8203;同&#8203;日&#8203;か&#8203;ら&#8203;起&#8203;算&#8203;し&#8203;て&#8203;20&#8203;営&#8203;業&#8203;日&#8203;を&#8203;経&#8203;過&#8203;し&#8203;た&#8203;日&#8203;ま&#8203;で&#8203;の&#8203;期&#8203;間、&#8203;上&#8203;場&#8203;廃&#8203;止&#8203;に&#8203;なっ&#8203;て&#8203;い&#8203;な&#8203;い&#8203;こ&#8203;と</p>
</div>
<div class="paragraph">
<p>な&#8203;お、&#8203;あ&#8203;る&#8203;同&#8203;一&#8203;銘&#8203;柄&#8203;に&#8203;つ&#8203;い&#8203;て、&#8203;こ&#8203;れ&#8203;ら&#8203;の&#8203;条&#8203;件&#8203;を&#8203;満&#8203;た&#8203;す&#8203;決&#8203;算&#8203;短&#8203;信&#8203;が&#8203;複&#8203;数&#8203;存&#8203;在&#8203;す&#8203;る&#8203;場&#8203;合&#8203;は、&#8203;最&#8203;も&#8203;新&#8203;し&#8203;く&#8203;開&#8203;示&#8203;さ&#8203;れ&#8203;た&#8203;も&#8203;の&#8203;の&#8203;み&#8203;を&#8203;予&#8203;測&#8203;の&#8203;対&#8203;象&#8203;と&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>（追&#8203;記：&#8203;予&#8203;測&#8203;対&#8203;象&#8203;期&#8203;間&#8203;の&#8203;20&#8203;営&#8203;業&#8203;日&#8203;の&#8203;全&#8203;て&#8203;に&#8203;お&#8203;い&#8203;て、&#8203;株&#8203;価&#8203;が&#8203;存&#8203;在&#8203;し&#8203;な&#8203;い&#8203;銘&#8203;柄&#8203;は、&#8203;評&#8203;価&#8203;の&#8203;対&#8203;象&#8203;外&#8203;と&#8203;し&#8203;ま&#8203;す。）</p>
</div>
<div class="paragraph">
<p>以&#8203;上&#8203;を&#8203;踏&#8203;ま&#8203;え、&#8203;各&#8203;決&#8203;算&#8203;短&#8203;信&#8203;等&#8203;（訂&#8203;正&#8203;開&#8203;示&#8203;等&#8203;を&#8203;含&#8203;み&#8203;ま&#8203;す。）&#8203;が&#8203;予&#8203;測&#8203;対&#8203;象&#8203;に&#8203;該&#8203;当&#8203;す&#8203;る&#8203;か&#8203;ど&#8203;う&#8203;か&#8203;の&#8203;事&#8203;例&#8203;を、&#8203;図&#8203;に&#8203;示&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/predict_target.png" alt="predict_target">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_評価方法">2.1.3. 評価方法</h4>
<div class="paragraph">
<p>本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;で&#8203;は、&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;予&#8203;測&#8203;と&#8203;真&#8203;の&#8203;値&#8203;（決&#8203;算&#8203;短&#8203;信&#8203;の&#8203;開&#8203;示&#8203;後&#8203;か&#8203;ら&#8203;起&#8203;算&#8203;し&#8203;て&#8203;20&#8203;営&#8203;業&#8203;日&#8203;以&#8203;内&#8203;に&#8203;発&#8203;生&#8203;す&#8203;る&#8203;最&#8203;高&#8203;値&#8203;及&#8203;び&#8203;最&#8203;安&#8203;値）&#8203;と&#8203;の&#8203;順&#8203;位&#8203;相&#8203;関&#8203;係&#8203;数&#8203;（算&#8203;出&#8203;式&#8203;１）&#8203;に&#8203;よ&#8203;る&#8203;定&#8203;量&#8203;評&#8203;価&#8203;方&#8203;法&#8203;を&#8203;採&#8203;用&#8203;し&#8203;ま&#8203;す。&#8203;<br></p>
</div>
<div class="paragraph">
<p>先&#8203;ず、&#8203;最&#8203;高&#8203;値&#8203;も&#8203;し&#8203;く&#8203;は&#8203;最&#8203;安&#8203;値&#8203;へ&#8203;の&#8203;変&#8203;化&#8203;率&#8203;に&#8203;つ&#8203;い&#8203;て、&#8203;（算&#8203;出&#8203;式&#8203;１）&#8203;を&#8203;用&#8203;い&#8203;て&#8203;そ&#8203;れ&#8203;ぞ&#8203;れ&#8203;ス&#8203;ピ&#8203;ア&#8203;マ&#8203;ン&#8203;の&#8203;順&#8203;位&#8203;相&#8203;関&#8203;係&#8203;数&#8203;を&#8203;計&#8203;算&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>（算&#8203;出&#8203;式&#8203;１）&#8203;順&#8203;位&#8203;相&#8203;関&#8203;係&#8203;数&#8203;の&#8203;計&#8203;算</p>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/math-sample1.svg" alt="math sample1" width="170" height="57">
</div>
</div>
<div class="paragraph">
<p>d = &#8203;対&#8203;応&#8203;す&#8203;る&#8203;X&#8203;と&#8203;Y&#8203;の&#8203;値&#8203;の&#8203;順&#8203;位&#8203;の&#8203;差</p>
</div>
<div class="paragraph">
<p>n = &#8203;値&#8203;の&#8203;ペ&#8203;ア&#8203;の&#8203;数</p>
</div>
<div class="paragraph">
<p>d&#8203;の&#8203;X&#8203;と&#8203;Y&#8203;は、</p>
</div>
<div class="paragraph">
<p>X = &#8203;該&#8203;当&#8203;期&#8203;間&#8203;の&#8203;決&#8203;算&#8203;日&#8203;に&#8203;対&#8203;し&#8203;て&#8203;出&#8203;力&#8203;さ&#8203;れ&#8203;た&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;ス&#8203;コ&#8203;ア&#8203;（予&#8203;測&#8203;値）</p>
</div>
<div class="paragraph">
<p>Y = &#8203;決&#8203;算&#8203;短&#8203;信&#8203;の&#8203;開&#8203;示&#8203;後&#8203;か&#8203;ら&#8203;起&#8203;算&#8203;し&#8203;て&#8203;20&#8203;営&#8203;業&#8203;日&#8203;以&#8203;内&#8203;に&#8203;発&#8203;生&#8203;し&#8203;た&#8203;最&#8203;高&#8203;値&#8203;も&#8203;し&#8203;く&#8203;は&#8203;最&#8203;安&#8203;値&#8203;へ&#8203;の&#8203;変&#8203;化&#8203;率</p>
</div>
</div>
</div>
<div class="paragraph">
<p>(&#8203;式&#8203;は&#8203;一&#8203;部&#8203;英&#8203;語&#8203;Wikipedia&#8203;ス&#8203;ピ&#8203;ア&#8203;マ&#8203;ン&#8203;の&#8203;順&#8203;位&#8203;相&#8203;関&#8203;係&#8203;数&#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://ja.wikipedia.org/wiki/%E3%82%B9%E3%83%94%E3%82%A2%E3%83%9E%E3%83%B3%E3%81%AE%E9%A0%86%E4%BD%8D%E7%9B%B8%E9%96%A2%E4%BF%82%E6%95%B0">https://en.wikipedia.org/wiki/Spearman%27s_rank_correlation_coefficient</a>)</p>
</div>
<div class="paragraph">
<p>そ&#8203;の&#8203;上&#8203;で、&#8203;そ&#8203;れ&#8203;ぞ&#8203;れ&#8203;の&#8203;順&#8203;位&#8203;相&#8203;関&#8203;係&#8203;数&#8203;を&#8203;以&#8203;下&#8203;の&#8203;（算&#8203;出&#8203;式&#8203;２）&#8203;を&#8203;用&#8203;い&#8203;て&#8203;算&#8203;出&#8203;し&#8203;た&#8203;統&#8203;合&#8203;ス&#8203;コ&#8203;ア&#8203;を&#8203;最&#8203;終&#8203;ス&#8203;コ&#8203;ア&#8203;と&#8203;し&#8203;て&#8203;評&#8203;価&#8203;し&#8203;ま&#8203;す。&#8203;<br>
な&#8203;お、&#8203;最&#8203;終&#8203;ス&#8203;コ&#8203;ア&#8203;は&#8203;0～8&#8203;の&#8203;値&#8203;を&#8203;と&#8203;り、&#8203;精&#8203;度&#8203;が&#8203;高&#8203;い&#8203;ほ&#8203;ど&#8203; <strong>&#8203;小&#8203;さ&#8203;な&#8203;値&#8203;</strong> &#8203;と&#8203;な&#8203;り&#8203;ま&#8203;す。
（た&#8203;だ&#8203;し、&#8203;予&#8203;測&#8203;対&#8203;象&#8203;期&#8203;間&#8203;の&#8203;20&#8203;営&#8203;業&#8203;日&#8203;の&#8203;全&#8203;て&#8203;に&#8203;お&#8203;い&#8203;て、&#8203;株&#8203;価&#8203;が&#8203;存&#8203;在&#8203;し&#8203;な&#8203;い&#8203;銘&#8203;柄&#8203;は、&#8203;評&#8203;価&#8203;の&#8203;対&#8203;象&#8203;外&#8203;と&#8203;し&#8203;ま&#8203;す。）</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>（算&#8203;出&#8203;式&#8203;２）&#8203;最&#8203;終&#8203;ス&#8203;コ&#8203;ア&#8203;の&#8203;計&#8203;算</p>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/math-sample2.svg" alt="math sample2" width="291" height="33">
</div>
</div>
<div class="paragraph">
<p>P_high : &#8203;最&#8203;高&#8203;値&#8203;の&#8203;順&#8203;位&#8203;相&#8203;関&#8203;係&#8203;数</p>
</div>
<div class="paragraph">
<p>P_low : &#8203;最&#8203;安&#8203;値&#8203;の&#8203;順&#8203;位&#8203;相&#8203;関&#8203;係&#8203;数</p>
</div>
</div>
</div>
<div class="paragraph">
<p>今&#8203;回、&#8203;順&#8203;位&#8203;相&#8203;関&#8203;係&#8203;数&#8203;を&#8203;採&#8203;用&#8203;す&#8203;る&#8203;理&#8203;由&#8203;と&#8203;し&#8203;て&#8203;は、&#8203;以&#8203;下&#8203;の&#8203;説&#8203;明&#8203;に&#8203;も&#8203;あ&#8203;る&#8203;と&#8203;お&#8203;り、&#8203;金&#8203;融&#8203;商&#8203;品&#8203;の&#8203;価&#8203;格&#8203;変&#8203;動&#8203;の&#8203;変&#8203;化&#8203;率&#8203;の&#8203;分&#8203;布&#8203;は&#8203;必&#8203;ず&#8203;し&#8203;も&#8203;正&#8203;規&#8203;分&#8203;布&#8203;に&#8203;な&#8203;る&#8203;と&#8203;は&#8203;限&#8203;り&#8203;ま&#8203;せ&#8203;ん。
そ&#8203;の&#8203;た&#8203;め、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;で&#8203;は、&#8203;特&#8203;定&#8203;の&#8203;分&#8203;布&#8203;を&#8203;仮&#8203;定&#8203;し&#8203;な&#8203;い&#8203;順&#8203;位&#8203;相&#8203;関&#8203;係&#8203;数&#8203;を&#8203;採&#8203;用&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>一&#8203;定&#8203;間&#8203;隔&#8203;刻&#8203;み&#8203;で&#8203;集&#8203;計&#8203;し&#8203;た&#8203;騰&#8203;落&#8203;率&#8203;の&#8203;度&#8203;数&#8203;（頻&#8203;度）&#8203;分&#8203;布&#8203;が、&#8203;騰&#8203;落&#8203;率&#8203;の&#8203;平&#8203;均&#8203;値&#8203;を&#8203;中&#8203;心&#8203;軸&#8203;と&#8203;し&#8203;て&#8203;左&#8203;右&#8203;対&#8203;称&#8203;の&#8203;釣&#8203;り&#8203;鐘&#8203;型&#8203;の&#8203;形&#8203;状&#8203;に&#8203;な&#8203;る&#8203;分&#8203;布&#8203; (&#8203;正&#8203;規&#8203;分&#8203;布&#8203;＝Normal Distribution) &#8203;で&#8203;は、&#8203;「平&#8203;均&#8203;値&#8203;±&#8203;標&#8203;準&#8203;偏&#8203;差」&#8203;の&#8203;範&#8203;囲&#8203;に&#8203;全&#8203;デー&#8203;タ&#8203;の&#8203;約&#8203;7&#8203;割&#8203;が&#8203;収&#8203;ま&#8203;る&#8203;と&#8203;い&#8203;う&#8203;確&#8203;率&#8203;的&#8203;な&#8203;特&#8203;性&#8203;を&#8203;持&#8203;ち&#8203;ま&#8203;す。&#8203;た&#8203;だ&#8203;し、&#8203;金&#8203;融&#8203;商&#8203;品&#8203;の&#8203;価&#8203;格&#8203;変&#8203;動&#8203;が&#8203;厳&#8203;密&#8203;な&#8203;意&#8203;味&#8203;で&#8203;の&#8203;正&#8203;規&#8203;分&#8203;布&#8203;に&#8203;従&#8203;う&#8203;こ&#8203;と&#8203;は&#8203;実&#8203;際&#8203;上&#8203;ほ&#8203;と&#8203;ん&#8203;ど&#8203;あ&#8203;り&#8203;ま&#8203;せ&#8203;ん。&#8203;こ&#8203;の&#8203;た&#8203;め、&#8203;「平&#8203;均&#8203;±&#8203;標&#8203;準&#8203;偏&#8203;差&#8203;の&#8203;範&#8203;囲&#8203;に&#8203;騰&#8203;落&#8203;率&#8203;の&#8203;約&#8203;7&#8203;割&#8203;が&#8203;収&#8203;ま&#8203;る」&#8203;と&#8203;い&#8203;う&#8203;考&#8203;え&#8203;方&#8203;は&#8203;理&#8203;論&#8203;的&#8203;な&#8203;目&#8203;安&#8203;に&#8203;過&#8203;ぎ&#8203;な&#8203;く、&#8203;発&#8203;生&#8203;確&#8203;率&#8203;は&#8203;低&#8203;い&#8203;も&#8203;の&#8203;の&#8203;標&#8203;準&#8203;偏&#8203;差&#8203;を&#8203;大&#8203;幅&#8203;に&#8203;超&#8203;す&#8203;価&#8203;格&#8203;変&#8203;動&#8203;も&#8203;起&#8203;こ&#8203;り&#8203;え&#8203;ま&#8203;す。&#8203;こ&#8203;う&#8203;し&#8203;た&#8203;価&#8203;格&#8203;変&#8203;動&#8203;の&#8203;リ&#8203;ス&#8203;ク&#8203;を&#8203;テー&#8203;ル&#8203;リ&#8203;ス&#8203;ク&#8203;と&#8203;呼&#8203;び、&#8203;と&#8203;く&#8203;に、&#8203;金&#8203;融&#8203;市&#8203;場&#8203;の&#8203;混&#8203;乱&#8203;期&#8203;に&#8203;は&#8203;分&#8203;布&#8203;が&#8203;マ&#8203;イ&#8203;ナ&#8203;ス&#8203;方&#8203;向&#8203;に&#8203;偏&#8203;る&#8203;ケー&#8203;ス&#8203;や、&#8203;裾&#8203;が&#8203;極&#8203;端&#8203;に&#8203;広&#8203;く&#8203;厚&#8203;い&#8203;"&#8203;ファッ&#8203;ト・&#8203;テー&#8203;ル&#8203;"&#8203;と&#8203;い&#8203;う&#8203;現&#8203;象&#8203;が&#8203;確&#8203;認&#8203;で&#8203;き&#8203;ま&#8203;す。</p>
</div>
</div>
</div>
<div class="paragraph">
<p>(&#8203;野&#8203;村&#8203;証&#8203;券&#8203;証&#8203;券&#8203;用&#8203;語&#8203;解&#8203;説&#8203;集&#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://www.nomura.co.jp/terms/japan/hi/A02397.html" class="bare">https://www.nomura.co.jp/terms/japan/hi/A02397.html</a>)</p>
</div>
<div class="paragraph">
<p>本&#8203;コ&#8203;ン&#8203;ペ&#8203;に&#8203;お&#8203;い&#8203;て&#8203;も、&#8203;例&#8203;え&#8203;ば&#8203;新&#8203;型&#8203;コ&#8203;ロ&#8203;ナ&#8203;ウ&#8203;イ&#8203;ル&#8203;ス&#8203;感&#8203;染&#8203;症&#8203; (COVID-19)&#8203;の&#8203;よ&#8203;う&#8203;な&#8203;外&#8203;部&#8203;影&#8203;響&#8203;を&#8203;受&#8203;け、&#8203;マー&#8203;ケッ&#8203;ト&#8203;の&#8203;変&#8203;化&#8203;率&#8203;の&#8203;分&#8203;布&#8203;が&#8203;歪&#8203;む&#8203;期&#8203;間&#8203;が&#8203;存&#8203;在&#8203;す&#8203;る&#8203;と&#8203;想&#8203;定&#8203;さ&#8203;れ&#8203;ま&#8203;す。&#8203;し&#8203;た&#8203;がっ&#8203;て、&#8203;順&#8203;位&#8203;相&#8203;関&#8203;係&#8203;数&#8203;は&#8203;相&#8203;関&#8203;係&#8203;数&#8203;と&#8203;比&#8203;較&#8203;し&#8203;て&#8203;特&#8203;定&#8203;の&#8203;分&#8203;布&#8203;を&#8203;仮&#8203;定&#8203;し&#8203;な&#8203;い&#8203;こ&#8203;と&#8203;か&#8203;ら、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;に&#8203;お&#8203;い&#8203;て&#8203;は、&#8203;よ&#8203;り&#8203;適&#8203;し&#8203;た&#8203;評&#8203;価&#8203;方&#8203;法&#8203;で&#8203;あ&#8203;る&#8203;と&#8203;考&#8203;え&#8203;ら&#8203;れ&#8203;ま&#8203;す。</p>
</div>
</div>
<div class="sect3">
<h4 id="_リーダーボード">2.1.4. リーダーボード</h4>
<div class="paragraph">
<p>一&#8203;般&#8203;的&#8203;に、&#8203;デー&#8203;タ&#8203;分&#8203;析&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;に&#8203;お&#8203;け&#8203;る&#8203;リー&#8203;ダー&#8203;ボー&#8203;ド&#8203;（Leaderboard）&#8203;と&#8203;は、&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;参&#8203;加&#8203;者&#8203;の&#8203;投&#8203;稿&#8203;内&#8203;容&#8203;に&#8203;対&#8203;す&#8203;る&#8203;評&#8203;価&#8203;（ス&#8203;コ&#8203;ア、&#8203;実&#8203;行&#8203;時&#8203;間&#8203;等）&#8203;を&#8203;ラ&#8203;ン&#8203;キ&#8203;ン&#8203;グ&#8203;形&#8203;式&#8203;で&#8203;並&#8203;べ&#8203;る&#8203;表&#8203;を&#8203;意&#8203;味&#8203;し&#8203;ま&#8203;す。&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;で&#8203;提&#8203;供&#8203;す&#8203;る&#8203;リー&#8203;ダー&#8203;ボー&#8203;ド&#8203;は、&#8203;パ&#8203;ブ&#8203;リッ&#8203;ク&#8203;リー&#8203;ダー&#8203;ボー&#8203;ド&#8203;（以&#8203;下、&#8203;Public LB）&#8203;と&#8203;プ&#8203;ラ&#8203;イ&#8203;ベー&#8203;ト&#8203;リー&#8203;ダー&#8203;ボー&#8203;ド&#8203;（以&#8203;下、&#8203;Private LB）&#8203;の&#8203;2&#8203;つ&#8203;で&#8203;構&#8203;成&#8203;さ&#8203;れ&#8203;ま&#8203;す。&#8203;以&#8203;下&#8203;で&#8203;は、&#8203;そ&#8203;れ&#8203;ぞ&#8203;れ&#8203;の&#8203;リー&#8203;ダー&#8203;ボー&#8203;ド&#8203;の&#8203;仕&#8203;様&#8203;等&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;説&#8203;明&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>ま&#8203;ず、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;Public LB&#8203;は、&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;開&#8203;催&#8203;日&#8203;よ&#8203;り&#8203;過&#8203;去&#8203;の&#8203;期&#8203;間&#8203;を&#8203;対&#8203;象&#8203;と&#8203;し&#8203;て&#8203;評&#8203;価&#8203;を&#8203;実&#8203;施&#8203;し&#8203;ま&#8203;す。&#8203;具&#8203;体&#8203;的&#8203;に&#8203;は、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;Public LB&#8203;で&#8203;は、&#8203;2020&#8203;年&#8203;1&#8203;月&#8203;1&#8203;日&#8203;（水）〜&#8203;2020&#8203;年&#8203;11&#8203;月&#8203;30&#8203;日&#8203;（月）&#8203;の&#8203;期&#8203;間&#8203;中&#8203;に&#8203;開&#8203;示&#8203;さ&#8203;れ&#8203;た&#8203;決&#8203;算&#8203;短&#8203;信&#8203;等&#8203;を&#8203;対&#8203;象&#8203;に、&#8203;開&#8203;示&#8203;日&#8203;よ&#8203;り&#8203;起&#8203;算&#8203;し&#8203;て&#8203;20&#8203;営&#8203;業&#8203;日&#8203;を&#8203;経&#8203;過&#8203;し&#8203;た&#8203;期&#8203;間&#8203;に&#8203;お&#8203;け&#8203;る&#8203;最&#8203;高&#8203;値&#8203;及&#8203;び&#8203;最&#8203;安&#8203;値&#8203;を&#8203;予&#8203;測&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>過&#8203;去&#8203;の&#8203;各&#8203;銘&#8203;柄&#8203;の&#8203;株&#8203;価&#8203;は、&#8203;各&#8203;Web&#8203;サ&#8203;イ&#8203;ト&#8203;等&#8203;で&#8203;取&#8203;得&#8203;可&#8203;能&#8203;で&#8203;あ&#8203;る&#8203;こ&#8203;と&#8203;か&#8203;ら、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;Public LB&#8203;で&#8203;は&#8203;チー&#8203;ティ&#8203;ン&#8203;グ&#8203;が&#8203;容&#8203;易&#8203;と&#8203;い&#8203;う&#8203;特&#8203;徴&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;そ&#8203;の&#8203;た&#8203;め。&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;Public LB&#8203;は、&#8203;他&#8203;の&#8203;一&#8203;般&#8203;的&#8203;な&#8203;Public LB&#8203;と&#8203;は&#8203;異&#8203;な&#8203;り、&#8203;ス&#8203;コ&#8203;ア&#8203;や&#8203;実&#8203;行&#8203;時&#8203;間&#8203;を&#8203;競&#8203;う&#8203;と&#8203;い&#8203;う&#8203;よ&#8203;り&#8203;は、&#8203;モ&#8203;デ&#8203;ル&#8203;が&#8203;正&#8203;常&#8203;に&#8203;投&#8203;稿&#8203;で&#8203;き&#8203;る&#8203;こ&#8203;と&#8203;を&#8203;確&#8203;認&#8203;す&#8203;る&#8203;た&#8203;め&#8203;の&#8203;環&#8203;境&#8203;と&#8203;し&#8203;て&#8203;位&#8203;置&#8203;付&#8203;け&#8203;ら&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>次&#8203;に、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;Private LB&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;説&#8203;明&#8203;し&#8203;ま&#8203;す。&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;で&#8203;は、&#8203;モ&#8203;デ&#8203;ル&#8203;提&#8203;出&#8203;締&#8203;切&#8203;日&#8203;よ&#8203;り&#8203;も&#8203;将&#8203;来&#8203;の&#8203;デー&#8203;タ&#8203;を&#8203;用&#8203;い&#8203;て、&#8203;Private LB&#8203;を&#8203;出&#8203;力&#8203;し&#8203;ま&#8203;す。&#8203;具&#8203;体&#8203;的&#8203;に&#8203;は、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;Private LB&#8203;で&#8203;は、&#8203;2021&#8203;年&#8203;3&#8203;月&#8203;27&#8203;日&#8203;（土）〜&#8203;2021&#8203;年&#8203;5&#8203;月&#8203;15&#8203;日&#8203;（土）&#8203;に&#8203;開&#8203;示&#8203;さ&#8203;れ&#8203;た&#8203;決&#8203;算&#8203;短&#8203;信&#8203;を&#8203;対&#8203;象&#8203;に、&#8203;そ&#8203;の&#8203;開&#8203;示&#8203;日&#8203;か&#8203;ら&#8203;起&#8203;算&#8203;し&#8203;て&#8203;20&#8203;営&#8203;業&#8203;日&#8203;を&#8203;経&#8203;過&#8203;し&#8203;た&#8203;期&#8203;間&#8203;に&#8203;お&#8203;け&#8203;る&#8203;最&#8203;高&#8203;値&#8203;及&#8203;び&#8203;最&#8203;安&#8203;値&#8203;を&#8203;予&#8203;測&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>ま&#8203;た、&#8203;こ&#8203;の&#8203;予&#8203;測&#8203;に&#8203;当&#8203;たっ&#8203;て&#8203;は、&#8203;決&#8203;算&#8203;短&#8203;信&#8203;の&#8203;開&#8203;示&#8203;日&#8203;の&#8203;期&#8203;間&#8203;に&#8203;応&#8203;じ&#8203;て&#8203;5&#8203;回&#8203;に&#8203;分&#8203;け&#8203;て&#8203;実&#8203;施&#8203;し、&#8203;最&#8203;終&#8203;的&#8203;な&#8203;順&#8203;位&#8203;は&#8203;5&#8203;回&#8203;目&#8203;の&#8203;評&#8203;価&#8203;で&#8203;決&#8203;定&#8203;し&#8203;ま&#8203;す。&#8203;(&#8203;評&#8203;価&#8203;の&#8203;計&#8203;算&#8203;は&#8203;5&#8203;回&#8203;行&#8203;わ&#8203;れ&#8203;ま&#8203;す&#8203;が、&#8203;最&#8203;後&#8203;の&#8203;1&#8203;回&#8203;を&#8203;除&#8203;く&#8203;4&#8203;回&#8203;は&#8203;途&#8203;中&#8203;経&#8203;過&#8203;を&#8203;リー&#8203;ダー&#8203;ボー&#8203;ド&#8203;で&#8203;ご&#8203;確&#8203;認&#8203;い&#8203;た&#8203;だ&#8203;け&#8203;る&#8203;よ&#8203;う&#8203;に&#8203;計&#8203;算&#8203;し&#8203;て&#8203;い&#8203;る&#8203;も&#8203;の&#8203;に&#8203;な&#8203;り&#8203;ま&#8203;す。&#8203;)</p>
</div>
<div class="paragraph">
<p>こ&#8203;の&#8203;5&#8203;回&#8203;の&#8203;評&#8203;価&#8203;の&#8203;ス&#8203;ケ&#8203;ジュー&#8203;ル&#8203;は&#8203;次&#8203;を&#8203;予&#8203;定&#8203;し&#8203;て&#8203;お&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>5&#8203;月&#8203;10&#8203;日&#8203;（月）&#8203;に&#8203;3&#8203;月&#8203;27&#8203;日&#8203;（土）〜&#8203;4&#8203;月&#8203;5&#8203;日&#8203;（月）&#8203;分&#8203;の&#8203;財&#8203;務&#8203;諸&#8203;表&#8203;の&#8203;評&#8203;価</p>
</li>
<li>
<p>5&#8203;月&#8203;17&#8203;日&#8203;（月）&#8203;に&#8203;3&#8203;月&#8203;27&#8203;日&#8203;（土）〜&#8203;4&#8203;月&#8203;12&#8203;日&#8203;（月）&#8203;分&#8203;の&#8203;財&#8203;務&#8203;諸&#8203;表&#8203;の&#8203;評&#8203;価</p>
</li>
<li>
<p>5&#8203;月&#8203;24&#8203;日&#8203;（月）&#8203;に&#8203;3&#8203;月&#8203;27&#8203;日&#8203;（土）〜&#8203;4&#8203;月&#8203;19&#8203;日&#8203;（月）&#8203;分&#8203;の&#8203;財&#8203;務&#8203;諸&#8203;表&#8203;の&#8203;評&#8203;価</p>
</li>
<li>
<p>5&#8203;月&#8203;31&#8203;日&#8203;（月）&#8203;に&#8203;3&#8203;月&#8203;27&#8203;日&#8203;（土）〜&#8203;4&#8203;月&#8203;26&#8203;日&#8203;（月）&#8203;分&#8203;の&#8203;財&#8203;務&#8203;諸&#8203;表&#8203;の&#8203;評&#8203;価</p>
</li>
<li>
<p>6&#8203;月&#8203;14&#8203;日&#8203;（月）&#8203;に&#8203;3&#8203;月&#8203;27&#8203;日&#8203;（土）〜&#8203;5&#8203;月&#8203;15&#8203;日&#8203;（土）&#8203;分&#8203;の&#8203;財&#8203;務&#8203;諸&#8203;表&#8203;の&#8203;評&#8203;価</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>以&#8203;上&#8203;を&#8203;踏&#8203;ま&#8203;え、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;に&#8203;お&#8203;け&#8203;る&#8203;Public LB&#8203;と&#8203;Private LB&#8203;の&#8203;概&#8203;要&#8203;を、&#8203;表&#8203;に&#8203;示&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p><strong>&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;に&#8203;お&#8203;け&#8203;る&#8203;リー&#8203;ダー&#8203;ボー&#8203;ド&#8203;の&#8203;仕&#8203;様&#8203;</strong></p>
</div>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;項&#8203;目&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>Public LB</strong></th>
<th class="tableblock halign-left valign-top"><strong>Private LB</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用&#8203;途</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">モ&#8203;デ&#8203;ル&#8203;が&#8203;正&#8203;常&#8203;に&#8203;投&#8203;稿&#8203;で&#8203;き&#8203;る&#8203;こ&#8203;と&#8203;を&#8203;確&#8203;認&#8203;す&#8203;る&#8203;た&#8203;め&#8203;の&#8203;環&#8203;境</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;最&#8203;終&#8203;的&#8203;な&#8203;ラ&#8203;ン&#8203;キ&#8203;ン&#8203;グ&#8203;を&#8203;表&#8203;示</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">予&#8203;測&#8203;対&#8203;象&#8203;と&#8203;な&#8203;る&#8203;決&#8203;算&#8203;短&#8203;信&#8203;の&#8203;開&#8203;示&#8203;日&#8203;の&#8203;期&#8203;間</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2020&#8203;年&#8203;1&#8203;月&#8203;1&#8203;日&#8203;（水）〜&#8203;2020&#8203;年&#8203;11&#8203;月&#8203;30&#8203;日&#8203;（月）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2021&#8203;年&#8203;3&#8203;月&#8203;27&#8203;日&#8203;（土）〜&#8203;2021&#8203;年&#8203;5&#8203;月&#8203;15&#8203;日&#8203;（土）</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">予&#8203;測&#8203;対&#8203;象&#8203;と&#8203;な&#8203;る&#8203;決&#8203;算&#8203;短&#8203;信&#8203;の&#8203;開&#8203;示&#8203;日&#8203;の&#8203;条&#8203;件</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">各&#8203;銘&#8203;柄&#8203;の&#8203;各&#8203;四&#8203;半&#8203;期&#8203;ご&#8203;と&#8203;に&#8203;一&#8203;番&#8203;開&#8203;示&#8203;日&#8203;が&#8203;新&#8203;し&#8203;い&#8203;開&#8203;示&#8203;　</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.2&#8203;項&#8203;に&#8203;示&#8203;す&#8203;と&#8203;お&#8203;り</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">予&#8203;測&#8203;内&#8203;容</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">決&#8203;算&#8203;短&#8203;信&#8203;の&#8203;開&#8203;示&#8203;日&#8203;か&#8203;ら&#8203;起&#8203;算&#8203;し&#8203;て&#8203;20&#8203;営&#8203;業&#8203;日&#8203;を&#8203;経&#8203;過&#8203;し&#8203;た&#8203;期&#8203;間&#8203;に&#8203;お&#8203;け&#8203;る、&#8203;各&#8203;銘&#8203;柄&#8203;の&#8203;最&#8203;高&#8203;値&#8203;及&#8203;び&#8203;最&#8203;安&#8203;値</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">同&#8203;左</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">評&#8203;価&#8203;方&#8203;法</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.3&#8203;項&#8203;に&#8203;示&#8203;す&#8203;評&#8203;価&#8203;方&#8203;法</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.3&#8203;項&#8203;に&#8203;示&#8203;す&#8203;評&#8203;価&#8203;方&#8203;法&#8203;を、&#8203;5&#8203;回&#8203;の&#8203;決&#8203;算&#8203;短&#8203;信&#8203;開&#8203;示&#8203;期&#8203;間&#8203;に&#8203;応&#8203;じ&#8203;て&#8203;実&#8203;施</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_決算短信財務諸表">2.1.5. 決算短信・財務諸表</h4>
<div class="paragraph">
<p>上&#8203;場&#8203;企&#8203;業&#8203;の&#8203;株&#8203;価&#8203;は、&#8203;各&#8203;社&#8203;の&#8203;経&#8203;営&#8203;状&#8203;態&#8203;等&#8203;を&#8203;反&#8203;映&#8203;し&#8203;て&#8203;日々&#8203;刻々&#8203;と&#8203;変&#8203;化&#8203;し&#8203;ま&#8203;す。&#8203;そ&#8203;の&#8203;た&#8203;め、&#8203;金&#8203;融&#8203;商&#8203;品&#8203;市&#8203;場&#8203;に&#8203;お&#8203;い&#8203;て&#8203;公&#8203;正&#8203;な&#8203;価&#8203;格&#8203;形&#8203;成&#8203;と&#8203;円&#8203;滑&#8203;な&#8203;流&#8203;通&#8203;を&#8203;確&#8203;保&#8203;す&#8203;る&#8203;た&#8203;め&#8203;に&#8203;は&#8203;公&#8203;平&#8203;で&#8203;適&#8203;時、&#8203;適&#8203;切&#8203;な&#8203;情&#8203;報&#8203;開&#8203;示&#8203;が&#8203;必&#8203;要&#8203;不&#8203;可&#8203;欠&#8203;な&#8203;も&#8203;の&#8203;と&#8203;なっ&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>東&#8203;京&#8203;証&#8203;券&#8203;取&#8203;引&#8203;所&#8203;で&#8203;は、&#8203;投&#8203;資&#8203;者&#8203;が&#8203;投&#8203;資&#8203;判&#8203;断&#8203;を&#8203;行&#8203;う&#8203;う&#8203;え&#8203;で&#8203;必&#8203;要&#8203;な&#8203;会&#8203;社&#8203;情&#8203;報&#8203;を、&#8203;迅&#8203;速、&#8203;正&#8203;確&#8203;か&#8203;つ&#8203;公&#8203;平&#8203;に&#8203;提&#8203;供&#8203;す&#8203;る&#8203;た&#8203;め&#8203;の&#8203;制&#8203;度&#8203;と&#8203;し&#8203;て、&#8203;適&#8203;時&#8203;開&#8203;示&#8203;制&#8203;度&#8203;を&#8203;設&#8203;け&#8203;て&#8203;お&#8203;り、&#8203;上&#8203;場&#8203;企&#8203;業&#8203;は、&#8203;報&#8203;道&#8203;機&#8203;関&#8203;等&#8203;を&#8203;通&#8203;じ&#8203;て&#8203;あ&#8203;る&#8203;い&#8203;は&#8203;TDnet&#8203;（適&#8203;時&#8203;開&#8203;示&#8203;情&#8203;報&#8203;伝&#8203;達&#8203;シ&#8203;ス&#8203;テ&#8203;ム）&#8203;に&#8203;よ&#8203;り&#8203;直&#8203;接&#8203;に、&#8203;広&#8203;く、&#8203;か&#8203;つ&#8203;タ&#8203;イ&#8203;ム&#8203;リー&#8203;に&#8203;伝&#8203;達&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;と&#8203;い&#8203;う&#8203;特&#8203;徴&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;適&#8203;時&#8203;開&#8203;示&#8203;制&#8203;度&#8203;の&#8203;下&#8203;で&#8203;上&#8203;場&#8203;企&#8203;業&#8203;が&#8203;開&#8203;示&#8203;す&#8203;る&#8203;資&#8203;料&#8203;の&#8203;こ&#8203;と&#8203;を、&#8203;適&#8203;時&#8203;開&#8203;示&#8203;資&#8203;料&#8203;と&#8203;呼&#8203;び&#8203;ま&#8203;す。&#8203;適&#8203;時&#8203;開&#8203;示&#8203;資&#8203;料&#8203;と&#8203;そ&#8203;の&#8203;メ&#8203;タ&#8203;デー&#8203;タ&#8203;（タ&#8203;イ&#8203;ト&#8203;ル、&#8203;開&#8203;示&#8203;日&#8203;時&#8203;等）&#8203;を&#8203;総&#8203;称&#8203;し&#8203;て&#8203;適&#8203;時&#8203;開&#8203;示&#8203;情&#8203;報&#8203;と&#8203;呼&#8203;び、&#8203;適&#8203;時&#8203;開&#8203;示&#8203;情&#8203;報&#8203;は&#8203;「<a href="https://www.release.tdnet.info/inbs/I_main_00.html">適時開示情報閲覧サービス</a>」&#8203;で&#8203;開&#8203;示&#8203;さ&#8203;れ&#8203;ま&#8203;す。&#8203;下&#8203;図&#8203;に&#8203;投&#8203;資&#8203;家&#8203;に&#8203;お&#8203;け&#8203;る&#8203;適&#8203;時&#8203;開&#8203;示&#8203;資&#8203;料&#8203;の&#8203;代&#8203;表&#8203;的&#8203;な&#8203;用&#8203;途&#8203;を&#8203;示&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p><strong>&#8203;投&#8203;資&#8203;家&#8203;に&#8203;お&#8203;け&#8203;る&#8203;適&#8203;時&#8203;開&#8203;示&#8203;資&#8203;料&#8203;の&#8203;代&#8203;表&#8203;的&#8203;な&#8203;用&#8203;途&#8203;</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/structure.png" alt="structure">
</div>
</div>
<div class="paragraph">
<p>(&#8203;開&#8203;示&#8203;資&#8203;料&#8203;と&#8203;翻&#8203;訳&#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://aamt.info/wp-content/uploads/2019/11/%E3%83%91%E3%83%8D%E3%83%AB%E3%83%87%E3%82%A3%E3%82%B9%E3%82%AB%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3_%E5%B1%B1%E8%97%A4%E6%95%A6%E5%8F%B2%E6%B0%8F_AAMT2019Tokyo-1.pdf" class="bare">https://aamt.info/wp-content/uploads/2019/11/%E3%83%91%E3%83%8D%E3%83%AB%E3%83%87%E3%82%A3%E3%82%B9%E3%82%AB%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3_%E5%B1%B1%E8%97%A4%E6%95%A6%E5%8F%B2%E6%B0%8F_AAMT2019Tokyo-1.pdf</a>)</p>
</div>
<div class="paragraph">
<p>上&#8203;場&#8203;企&#8203;業&#8203;が&#8203;開&#8203;示&#8203;を&#8203;義&#8203;務&#8203;付&#8203;け&#8203;ら&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;適&#8203;時&#8203;開&#8203;示&#8203;資&#8203;料&#8203;の&#8203;一&#8203;つ&#8203;に、&#8203;決&#8203;算&#8203;短&#8203;信&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;決&#8203;算&#8203;短&#8203;信&#8203;と&#8203;は、&#8203;決&#8203;算&#8203;発&#8203;表&#8203;及&#8203;び&#8203;四&#8203;半&#8203;期&#8203;決&#8203;算&#8203;発&#8203;表&#8203;を&#8203;行&#8203;う&#8203;際&#8203;に、&#8203;決&#8203;算&#8203;内&#8203;容&#8203;の&#8203;要&#8203;点&#8203;を&#8203;ま&#8203;と&#8203;め&#8203;た&#8203;書&#8203;類&#8203;の&#8203;こ&#8203;と&#8203;で&#8203;す。&#8203;本&#8203;資&#8203;料&#8203;で&#8203;は、&#8203;決&#8203;算&#8203;発&#8203;表&#8203;時&#8203;に&#8203;開&#8203;示&#8203;す&#8203;る&#8203;決&#8203;算&#8203;短&#8203;信&#8203;と、&#8203;四&#8203;半&#8203;期&#8203;決&#8203;算&#8203;発&#8203;表&#8203;時&#8203;に&#8203;開&#8203;示&#8203;す&#8203;る&#8203;四&#8203;半&#8203;期&#8203;決&#8203;算&#8203;短&#8203;信&#8203;を&#8203;総&#8203;称&#8203;し&#8203;て、&#8203;決&#8203;算&#8203;短&#8203;信&#8203;と&#8203;呼&#8203;び&#8203;ま&#8203;す。&#8203;上&#8203;場&#8203;企&#8203;業&#8203;は、&#8203;決&#8203;算&#8203;期&#8203;末&#8203;を&#8203;含&#8203;め&#8203;四&#8203;半&#8203;期&#8203;毎&#8203;に&#8203;決&#8203;算&#8203;内&#8203;容&#8203;が&#8203;定&#8203;まっ&#8203;た&#8203;際、&#8203;決&#8203;算&#8203;内&#8203;容&#8203;の&#8203;開&#8203;示&#8203;が&#8203;義&#8203;務&#8203;付&#8203;け&#8203;ら&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;四&#8203;半&#8203;期&#8203;決&#8203;算&#8203;短&#8203;信&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;は、&#8203;金&#8203;商&#8203;法&#8203;に&#8203;基&#8203;づ&#8203;く&#8203;四&#8203;半&#8203;期&#8203;報&#8203;告&#8203;書&#8203;の&#8203;法&#8203;定&#8203;提&#8203;出&#8203;期&#8203;限&#8203;が&#8203;45&#8203;日&#8203;と&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;か&#8203;ら、&#8203;ま&#8203;た、&#8203;決&#8203;算&#8203;短&#8203;信&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;は、&#8203;決&#8203;算&#8203;期&#8203;末&#8203;後&#8203;45&#8203;日&#8203;以&#8203;内&#8203;に&#8203;決&#8203;算&#8203;の&#8203;内&#8203;容&#8203;を&#8203;開&#8203;示&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;を&#8203;東&#8203;証&#8203;が&#8203;要&#8203;請&#8203;し&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;か&#8203;ら、&#8203;決&#8203;算&#8203;短&#8203;信&#8203;等&#8203;の&#8203;多&#8203;く&#8203;は&#8203;期&#8203;末&#8203;後&#8203;45&#8203;日&#8203;以&#8203;内&#8203;に&#8203;開&#8203;示&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;決&#8203;算&#8203;短&#8203;信&#8203;の&#8203;作&#8203;成&#8203;要&#8203;領&#8203;等&#8203;は、&#8203;下&#8203;記&#8203;Web&#8203;サ&#8203;イ&#8203;ト&#8203;で&#8203;公&#8203;開&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>決&#8203;算&#8203;短&#8203;信&#8203;作&#8203;成&#8203;要&#8203;領・&#8203;四&#8203;半&#8203;期&#8203;決&#8203;算&#8203;短&#8203;信&#8203;作&#8203;成&#8203;要&#8203;領&#8203; | &#8203;日&#8203;本&#8203;取&#8203;引&#8203;所&#8203;グ&#8203;ルー&#8203;プ&#8203;<br>
<a href="https://www.jpx.co.jp/equities/listed-co/format/summary/index.html" class="bare">https://www.jpx.co.jp/equities/listed-co/format/summary/index.html</a></p>
</div>
<div class="paragraph">
<p>決&#8203;算&#8203;の&#8203;内&#8203;容&#8203;と&#8203;し&#8203;て&#8203;開&#8203;示&#8203;さ&#8203;れ&#8203;る&#8203;決&#8203;算&#8203;短&#8203;信&#8203;は、&#8203;大&#8203;き&#8203;く、&#8203;サ&#8203;マ&#8203;リー&#8203;情&#8203;報&#8203;と&#8203;添&#8203;付&#8203;資&#8203;料&#8203;で&#8203;構&#8203;成&#8203;さ&#8203;れ&#8203;ま&#8203;す。&#8203;<br></p>
</div>
<div class="paragraph">
<p>サ&#8203;マ&#8203;リー&#8203;情&#8203;報&#8203;は、&#8203;投&#8203;資&#8203;者&#8203;の&#8203;投&#8203;資&#8203;判&#8203;断&#8203;に&#8203;重&#8203;要&#8203;な&#8203;影&#8203;響&#8203;を&#8203;与&#8203;え&#8203;る&#8203;上&#8203;場&#8203;会&#8203;社&#8203;の&#8203;決&#8203;算&#8203;の&#8203;内&#8203;容&#8203;に&#8203;つ&#8203;い&#8203;て、&#8203;そ&#8203;の&#8203;要&#8203;点&#8203;の&#8203;一&#8203;覧&#8203;性&#8203;及&#8203;び&#8203;比&#8203;較&#8203;可&#8203;能&#8203;性&#8203;を&#8203;確&#8203;保&#8203;す&#8203;る&#8203;観&#8203;点&#8203;か&#8203;ら、&#8203;簡&#8203;潔&#8203;に&#8203;取&#8203;り&#8203;ま&#8203;と&#8203;め&#8203;た&#8203;も&#8203;の&#8203;と&#8203;し&#8203;て、&#8203;参&#8203;考&#8203;様&#8203;式&#8203;に&#8203;基&#8203;づ&#8203;い&#8203;て&#8203;東&#8203;証&#8203;が&#8203;作&#8203;成&#8203;を&#8203;要&#8203;請&#8203;し&#8203;て&#8203;い&#8203;る&#8203;資&#8203;料&#8203;で&#8203;す。&#8203;<br></p>
</div>
<div class="paragraph">
<p>添&#8203;付&#8203;資&#8203;料&#8203;と&#8203;は、&#8203;サ&#8203;マ&#8203;リー&#8203;情&#8203;報&#8203;に&#8203;記&#8203;載&#8203;さ&#8203;れ&#8203;る&#8203;主&#8203;要&#8203;な&#8203;決&#8203;算&#8203;数&#8203;値&#8203;を&#8203;投&#8203;資&#8203;者&#8203;が&#8203;適&#8203;切&#8203;に&#8203;理&#8203;解&#8203;で&#8203;き&#8203;る&#8203;よ&#8203;う&#8203;に&#8203;す&#8203;る&#8203;目&#8203;的&#8203;で&#8203;作&#8203;成&#8203;さ&#8203;れ&#8203;る、&#8203;経&#8203;営&#8203;成&#8203;績・&#8203;財&#8203;政&#8203;状&#8203;態&#8203;の&#8203;概&#8203;況、&#8203;今&#8203;後&#8203;の&#8203;見&#8203;通&#8203;し、&#8203;財&#8203;務&#8203;諸&#8203;表、&#8203;主&#8203;な&#8203;注&#8203;記&#8203;等&#8203;を&#8203;記&#8203;載&#8203;し&#8203;た&#8203;資&#8203;料&#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p>前&#8203;述&#8203;の&#8203;と&#8203;お&#8203;り、&#8203;決&#8203;算&#8203;短&#8203;信&#8203;に&#8203;は、&#8203;財&#8203;務&#8203;諸&#8203;表&#8203;が&#8203;添&#8203;付&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;財&#8203;務&#8203;諸&#8203;表&#8203;と&#8203;は、&#8203;財&#8203;政&#8203;状&#8203;態、&#8203;経&#8203;営&#8203;成&#8203;績&#8203;及&#8203;び&#8203;キャッ&#8203;シュ・&#8203;フ&#8203;ロー&#8203;の&#8203;状&#8203;況&#8203;を&#8203;外&#8203;部&#8203;の&#8203;情&#8203;報&#8203;利&#8203;用&#8203;者&#8203;に&#8203;明&#8203;ら&#8203;か&#8203;に&#8203;す&#8203;る&#8203;た&#8203;め&#8203;の&#8203;も&#8203;の&#8203;で、&#8203;有&#8203;価&#8203;証&#8203;券&#8203;届&#8203;出&#8203;書&#8203;や&#8203;有&#8203;価&#8203;証&#8203;券&#8203;報&#8203;告&#8203;書&#8203;等&#8203;に&#8203;記&#8203;載&#8203;さ&#8203;れ&#8203;る&#8203;財&#8203;務&#8203;計&#8203;算&#8203;に&#8203;関&#8203;す&#8203;る&#8203;書&#8203;類&#8203;の&#8203;う&#8203;ち、&#8203;貸&#8203;借&#8203;対&#8203;照&#8203;表、&#8203;損&#8203;益&#8203;計&#8203;算&#8203;書、&#8203;株&#8203;主&#8203;資&#8203;本&#8203;等&#8203;変&#8203;動&#8203;計&#8203;算&#8203;書、&#8203;キャッ&#8203;シュ・&#8203;フ&#8203;ロー&#8203;計&#8203;算&#8203;書&#8203;の&#8203;総&#8203;称&#8203;を&#8203;指&#8203;し&#8203;ま&#8203;す。&#8203;こ&#8203;れ&#8203;ら&#8203;の&#8203;内、&#8203;貸&#8203;借&#8203;対&#8203;照&#8203;表、&#8203;損&#8203;益&#8203;計&#8203;算&#8203;書、&#8203;キャッ&#8203;シュ・&#8203;フ&#8203;ロー&#8203;計&#8203;算&#8203;書&#8203;の&#8203;3&#8203;つ&#8203;は、&#8203;総&#8203;称&#8203;し&#8203;て&#8203;「財&#8203;務&#8203;三&#8203;表」&#8203;と&#8203;呼&#8203;ば&#8203;れ&#8203;て&#8203;お&#8203;り、&#8203;上&#8203;場&#8203;企&#8203;業&#8203;に&#8203;対&#8203;す&#8203;る&#8203;投&#8203;資&#8203;判&#8203;断&#8203;に&#8203;お&#8203;い&#8203;て&#8203;特&#8203;に&#8203;重&#8203;要&#8203;視&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;財&#8203;務&#8203;三&#8203;表&#8203;の&#8203;読&#8203;み&#8203;方&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;は、&#8203;下&#8203;記&#8203;Web&#8203;サ&#8203;イ&#8203;ト&#8203;が&#8203;参&#8203;考&#8203;に&#8203;な&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>投&#8203;資&#8203;に&#8203;不&#8203;可&#8203;欠&#8203;な&#8203;財&#8203;務&#8203;三&#8203;表&#8203;の&#8203;見&#8203;方&#8203; | &#8203;東&#8203;証&#8203;マ&#8203;ネ&#8203;部！&#8203;
<a href="https://money-bu-jpx.com/news/article022723/" class="bare">https://money-bu-jpx.com/news/article022723/</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>ま&#8203;た、&#8203;各&#8203;上&#8203;場&#8203;企&#8203;業&#8203;の&#8203;決&#8203;算&#8203;発&#8203;表&#8203;予&#8203;定&#8203;日&#8203;（決&#8203;算&#8203;短&#8203;信&#8203;の&#8203;開&#8203;示&#8203;予&#8203;定&#8203;日）&#8203;は、&#8203;下&#8203;記&#8203;JPX&#8203;の&#8203;Web&#8203;サ&#8203;イ&#8203;ト&#8203;に&#8203;て&#8203;随&#8203;時&#8203;公&#8203;開&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;投&#8203;資&#8203;家&#8203;の&#8203;投&#8203;資&#8203;判&#8203;断&#8203;に&#8203;お&#8203;い&#8203;て、&#8203;各&#8203;上&#8203;場&#8203;企&#8203;業&#8203;の&#8203;決&#8203;算&#8203;発&#8203;表&#8203;は&#8203;特&#8203;に&#8203;重&#8203;要&#8203;視&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;か&#8203;ら、&#8203;当&#8203;該&#8203;Web&#8203;サ&#8203;イ&#8203;ト&#8203;は&#8203;多&#8203;く&#8203;の&#8203;投&#8203;資&#8203;家&#8203;よ&#8203;り&#8203;注&#8203;目&#8203;を&#8203;集&#8203;め&#8203;て&#8203;い&#8203;る&#8203;と&#8203;推&#8203;察&#8203;さ&#8203;れ&#8203;ま&#8203;す。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>決&#8203;算&#8203;発&#8203;表&#8203;予&#8203;定&#8203;日&#8203; | &#8203;日&#8203;本&#8203;取&#8203;引&#8203;所&#8203;グ&#8203;ルー&#8203;プ&#8203;
　
<a href="https://www.jpx.co.jp/listing/event-schedules/financial-announcement/index.html" class="bare">https://www.jpx.co.jp/listing/event-schedules/financial-announcement/index.html</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>以&#8203;上&#8203;の&#8203;と&#8203;お&#8203;り、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;で&#8203;予&#8203;測&#8203;対&#8203;象&#8203;の&#8203;起&#8203;点&#8203;と&#8203;な&#8203;る&#8203;決&#8203;算&#8203;短&#8203;信&#8203;に&#8203;は、&#8203;各&#8203;上&#8203;場&#8203;企&#8203;業&#8203;の&#8203;重&#8203;要&#8203;な&#8203;決&#8203;算&#8203;内&#8203;容&#8203;が&#8203;記&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;で&#8203;は、&#8203;決&#8203;算&#8203;短&#8203;信&#8203;に&#8203;含&#8203;ま&#8203;れ&#8203;る&#8203;財&#8203;務&#8203;諸&#8203;表&#8203;か&#8203;ら&#8203;抽&#8203;出&#8203;し&#8203;た&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;情&#8203;報&#8203;を&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;ペー&#8203;ジ&#8203;若&#8203;し&#8203;く&#8203;は&#8203;専&#8203;用&#8203;の&#8203;API&#8203;に&#8203;お&#8203;い&#8203;て&#8203;配&#8203;信&#8203;し&#8203;て&#8203;お&#8203;り、&#8203;こ&#8203;れ&#8203;を&#8203;用&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;で&#8203;株&#8203;価&#8203;の&#8203;先&#8203;行&#8203;き&#8203;を&#8203;予&#8203;測&#8203;し&#8203;て&#8203;い&#8203;た&#8203;だ&#8203;き&#8203;ま&#8203;す。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_データセットの説明">2.2. データセットの説明</h3>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で&#8203;は、&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;で&#8203;提&#8203;供&#8203;し&#8203;て&#8203;い&#8203;る&#8203;各&#8203;デー&#8203;タ&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;説&#8203;明&#8203;し&#8203;ま&#8203;す。&#8203;提&#8203;供&#8203;さ&#8203;れ&#8203;る&#8203;デー&#8203;タ&#8203;は&#8203;以&#8203;下&#8203;の&#8203;5&#8203;種&#8203;類&#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p><strong>&#8203;デー&#8203;タ&#8203;概&#8203;要&#8203;</strong></p>
</div>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;ファ&#8203;イ&#8203;ル&#8203;名&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;説&#8203;明&#8203;</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stock_list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">各&#8203;銘&#8203;柄&#8203;の&#8203;情&#8203;報&#8203;が&#8203;記&#8203;録&#8203;さ&#8203;れ&#8203;た&#8203;デー&#8203;タ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stock_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">各&#8203;銘&#8203;柄&#8203;の&#8203;株&#8203;価&#8203;情&#8203;報&#8203;（始&#8203;値・&#8203;高&#8203;値・&#8203;安&#8203;値・&#8203;終&#8203;値&#8203;等）&#8203;が&#8203;記&#8203;録&#8203;さ&#8203;れ&#8203;た&#8203;デー&#8203;タ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stock_fin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">各&#8203;銘&#8203;柄&#8203;の&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;情&#8203;報&#8203;（決&#8203;算&#8203;数&#8203;値&#8203;デー&#8203;タ&#8203;や&#8203;配&#8203;当&#8203;デー&#8203;タ&#8203;等）&#8203;が&#8203;記&#8203;録&#8203;さ&#8203;れ&#8203;た&#8203;デー&#8203;タ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stock_fin_price</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">デー&#8203;タ&#8203;が&#8203;扱&#8203;い&#8203;や&#8203;す&#8203;い&#8203;よ&#8203;う&#8203;に&#8203;stock_price&#8203;及&#8203;び&#8203;stock_fin&#8203;を&#8203;マー&#8203;ジ&#8203;し&#8203;た&#8203;デー&#8203;タ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">stock_labels</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;で&#8203;学&#8203;習&#8203;に&#8203;用&#8203;い&#8203;る&#8203;ラ&#8203;ベ&#8203;ル&#8203;（目&#8203;的&#8203;変&#8203;数）&#8203;が&#8203;記&#8203;録&#8203;さ&#8203;れ&#8203;た&#8203;デー&#8203;タ</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>提&#8203;供&#8203;デー&#8203;タ&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;は、&#8203;2016&#8203;年&#8203;1&#8203;月&#8203;初&#8203;か&#8203;ら&#8203;2020&#8203;年&#8203;12&#8203;月&#8203;末&#8203;を&#8203;csv&#8203;ファ&#8203;イ&#8203;ル&#8203;形&#8203;式、&#8203;2021&#8203;年&#8203;１&#8203;月&#8203;初&#8203;か&#8203;ら&#8203;の&#8203;デー&#8203;タ&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;は、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;専&#8203;用&#8203;の&#8203;API&#8203;に&#8203;て&#8203;提&#8203;供&#8203;い&#8203;た&#8203;し&#8203;ま&#8203;す。&#8203;API&#8203;に&#8203;よ&#8203;る&#8203;デー&#8203;タ&#8203;取&#8203;得&#8203;に&#8203;つ&#8203;き&#8203;ま&#8203;し&#8203;て&#8203;は、&#8203;5&#8203;章&#8203;を&#8203;ご&#8203;参&#8203;照&#8203;く&#8203;だ&#8203;さ&#8203;い。</p>
</div>
<div class="sect3">
<h4 id="_銘柄情報_stock_list">2.2.1. 銘柄情報: stock_list</h4>
<div class="paragraph">
<p>stock_list&#8203;は、&#8203;銘&#8203;柄&#8203;の&#8203;名&#8203;前&#8203;や&#8203;業&#8203;種&#8203;区&#8203;分&#8203;な&#8203;ど&#8203;の&#8203;基&#8203;本&#8203;情&#8203;報&#8203;が&#8203;含&#8203;ま&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;発&#8203;行&#8203;済&#8203;株&#8203;式&#8203;数&#8203;は、&#8203;会&#8203;社&#8203;が&#8203;発&#8203;行&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;を&#8203;あ&#8203;ら&#8203;か&#8203;じ&#8203;め&#8203;定&#8203;款&#8203;に&#8203;定&#8203;め&#8203;て&#8203;い&#8203;る&#8203;株&#8203;式&#8203;数&#8203;（授&#8203;権&#8203;株&#8203;式&#8203;数）&#8203;の&#8203;う&#8203;ち、&#8203;会&#8203;社&#8203;が&#8203;既&#8203;に&#8203;発&#8203;行&#8203;し&#8203;た&#8203;株&#8203;式&#8203;数&#8203;の&#8203;こ&#8203;と&#8203;で&#8203;す。&#8203;発&#8203;行&#8203;済&#8203;株&#8203;式&#8203;数&#8203;と&#8203;株&#8203;価&#8203;と&#8203;か&#8203;け&#8203;合&#8203;わ&#8203;せ&#8203;て&#8203;時&#8203;価&#8203;総&#8203;額&#8203;を&#8203;計&#8203;算&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;ま&#8203;す。&#8203;時&#8203;価&#8203;総&#8203;額&#8203;は&#8203;企&#8203;業&#8203;価&#8203;値&#8203;を&#8203;評&#8203;価&#8203;す&#8203;る&#8203;際&#8203;に&#8203;用&#8203;い&#8203;ら&#8203;れ&#8203;る&#8203;重&#8203;要&#8203;な&#8203;指&#8203;標&#8203;で&#8203;す。&#8203;業&#8203;種&#8203;区&#8203;分&#8203;情&#8203;報&#8203;は、&#8203;マー&#8203;ケッ&#8203;ト&#8203;に&#8203;お&#8203;け&#8203;る&#8203;業&#8203;種&#8203;別&#8203;の&#8203;平&#8203;均&#8203;な&#8203;ど&#8203;を&#8203;計&#8203;算&#8203;す&#8203;る&#8203;時&#8203;に&#8203;役&#8203;立&#8203;つ&#8203;情&#8203;報&#8203;で&#8203;す。&#8203;33&#8203;業&#8203;種&#8203;は&#8203;証&#8203;券&#8203;コー&#8203;ド&#8203;協&#8203;議&#8203;会&#8203;が&#8203;定&#8203;め&#8203;て&#8203;お&#8203;り、&#8203;17&#8203;業&#8203;種&#8203;は&#8203;TOPIX-17&#8203;シ&#8203;リー&#8203;ズ&#8203;と&#8203;し&#8203;て&#8203;「投&#8203;資&#8203;利&#8203;便&#8203;性&#8203;を&#8203;考&#8203;慮&#8203;し&#8203;て&#8203;17&#8203;業&#8203;種&#8203;に&#8203;再&#8203;編&#8203;し&#8203;た&#8203;も&#8203;の」&#8203;(JPX&#8203;東&#8203;証&#8203;33&#8203;業&#8203;種&#8203;別&#8203;株&#8203;価&#8203;指&#8203;数・&#8203;TOPIX-17&#8203;シ&#8203;リー&#8203;ズ&#8203;ファ&#8203;ク&#8203;ト&#8203;シー&#8203;ト&#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://www.jpx.co.jp/markets/indices/line-up/index.html" class="bare">https://www.jpx.co.jp/markets/indices/line-up/index.html</a>) &#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p>「業&#8203;種」&#8203;(JPX&#8203;用&#8203;語&#8203;集&#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://www.jpx.co.jp/glossary/ka/112.html" class="bare">https://www.jpx.co.jp/glossary/ka/112.html</a>)</p>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 42.8571%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;変&#8203;数&#8203;名&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;説&#8203;明&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;型&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;例&#8203;</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">prediction_target</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">予&#8203;測&#8203;対&#8203;象&#8203;銘&#8203;柄</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Effective Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">銘&#8203;柄&#8203;情&#8203;報&#8203;の&#8203;基&#8203;準&#8203;日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20201030</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">株&#8203;式&#8203;銘&#8203;柄&#8203;コー&#8203;ド</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1301</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name (English)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">銘&#8203;柄&#8203;名</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">KYOKUYO CO.,LTD.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Section/Products</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">市&#8203;場・&#8203;商&#8203;品&#8203;区&#8203;分</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">First Section (Domestic)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">33 Sector(Code)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">銘&#8203;柄&#8203;の&#8203;33&#8203;業&#8203;種&#8203;区&#8203;分&#8203;(&#8203;コー&#8203;ド&#8203;)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">50</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">33 Sector(name)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">銘&#8203;柄&#8203;の&#8203;33&#8203;業&#8203;種&#8203;区&#8203;分&#8203;(&#8203;名&#8203;前&#8203;)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fishery, Agriculture and Forestry</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17 Sector(Code)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">銘&#8203;柄&#8203;の&#8203;17&#8203;業&#8203;種&#8203;区&#8203;分&#8203;(&#8203;コー&#8203;ド&#8203;)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17 Sector(name)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">銘&#8203;柄&#8203;の&#8203;17&#8203;業&#8203;種&#8203;区&#8203;分&#8203;(&#8203;名&#8203;前&#8203;)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FOODS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size Code (New Index Series)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TOPIX&#8203;ニュー&#8203;イ&#8203;ン&#8203;デッ&#8203;ク&#8203;ス&#8203;シ&#8203;リー&#8203;ズ&#8203;規&#8203;模&#8203;区&#8203;分&#8203;(&#8203;コー&#8203;ド&#8203;)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size (New Index Series)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TOPIX&#8203;ニュー&#8203;イ&#8203;ン&#8203;デッ&#8203;ク&#8203;ス&#8203;シ&#8203;リー&#8203;ズ&#8203;規&#8203;模&#8203;区&#8203;分</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TOPIX Small 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IssuedShareEquityQuote AccountingStandard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">会&#8203;計&#8203;基&#8203;準&#8203; &#8203;単&#8203;独&#8203;:NonConsolidated、&#8203;連&#8203;結&#8203;国&#8203;内&#8203;:ConsolidatedJP、&#8203;連&#8203;結&#8203;SEC:ConsolidatedUS、&#8203;連&#8203;結&#8203;IFRS:ConsolidatedIFRS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConsolidatedJP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IssuedShareEquityQuote ModifyDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">更&#8203;新&#8203;日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2020/11/06</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IssuedShareEquityQuote IssuedShare</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">発&#8203;行&#8203;済&#8203;株&#8203;式&#8203;数</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10928283.0</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>(JPX&#8203;東&#8203;証&#8203;上&#8203;場&#8203;銘&#8203;柄&#8203;一&#8203;覧&#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://www.jpx.co.jp/markets/statistics-equities/misc/01.html" class="bare">https://www.jpx.co.jp/markets/statistics-equities/misc/01.html</a>)<br>
(Quick xignite API Market Data API Catalog&#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://www.marketdata-cloud.quick-co.jp/Products/" class="bare">https://www.marketdata-cloud.quick-co.jp/Products/</a>)</p>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/sample_stock_list.png" alt="sample_stock_list">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_株価情報_stock_price">2.2.2. 株価情報 : stock_price</h4>
<div class="paragraph">
<p>stock_price&#8203;に&#8203;は&#8203;各&#8203;銘&#8203;柄&#8203;の&#8203;各&#8203;日&#8203;付&#8203;の&#8203;始&#8203;値&#8203;や&#8203;終&#8203;値&#8203;な&#8203;ど&#8203;の&#8203;株&#8203;価&#8203;情&#8203;報&#8203;が&#8203;記&#8203;録&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;な&#8203;ど&#8203;で&#8203;終&#8203;値&#8203;ベー&#8203;ス&#8203;の&#8203;分&#8203;析&#8203;を&#8203;実&#8203;施&#8203;す&#8203;る&#8203;場&#8203;合&#8203;は、&#8203;ExchangeOfficialClose&#8203;を&#8203;利&#8203;用&#8203;し&#8203;ま&#8203;す。&#8203;<br>
こ&#8203;こ&#8203;で&#8203;い&#8203;う&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;と&#8203;い&#8203;う&#8203;の&#8203;は、&#8203;マー&#8203;ケッ&#8203;ト&#8203;デー&#8203;タ&#8203;か&#8203;ら&#8203;計&#8203;算&#8203;さ&#8203;れ&#8203;る&#8203;指&#8203;標&#8203;に&#8203;基&#8203;づ&#8203;い&#8203;た&#8203;分&#8203;析&#8203;の&#8203;こ&#8203;と&#8203;で&#8203;す。&#8203;ま&#8203;た、&#8203;終&#8203;値&#8203;ベー&#8203;ス&#8203;の&#8203;分&#8203;析&#8203;と&#8203;は、&#8203;マー&#8203;ケッ&#8203;ト&#8203;デー&#8203;タ&#8203;の&#8203;中&#8203;で&#8203;も、&#8203;終&#8203;値&#8203;の&#8203;み&#8203;を&#8203;用&#8203;い&#8203;た&#8203;分&#8203;析&#8203;を&#8203;表&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>株&#8203;価&#8203;情&#8203;報&#8203;は、&#8203;「株&#8203;式&#8203;分&#8203;割」&#8203;や&#8203;「株&#8203;式&#8203;併&#8203;合」&#8203;が&#8203;発&#8203;生&#8203;し&#8203;た&#8203;際&#8203;に&#8203;生&#8203;じ&#8203;る&#8203;株&#8203;価&#8203;の&#8203;変&#8203;動&#8203;を、&#8203;株&#8203;式&#8203;数&#8203;の&#8203;変&#8203;化&#8203;率&#8203;に&#8203;応&#8203;じ&#8203;て&#8203;調&#8203;整&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;特&#8203;徴&#8203;量&#8203;の&#8203;定&#8203;義&#8203;に&#8203;よっ&#8203;て&#8203;は、&#8203;そ&#8203;の&#8203;日&#8203;付&#8203;時&#8203;点&#8203;で&#8203;実&#8203;際&#8203;に&#8203;取&#8203;引&#8203;さ&#8203;れ&#8203;た&#8203;株&#8203;価&#8203;や&#8203;出&#8203;来&#8203;高&#8203;を&#8203;取&#8203;得&#8203;し&#8203;た&#8203;い&#8203;場&#8203;合&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す&#8203;が、&#8203;そ&#8203;の&#8203;場&#8203;合&#8203;は&#8203;累&#8203;積&#8203;調&#8203;整&#8203;係&#8203;数&#8203;を&#8203;使&#8203;用&#8203;し&#8203;て&#8203;<br>
 <code>[&#8203;調&#8203;整&#8203;前&#8203;株&#8203;価&#8203;] = [&#8203;調&#8203;整&#8203;済&#8203;株&#8203;価&#8203;] * [&#8203;累&#8203;積&#8203;調&#8203;整&#8203;係&#8203;数&#8203;]</code> &#8203;及&#8203;び&#8203; <code>[&#8203;調&#8203;整&#8203;前&#8203;出&#8203;来&#8203;高&#8203;] = [&#8203;調&#8203;整&#8203;済&#8203;出&#8203;来&#8203;高&#8203;] / [&#8203;累&#8203;積&#8203;調&#8203;整&#8203;係&#8203;数&#8203;]</code> <br>
 &#8203;と&#8203;い&#8203;う&#8203;計&#8203;算&#8203;で&#8203;算&#8203;出&#8203;可&#8203;能&#8203;で&#8203;す。&#8203;<br>
「株&#8203;式&#8203;分&#8203;割」&#8203;(JPX&#8203;用&#8203;語&#8203;集&#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://www.jpx.co.jp/glossary/ka/81.html" class="bare">https://www.jpx.co.jp/glossary/ka/81.html</a>)<br>
「株&#8203;式&#8203;併&#8203;合」&#8203;(JPX&#8203;用&#8203;語&#8203;集&#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://www.jpx.co.jp/glossary/ka/83.html" class="bare">https://www.jpx.co.jp/glossary/ka/83.html</a>)</p>
</div>
<div class="paragraph">
<p><strong>&#8203;た&#8203;だ&#8203;し、&#8203;こ&#8203;れ&#8203;ら&#8203;の&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;モ&#8203;デ&#8203;ル&#8203;に&#8203;使&#8203;用&#8203;す&#8203;る&#8203;場&#8203;合&#8203;に&#8203;は&#8203;注&#8203;意&#8203;が&#8203;必&#8203;要&#8203;で&#8203;す。&#8203;</strong></p>
</div>
<div class="paragraph">
<p>履&#8203;歴&#8203;デー&#8203;タ&#8203;の&#8203;累&#8203;積&#8203;調&#8203;整&#8203;係&#8203;数&#8203;は&#8203;過&#8203;去&#8203;の&#8203;あ&#8203;る&#8203;日&#8203;時&#8203;点&#8203;で&#8203;は&#8203;知&#8203;り&#8203;得&#8203;な&#8203;い&#8203;未&#8203;来&#8203;の&#8203;情&#8203;報&#8203;を&#8203;含&#8203;ん&#8203;で&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;に&#8203;注&#8203;意&#8203;す&#8203;る&#8203;必&#8203;要&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;具&#8203;体&#8203;的&#8203;に&#8203;は、&#8203;過&#8203;去&#8203;の&#8203;あ&#8203;る&#8203;日&#8203;時&#8203;点&#8203;の&#8203;累&#8203;積&#8203;調&#8203;整&#8203;係&#8203;数&#8203;が&#8203;2&#8203;で&#8203;あ&#8203;る&#8203;場&#8203;合、&#8203;そ&#8203;の&#8203;日&#8203;以&#8203;降&#8203;に&#8203;1:2&#8203;の&#8203;株&#8203;式&#8203;分&#8203;割&#8203;が&#8203;発&#8203;生&#8203;し&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;わ&#8203;か&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>一&#8203;般&#8203;に&#8203;株&#8203;式&#8203;分&#8203;割&#8203;は&#8203;流&#8203;動&#8203;性&#8203;向&#8203;上&#8203;を&#8203;期&#8203;待&#8203;で&#8203;き&#8203;る&#8203;ポ&#8203;ジ&#8203;ティ&#8203;ブ&#8203;な&#8203;イ&#8203;ベ&#8203;ン&#8203;ト&#8203;と&#8203;み&#8203;な&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;仮&#8203;に、&#8203;モ&#8203;デ&#8203;ル&#8203;学&#8203;習&#8203;時&#8203;に&#8203;累&#8203;積&#8203;調&#8203;整&#8203;係&#8203;数&#8203;を&#8203;モ&#8203;デ&#8203;ル&#8203;へ&#8203;入&#8203;力&#8203;し、&#8203;モ&#8203;デ&#8203;ル&#8203;が&#8203;累&#8203;積&#8203;調&#8203;整&#8203;係&#8203;数&#8203;が&#8203;大&#8203;き&#8203;い&#8203;銘&#8203;柄&#8203;は&#8203;未&#8203;来&#8203;の&#8203;株&#8203;価&#8203;が&#8203;上&#8203;が&#8203;る&#8203;傾&#8203;向&#8203;が&#8203;あ&#8203;る&#8203;と&#8203;い&#8203;う&#8203;こ&#8203;と&#8203;を&#8203;学&#8203;習&#8203;し、&#8203;履&#8203;歴&#8203;デー&#8203;タ&#8203;を&#8203;使&#8203;用&#8203;し&#8203;た&#8203;バッ&#8203;ク&#8203;テ&#8203;ス&#8203;ト&#8203;で&#8203;は&#8203;良&#8203;い&#8203;結&#8203;果&#8203;が&#8203;で&#8203;た&#8203;と&#8203;し&#8203;ま&#8203;す。&#8203;し&#8203;か&#8203;し、&#8203;こ&#8203;の&#8203;モ&#8203;デ&#8203;ル&#8203;に&#8203;最&#8203;新&#8203;デー&#8203;タ&#8203;を&#8203;入&#8203;力&#8203;し&#8203;て&#8203;予&#8203;測&#8203;を&#8203;出&#8203;力&#8203;し&#8203;た&#8203;場&#8203;合、&#8203;そ&#8203;の&#8203;予&#8203;測&#8203;は&#8203;期&#8203;待&#8203;す&#8203;る&#8203;結&#8203;果&#8203;を&#8203;得&#8203;ら&#8203;れ&#8203;な&#8203;い&#8203;可&#8203;能&#8203;性&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;な&#8203;ぜ&#8203;な&#8203;ら、&#8203;最&#8203;新&#8203;デー&#8203;タ&#8203;の&#8203;累&#8203;積&#8203;調&#8203;整&#8203;係&#8203;数&#8203;に&#8203;は&#8203;ま&#8203;だ&#8203;発&#8203;生&#8203;し&#8203;て&#8203;い&#8203;な&#8203;い&#8203;未&#8203;来&#8203;の&#8203;情&#8203;報&#8203;は&#8203;含&#8203;ま&#8203;れ&#8203;て&#8203;い&#8203;な&#8203;い&#8203;た&#8203;め&#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p>こ&#8203;の&#8203;よ&#8203;う&#8203;に、&#8203;そ&#8203;の&#8203;日&#8203;付&#8203;時&#8203;点&#8203;で&#8203;は&#8203;取&#8203;得&#8203;で&#8203;き&#8203;な&#8203;い&#8203;未&#8203;来&#8203;の&#8203;情&#8203;報&#8203;を&#8203;モ&#8203;デ&#8203;ル&#8203;に&#8203;入&#8203;力&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;を&#8203;リー&#8203;ク&#8203;と&#8203;い&#8203;い、&#8203;時&#8203;系&#8203;列&#8203;デー&#8203;タ&#8203;に&#8203;は&#8203;累&#8203;積&#8203;調&#8203;整&#8203;係&#8203;数&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;そ&#8203;の&#8203;日&#8203;付&#8203;時&#8203;点&#8203;で&#8203;は&#8203;取&#8203;得&#8203;で&#8203;き&#8203;な&#8203;い&#8203;情&#8203;報&#8203;が&#8203;含&#8203;ま&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;あ&#8203;る&#8203;た&#8203;め、&#8203;リー&#8203;ク&#8203;に&#8203;は&#8203;と&#8203;く&#8203;に&#8203;注&#8203;意&#8203;す&#8203;る&#8203;必&#8203;要&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p><strong>&#8203;デー&#8203;タ&#8203;の&#8203;特&#8203;性&#8203;</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>マー&#8203;ケッ&#8203;ト&#8203;が&#8203;開&#8203;い&#8203;て&#8203;い&#8203;る&#8203;日&#8203;に&#8203;取&#8203;引&#8203;が&#8203;成&#8203;立&#8203;し&#8203;な&#8203;かっ&#8203;た&#8203;銘&#8203;柄&#8203;は、&#8203;売&#8203;買&#8203;高&#8203;が&#8203;0&#8203;と&#8203;な&#8203;り、&#8203;四&#8203;本&#8203;値&#8203; (&#8203;始&#8203;値、&#8203;高&#8203;値、&#8203;安&#8203;値、&#8203;終&#8203;値&#8203;) &#8203;全&#8203;て&#8203;が&#8203;0&#8203;と&#8203;表&#8203;示&#8203;さ&#8203;れ&#8203;ま&#8203;す。</p>
</li>
<li>
<p>stock_price&#8203;の&#8203;デー&#8203;タ&#8203;は、&#8203;そ&#8203;の&#8203;デー&#8203;タ&#8203;に&#8203;含&#8203;ま&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;最&#8203;新&#8203;日&#8203;付&#8203;時&#8203;点&#8203;で&#8203;累&#8203;積&#8203;調&#8203;整&#8203;係&#8203;数&#8203;1&#8203;と&#8203;な&#8203;る&#8203;よ&#8203;う&#8203;に&#8203;調&#8203;整&#8203;さ&#8203;れ&#8203;ま&#8203;す。&#8203;調&#8203;整&#8203;済&#8203;み&#8203;株&#8203;価&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;も&#8203;同&#8203;様&#8203;に&#8203;過&#8203;去&#8203;に&#8203;遡っ&#8203;て&#8203;更&#8203;新&#8203;さ&#8203;れ&#8203;ま&#8203;す。</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 42.8571%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;変&#8203;数&#8203;名&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;説&#8203;明&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;型&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;例&#8203;</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">銘&#8203;柄&#8203;コー&#8203;ド</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1301</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EndOfDayQuote Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">日&#8203;付</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2016/01/04</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EndOfDayQuote Open</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">始&#8203;値</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2800</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EndOfDayQuote High</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">高&#8203;値</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2820</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EndOfDayQuote Low</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">安&#8203;値</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2740</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EndOfDayQuote Close</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">終&#8203;値。&#8203;大&#8203;引&#8203;け&#8203;後&#8203;に&#8203;セッ&#8203;ト&#8203;さ&#8203;れ&#8203;る</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2750</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EndOfDayQuote ExchangeOfficialClose</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">取&#8203;引&#8203;所&#8203;公&#8203;式&#8203;終&#8203;値。&#8203;最&#8203;終&#8203;の&#8203;特&#8203;別&#8203;気&#8203;配&#8203;ま&#8203;た&#8203;は&#8203;最&#8203;終&#8203;気&#8203;配&#8203;を&#8203;含&#8203;む&#8203;終&#8203;値</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2750</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EndOfDayQuote Volume</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">売&#8203;買&#8203;高</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32000</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EndOfDayQuote CumulativeAdjustmentFactor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">累&#8203;積&#8203;調&#8203;整&#8203;係&#8203;数</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EndOfDayQuote PreviousClose</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">前&#8203;回&#8203;の&#8203;終&#8203;値</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2770</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EndOfDayQuote PreviousCloseDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">前&#8203;回&#8203;の&#8203;終&#8203;値&#8203;が&#8203;発&#8203;生&#8203;し&#8203;た&#8203;日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2015/12/30</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EndOfDayQuote PreviousExchangeOfficialClose</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">前&#8203;回&#8203;の&#8203;取&#8203;引&#8203;所&#8203;公&#8203;式&#8203;終&#8203;値</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2770</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EndOfDayQuote PreviousExchangeOfficialCloseDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">前&#8203;回&#8203;の&#8203;取&#8203;引&#8203;所&#8203;公&#8203;式&#8203;終&#8203;値&#8203;が&#8203;発&#8203;生&#8203;し&#8203;た&#8203;日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2015/12/30</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EndOfDayQuote ChangeFromPreviousClose</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">騰&#8203;落&#8203;幅。&#8203;前&#8203;回&#8203;終&#8203;値&#8203;と&#8203;直&#8203;近&#8203;約&#8203;定&#8203;値&#8203;の&#8203;価&#8203;格&#8203;差</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-20</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EndOfDayQuote PercentChangeFromPreviousClose</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">騰&#8203;落&#8203;率。&#8203;前&#8203;回&#8203;終&#8203;値&#8203;か&#8203;ら&#8203;の&#8203;直&#8203;近&#8203;約&#8203;定&#8203;値&#8203;の&#8203;上&#8203;昇&#8203;率&#8203;ま&#8203;た&#8203;は&#8203;下&#8203;落&#8203;率</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-0.722</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EndOfDayQuote VWAP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">売&#8203;買&#8203;高&#8203;加&#8203;重&#8203;平&#8203;均&#8203;価&#8203;格&#8203;(VWAP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2778.25</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>(Quick xignite API Market Data API Catalog&#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://www.marketdata-cloud.quick-co.jp/Products/" class="bare">https://www.marketdata-cloud.quick-co.jp/Products/</a>)</p>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/sample_stock_price.png" alt="sample_stock_price">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ファンダメンタル情報_stock_fin">2.2.3. ファンダメンタル情報: stock_fin</h4>
<div class="paragraph">
<p>株&#8203;式&#8203;投&#8203;資&#8203;に&#8203;お&#8203;け&#8203;る&#8203; <code>&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;情&#8203;報&#8203;</code> &#8203;と&#8203;は、&#8203;対&#8203;象&#8203;銘&#8203;柄&#8203;の&#8203;純&#8203;資&#8203;産&#8203;と&#8203;いっ&#8203;た&#8203;財&#8203;務&#8203;状&#8203;況&#8203;や&#8203;当&#8203;期&#8203;純&#8203;利&#8203;益&#8203;と&#8203;いっ&#8203;た&#8203;業&#8203;績&#8203;状&#8203;況&#8203;を&#8203;表&#8203;す&#8203;情&#8203;報&#8203;の&#8203;こ&#8203;と&#8203;で&#8203;す。&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;情&#8203;報&#8203;を&#8203;用&#8203;い&#8203;て、&#8203;各&#8203;銘&#8203;柄&#8203;の&#8203;成&#8203;長&#8203;性、&#8203;収&#8203;益&#8203;性、&#8203;安&#8203;全&#8203;性、&#8203;割&#8203;安&#8203;度&#8203;な&#8203;ど&#8203;の&#8203;投&#8203;資&#8203;判&#8203;断&#8203;に&#8203;活&#8203;用&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;ま&#8203;す。&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;情&#8203;報&#8203;を&#8203;利&#8203;用&#8203;し&#8203;た&#8203;解&#8203;析&#8203;は、&#8203;さ&#8203;ま&#8203;ざ&#8203;ま&#8203;な&#8203;手&#8203;法&#8203;が&#8203;考&#8203;案&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;情&#8203;報&#8203;の&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;で&#8203;あ&#8203;る&#8203;stock_fin&#8203;に&#8203;お&#8203;い&#8203;て、&#8203;い&#8203;く&#8203;つ&#8203;か&#8203;の&#8203;変&#8203;数&#8203;名&#8203;は&#8203; <code>Forecast</code> &#8203;か&#8203;ら&#8203;始&#8203;まっ&#8203;て&#8203;い&#8203;ま&#8203;す&#8203;が、&#8203;こ&#8203;れ&#8203;ら&#8203;は&#8203;各&#8203;企&#8203;業&#8203;が&#8203;来&#8203;期&#8203;の&#8203;自&#8203;社&#8203;の&#8203;業&#8203;績・&#8203;財&#8203;務&#8203;状&#8203;況&#8203;を&#8203;予&#8203;想&#8203;し&#8203;た&#8203;デー&#8203;タ&#8203;で&#8203;す。&#8203;例&#8203;え&#8203;ば、&#8203;企&#8203;業&#8203;が&#8203;来&#8203;期&#8203;の&#8203;業&#8203;績&#8203;が&#8203;厳&#8203;し&#8203;い&#8203;こ&#8203;と&#8203;が&#8203;予&#8203;め&#8203;分&#8203;かっ&#8203;て&#8203;い&#8203;る&#8203;場&#8203;合&#8203;に&#8203;は、&#8203;予&#8203;想&#8203;と&#8203;し&#8203;て&#8203;早&#8203;め&#8203;に&#8203;開&#8203;示&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;あ&#8203;る&#8203;た&#8203;め、&#8203;予&#8203;想&#8203;の&#8203;デー&#8203;タ&#8203;も&#8203;重&#8203;要&#8203;な&#8203;可&#8203;能&#8203;性&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。</p>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 42.8571%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;変&#8203;数&#8203;名&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;説&#8203;明&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;型&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;例&#8203;</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">base_date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">日&#8203;付</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2016/01/04</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">銘&#8203;柄&#8203;コー&#8203;ド</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2753</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_FinancialStatement AccountingStandard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">会&#8203;計&#8203;基&#8203;準&#8203;　&#8203;単&#8203;独&#8203;:NonConsolidated、&#8203;連&#8203;結&#8203;国&#8203;内&#8203;:ConsolidatedJP、&#8203;連&#8203;結&#8203;SEC:ConsolidatedUS、&#8203;連&#8203;結&#8203;IFRS:ConsolidatedIFRS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConsolidatedJP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_FinancialStatement FiscalPeriodEnd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">決&#8203;算&#8203;期</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2015/12</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_FinancialStatement ReportType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">決&#8203;算&#8203;種&#8203;別&#8203;　&#8203;第&#8203;1&#8203;四&#8203;半&#8203;期&#8203;:Q1、&#8203;中&#8203;間&#8203;決&#8203;算&#8203;:Q2、&#8203;第&#8203;3&#8203;四&#8203;半&#8203;期&#8203;:Q3、&#8203;本&#8203;決&#8203;算&#8203;:Annual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Q3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_FinancialStatement FiscalYear</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">決&#8203;算&#8203;年&#8203;度。&#8203;本&#8203;決&#8203;算&#8203;の&#8203;決&#8203;算&#8203;期&#8203;末&#8203;が&#8203;属&#8203;す&#8203;る&#8203;年。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2016</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_FinancialStatement ModifyDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">更&#8203;新&#8203;日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2016/01/04</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_FinancialStatement CompanyType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">会&#8203;社&#8203;区&#8203;分&#8203; &#8203;一&#8203;般&#8203;事&#8203;業&#8203;会&#8203;社&#8203;:GB、&#8203;銀&#8203;行&#8203;:BK、&#8203;証&#8203;券&#8203;会&#8203;社&#8203;:SE、&#8203;損&#8203;保&#8203;会&#8203;社&#8203;:IN ※&#8203;上&#8203;記&#8203;に&#8203;該&#8203;当&#8203;し&#8203;な&#8203;い&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_FinancialStatement ChangeOfFiscalYearEnd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">決&#8203;算&#8203;期&#8203;変&#8203;更&#8203;フ&#8203;ラ&#8203;グ&#8203; &#8203;決&#8203;算&#8203;期&#8203;変&#8203;更&#8203;あ&#8203;り&#8203;:true、&#8203;決&#8203;算&#8203;期&#8203;変&#8203;更&#8203;な&#8203;し&#8203;:false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_FinancialStatement NetSales</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">売&#8203;上&#8203;高&#8203;（単&#8203;位：&#8203;百&#8203;万&#8203;円）&#8203; &#8203;会&#8203;社&#8203;区&#8203;分&#8203;に&#8203;よっ&#8203;て&#8203;項&#8203;目&#8203;名&#8203;の&#8203;読&#8203;替&#8203;え&#8203;を&#8203;行&#8203;う&#8203;い&#8203;ま&#8203;す。&#8203; &#8203;銀&#8203;行：&#8203;経&#8203;常&#8203;収&#8203;益、&#8203;証&#8203;券：&#8203;営&#8203;業&#8203;収&#8203;益、&#8203;損&#8203;保：&#8203;経&#8203;常&#8203;収&#8203;益&#8203; ※&#8203;未&#8203;開&#8203;示&#8203;の&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">22354</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_FinancialStatement OperatingIncome</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">営&#8203;業&#8203;利&#8203;益&#8203;（単&#8203;位：&#8203;百&#8203;万&#8203;円）&#8203; ※&#8203;未&#8203;開&#8203;示&#8203;の&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2391</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_FinancialStatement OrdinaryIncome</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">経&#8203;常&#8203;利&#8203;益&#8203;（単&#8203;位：&#8203;百&#8203;万&#8203;円）&#8203; &#8203;会&#8203;計&#8203;基&#8203;準&#8203;が&#8203;連&#8203;結&#8203;SEC&#8203;の&#8203;場&#8203;合&#8203;は、&#8203;項&#8203;目&#8203;名&#8203;を&#8203;「税&#8203;引&#8203;前&#8203;利&#8203;益」&#8203;に&#8203;読&#8203;み&#8203;替&#8203;え&#8203;ま&#8203;す。&#8203; ※&#8203;未&#8203;開&#8203;示&#8203;の&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2466</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_FinancialStatement NetIncome</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">当&#8203;期&#8203;純&#8203;利&#8203;益&#8203;（単&#8203;位：&#8203;百&#8203;万&#8203;円）&#8203; ※&#8203;未&#8203;開&#8203;示&#8203;の&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1645</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_FinancialStatement TotalAssets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">総&#8203;資&#8203;産&#8203;（単&#8203;位：&#8203;百&#8203;万&#8203;円）&#8203; ※&#8203;未&#8203;開&#8203;示&#8203;の&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">21251</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_FinancialStatement NetAssets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">純&#8203;資&#8203;産&#8203;（単&#8203;位：&#8203;百&#8203;万&#8203;円）&#8203; ※&#8203;未&#8203;開&#8203;示&#8203;の&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16962</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_FinancialStatement CashFlowsFromOperatingActivities</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">営&#8203;業&#8203;キャッ&#8203;シュ&#8203;フ&#8203;ロー&#8203;（単&#8203;位：&#8203;百&#8203;万&#8203;円）&#8203; ※&#8203;未&#8203;開&#8203;示&#8203;の&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12404</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_FinancialStatement CashFlowsFromFinancingActivities</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">財&#8203;務&#8203;キャッ&#8203;シュ&#8203;フ&#8203;ロー&#8203;（単&#8203;位：&#8203;百&#8203;万&#8203;円）&#8203; ※&#8203;未&#8203;開&#8203;示&#8203;の&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-98</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_FinancialStatement CashFlowsFromInvestingActivities</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">投&#8203;資&#8203;キャッ&#8203;シュ&#8203;フ&#8203;ロー&#8203;（単&#8203;位：&#8203;百&#8203;万&#8203;円）&#8203; ※&#8203;未&#8203;開&#8203;示&#8203;の&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1307</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forecast_FinancialStatement AccountingStandard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">予&#8203;想&#8203;: &#8203;会&#8203;計&#8203;基&#8203;準&#8203;　&#8203;単&#8203;独&#8203;:NonConsolidated、&#8203;連&#8203;結&#8203;国&#8203;内&#8203;:ConsolidatedJP、&#8203;連&#8203;結&#8203;SEC:ConsolidatedUS、&#8203;連&#8203;結&#8203;IFRS:ConsolidatedIFRS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ConsolidatedJP</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forecast_FinancialStatement FiscalPeriodEnd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">来&#8203;期&#8203;予&#8203;想&#8203;情&#8203;報&#8203;:　&#8203;決&#8203;算&#8203;期</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2016/03</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forecast_FinancialStatement ReportType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">来&#8203;期&#8203;予&#8203;想&#8203;情&#8203;報&#8203;:　&#8203;決&#8203;算&#8203;種&#8203;別&#8203;　&#8203;第&#8203;1&#8203;四&#8203;半&#8203;期&#8203;:Q1、&#8203;中&#8203;間&#8203;決&#8203;算&#8203;:Q2、&#8203;第&#8203;3&#8203;四&#8203;半&#8203;期&#8203;:Q3、&#8203;本&#8203;決&#8203;算&#8203;:Annual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annual</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forecast_FinancialStatement FiscalYear</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">来&#8203;期&#8203;予&#8203;想&#8203;情&#8203;報&#8203;:　&#8203;決&#8203;算&#8203;年&#8203;度。&#8203;本&#8203;決&#8203;算&#8203;の&#8203;決&#8203;算&#8203;期&#8203;末&#8203;が&#8203;属&#8203;す&#8203;る&#8203;年。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2016</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forecast_FinancialStatement ModifyDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">来&#8203;期&#8203;予&#8203;想&#8203;情&#8203;報&#8203;:　&#8203;更&#8203;新&#8203;日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2016/01/04</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forecast_FinancialStatement CompanyType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">来&#8203;期&#8203;予&#8203;想&#8203;情&#8203;報&#8203;:　&#8203;会&#8203;社&#8203;区&#8203;分&#8203; &#8203;一&#8203;般&#8203;事&#8203;業&#8203;会&#8203;社&#8203;:GB、&#8203;銀&#8203;行&#8203;:BK、&#8203;証&#8203;券&#8203;会&#8203;社&#8203;:SE、&#8203;損&#8203;保&#8203;会&#8203;社&#8203;:IN ※&#8203;上&#8203;記&#8203;に&#8203;該&#8203;当&#8203;し&#8203;な&#8203;い&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forecast_FinancialStatement ChangeOfFiscalYearEnd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">来&#8203;期&#8203;予&#8203;想&#8203;情&#8203;報&#8203;:　&#8203;決&#8203;算&#8203;期&#8203;変&#8203;更&#8203;フ&#8203;ラ&#8203;グ&#8203; &#8203;決&#8203;算&#8203;期&#8203;変&#8203;更&#8203;あ&#8203;り&#8203;:true、&#8203;決&#8203;算&#8203;期&#8203;変&#8203;更&#8203;な&#8203;し&#8203;:false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">False</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forecast_FinancialStatement NetSales</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">来&#8203;期&#8203;予&#8203;想&#8203;情&#8203;報&#8203;:　&#8203;売&#8203;上&#8203;高&#8203;（単&#8203;位：&#8203;百&#8203;万&#8203;円）&#8203; &#8203;会&#8203;社&#8203;区&#8203;分&#8203;に&#8203;よっ&#8203;て&#8203;項&#8203;目&#8203;名&#8203;の&#8203;読&#8203;替&#8203;え&#8203;を&#8203;行&#8203;い&#8203;ま&#8203;す。&#8203; &#8203;銀&#8203;行：&#8203;経&#8203;常&#8203;収&#8203;益、&#8203;証&#8203;券：&#8203;営&#8203;業&#8203;収&#8203;益、&#8203;損&#8203;保：&#8203;経&#8203;常&#8203;収&#8203;益&#8203; ※&#8203;未&#8203;開&#8203;示&#8203;の&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">30500</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forecast_FinancialStatement OperatingIncome</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">来&#8203;期&#8203;予&#8203;想&#8203;情&#8203;報&#8203;:　&#8203;営&#8203;業&#8203;利&#8203;益&#8203;（単&#8203;位：&#8203;百&#8203;万&#8203;円）&#8203; ※&#8203;未&#8203;開&#8203;示&#8203;の&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3110</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forecast_FinancialStatement OrdinaryIncome</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">来&#8203;期&#8203;予&#8203;想&#8203;情&#8203;報&#8203;:　&#8203;経&#8203;常&#8203;利&#8203;益&#8203;（単&#8203;位：&#8203;百&#8203;万&#8203;円）&#8203; &#8203;会&#8203;計&#8203;基&#8203;準&#8203;が&#8203;連&#8203;結&#8203;SEC&#8203;の&#8203;場&#8203;合&#8203;は、&#8203;項&#8203;目&#8203;名&#8203;を&#8203;「税&#8203;引&#8203;前&#8203;利&#8203;益」&#8203;に&#8203;読&#8203;み&#8203;替&#8203;え&#8203;ま&#8203;す。&#8203; ※&#8203;未&#8203;開&#8203;示&#8203;の&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3200</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forecast_FinancialStatement NetIncome</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">来&#8203;期&#8203;予&#8203;想&#8203;情&#8203;報&#8203;:　&#8203;当&#8203;期&#8203;純&#8203;利&#8203;益&#8203;（単&#8203;位：&#8203;百&#8203;万&#8203;円）&#8203; ※&#8203;未&#8203;開&#8203;示&#8203;の&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2130</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_Dividend FiscalPeriodEnd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配&#8203;当&#8203;情&#8203;報&#8203;:　&#8203;決&#8203;算&#8203;期</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2015/11</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_Dividend ReportType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配&#8203;当&#8203;情&#8203;報&#8203;:　&#8203;決&#8203;算&#8203;種&#8203;別&#8203;　&#8203;第&#8203;1&#8203;四&#8203;半&#8203;期&#8203;:Q1、&#8203;中&#8203;間&#8203;決&#8203;算&#8203;:Q2、&#8203;第&#8203;3&#8203;四&#8203;半&#8203;期&#8203;:Q3、&#8203;本&#8203;決&#8203;算&#8203;:Annual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annual</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_Dividend FiscalYear</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配&#8203;当&#8203;情&#8203;報&#8203;:　&#8203;決&#8203;算&#8203;年&#8203;度。&#8203;本&#8203;決&#8203;算&#8203;の&#8203;決&#8203;算&#8203;期&#8203;末&#8203;が&#8203;属&#8203;す&#8203;る&#8203;年。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2015</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_Dividend ModifyDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配&#8203;当&#8203;情&#8203;報&#8203;:　&#8203;更&#8203;新&#8203;日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2016/01/07</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_Dividend RecordDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配&#8203;当&#8203;情&#8203;報&#8203;:　&#8203;配&#8203;当&#8203;基&#8203;準&#8203;日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2015/11/30</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_Dividend DividendPayableDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配&#8203;当&#8203;情&#8203;報&#8203;:　&#8203;配&#8203;当&#8203;支&#8203;払&#8203;開&#8203;始&#8203;日&#8203;　※&#8203;予&#8203;想&#8203;の&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2016/02/29</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_Dividend QuarterlyDividendPerShare</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配&#8203;当&#8203;情&#8203;報&#8203;:　&#8203;一&#8203;株&#8203;当&#8203;た&#8203;り&#8203;四&#8203;半&#8203;期&#8203;配&#8203;当&#8203;金&#8203;（単&#8203;位：&#8203;円）&#8203;　※&#8203;未&#8203;開&#8203;示&#8203;の&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result_Dividend AnnualDividendPerShare</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配&#8203;当&#8203;情&#8203;報&#8203;:　&#8203;一&#8203;株&#8203;当&#8203;た&#8203;り&#8203;年&#8203;間&#8203;配&#8203;当&#8203;金&#8203;累&#8203;計&#8203;（単&#8203;位：&#8203;円）&#8203;※&#8203;未&#8203;開&#8203;示&#8203;の&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forecast_Dividend FiscalPeriodEnd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">予&#8203;想&#8203;配&#8203;当&#8203;情&#8203;報&#8203;:　&#8203;決&#8203;算&#8203;期</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2016/03</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forecast_Dividend ReportType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">予&#8203;想&#8203;配&#8203;当&#8203;情&#8203;報&#8203;:　&#8203;決&#8203;算&#8203;種&#8203;別&#8203;　&#8203;第&#8203;1&#8203;四&#8203;半&#8203;期&#8203;:Q1、&#8203;中&#8203;間&#8203;決&#8203;算&#8203;:Q2、&#8203;第&#8203;3&#8203;四&#8203;半&#8203;期&#8203;:Q3、&#8203;本&#8203;決&#8203;算&#8203;:Annual</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annual</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forecast_Dividend FiscalYear</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">予&#8203;想&#8203;配&#8203;当&#8203;情&#8203;報&#8203;:　&#8203;決&#8203;算&#8203;年&#8203;度。&#8203;本&#8203;決&#8203;算&#8203;の&#8203;決&#8203;算&#8203;期&#8203;末&#8203;が&#8203;属&#8203;す&#8203;る&#8203;年。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2016</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forecast_Dividend ModifyDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">予&#8203;想&#8203;配&#8203;当&#8203;情&#8203;報&#8203;:　&#8203;更&#8203;新&#8203;日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2016/01/04</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forecast_Dividend RecordDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">予&#8203;想&#8203;配&#8203;当&#8203;情&#8203;報&#8203;:　&#8203;配&#8203;当&#8203;基&#8203;準&#8203;日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2016/03/31</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forecast_Dividend QuarterlyDividendPerShare</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">予&#8203;想&#8203;配&#8203;当&#8203;情&#8203;報&#8203;:　&#8203;一&#8203;株&#8203;当&#8203;た&#8203;り&#8203;四&#8203;半&#8203;期&#8203;配&#8203;当&#8203;金&#8203;（単&#8203;位：&#8203;円）&#8203;　※&#8203;未&#8203;開&#8203;示&#8203;の&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">45</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forecast_Dividend AnnualDividendPerShare</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">予&#8203;想&#8203;配&#8203;当&#8203;情&#8203;報&#8203;:　&#8203;一&#8203;株&#8203;当&#8203;た&#8203;り&#8203;年&#8203;間&#8203;配&#8203;当&#8203;金&#8203;累&#8203;計&#8203;（単&#8203;位：&#8203;円）&#8203;※&#8203;未&#8203;開&#8203;示&#8203;の&#8203;場&#8203;合&#8203;は&#8203;空&#8203;文&#8203;字&#8203;を&#8203;設&#8203;定&#8203;し&#8203;て&#8203;ま&#8203;す。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">90</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>(Quick xignite API Market Data API Catalog&#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://www.marketdata-cloud.quick-co.jp/Products/" class="bare">https://www.marketdata-cloud.quick-co.jp/Products/</a>)</p>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/sample_stock_fin.png" alt="sample_stock_fin">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_財務諸表株価情報_stock_fin_price">2.2.4. 財務諸表+株価情報: stock_fin_price</h4>
<div class="paragraph">
<p>stock_fin_price&#8203;は、&#8203;株&#8203;価&#8203;情&#8203;報&#8203;で&#8203;あ&#8203;る&#8203;&lt;&lt;&#8203;株&#8203;価&#8203;情&#8203;報&#8203; : stock_price, stock_price&gt;&gt;&#8203;と&#8203;財&#8203;務&#8203;諸&#8203;表&#8203;で&#8203;あ&#8203;る&#8203;&lt;&lt;&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;情&#8203;報&#8203;: stock_fin, stock_fin&gt;&gt;&#8203;を&#8203;デー&#8203;タ&#8203;と&#8203;し&#8203;て&#8203;扱&#8203;い&#8203;や&#8203;す&#8203;い&#8203;よ&#8203;う&#8203;に&#8203;結&#8203;合&#8203;し&#8203;た&#8203;デー&#8203;タ&#8203;で&#8203;す。&#8203;変&#8203;数&#8203;名&#8203;や&#8203;型&#8203;な&#8203;ど&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;は、&#8203;同&#8203;じ&#8203;で&#8203;あ&#8203;る&#8203;た&#8203;め&#8203;記&#8203;載&#8203;を&#8203;省&#8203;略&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>ま&#8203;た、&#8203;デー&#8203;タ&#8203;の&#8203;サ&#8203;イ&#8203;ズ&#8203;が&#8203;非&#8203;常&#8203;に&#8203;大&#8203;き&#8203;い&#8203;た&#8203;め、&#8203;必&#8203;要&#8203;に&#8203;応&#8203;じ&#8203;て&#8203;活&#8203;用&#8203;し&#8203;て&#8203;い&#8203;た&#8203;だ&#8203;き&#8203;た&#8203;い&#8203;と&#8203;思&#8203;い&#8203;ま&#8203;す。</p>
</div>
</div>
<div class="sect3">
<h4 id="_目的変数_stock_labels">2.2.5. 目的変数: stock_labels</h4>
<div class="paragraph">
<p>stock_labels&#8203;は&#8203;予&#8203;測&#8203;の&#8203;目&#8203;的&#8203;変&#8203;数&#8203;の&#8203;デー&#8203;タ&#8203;で&#8203;あ&#8203;り、&#8203;各&#8203;銘&#8203;柄&#8203;で&#8203;決&#8203;算&#8203;発&#8203;表&#8203;が&#8203;行&#8203;わ&#8203;れ&#8203;た&#8203;日&#8203;の&#8203;取&#8203;引&#8203;所&#8203;公&#8203;式&#8203;終&#8203;値&#8203;か&#8203;ら、&#8203;そ&#8203;の&#8203;日&#8203;の&#8203;翌&#8203;営&#8203;業&#8203;日&#8203;以&#8203;降&#8203;N&#8203;（5，&#8203;10，&#8203;20）&#8203;営&#8203;業&#8203;日&#8203;間&#8203;に&#8203;お&#8203;け&#8203;る&#8203;最&#8203;高&#8203;値&#8203;及&#8203;び&#8203;最&#8203;安&#8203;値&#8203;へ&#8203;の&#8203;変&#8203;化&#8203;率&#8203;を&#8203;記&#8203;録&#8203;し&#8203;た&#8203;デー&#8203;タ&#8203;で&#8203;す。&#8203;<br>
各&#8203;値&#8203;の&#8203;計&#8203;算&#8203;式&#8203;は、&#8203; <code>([&#8203;基&#8203;準&#8203;日&#8203;付&#8203;の&#8203;翌&#8203;日&#8203;以&#8203;降&#8203;N&#8203;営&#8203;業&#8203;日&#8203;間&#8203;に&#8203;お&#8203;け&#8203;る&#8203;高&#8203;値&#8203;/&#8203;安&#8203;値&#8203;] / [&#8203;基&#8203;準&#8203;日&#8203;付&#8203;の&#8203;終&#8203;値&#8203;]) - 1</code> &#8203;で&#8203;す。&#8203;<br>
な&#8203;お、&#8203;ラ&#8203;ベ&#8203;ル&#8203;の&#8203;対&#8203;象&#8203;期&#8203;間&#8203; (5、&#8203;10、&#8203;20&#8203;営&#8203;業&#8203;日&#8203;の&#8203;間&#8203;) &#8203;に&#8203;値&#8203;が&#8203;付&#8203;か&#8203;な&#8203;かっ&#8203;た&#8203;場&#8203;合&#8203;は、&#8203;ラ&#8203;ベ&#8203;ル&#8203;を&#8203; <code>NaN</code> &#8203;と&#8203;し&#8203;て&#8203;お&#8203;り&#8203;ま&#8203;す。</p>
</div>
<table class="tableblock frame-all grid-all stripes-even stretch">
<colgroup>
<col style="width: 28.5714%;">
<col style="width: 42.8571%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;変&#8203;数&#8203;名&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;説&#8203;明&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;型&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;例&#8203;</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">base_date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">基&#8203;準&#8203;日&#8203;付&#8203;（各&#8203;銘&#8203;柄&#8203;で&#8203;決&#8203;算&#8203;短&#8203;信&#8203;等&#8203;の&#8203;開&#8203;示&#8203;が&#8203;さ&#8203;れ&#8203;た&#8203;日）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2016-01-04</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local Code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">銘&#8203;柄&#8203;コー&#8203;ド</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1301</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">label_date_5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">基&#8203;準&#8203;日&#8203;付&#8203;か&#8203;ら&#8203;5&#8203;営&#8203;業&#8203;日&#8203;後&#8203;の&#8203;日&#8203;付。&#8203;label_high_5&#8203;算&#8203;出&#8203;に&#8203;使&#8203;用&#8203;さ&#8203;れ&#8203;る&#8203;終&#8203;値&#8203;範&#8203;囲&#8203;の&#8203;基&#8203;準&#8203;日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2016-01-12</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">label_high_5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">基&#8203;準&#8203;日&#8203;付&#8203;の&#8203;終&#8203;値&#8203;か&#8203;ら&#8203;5&#8203;営&#8203;業&#8203;日&#8203;の&#8203;間&#8203;の&#8203;最&#8203;高&#8203;値&#8203;へ&#8203;の&#8203;変&#8203;化&#8203;率</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.00364</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">label_low_5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">基&#8203;準&#8203;日&#8203;付&#8203;の&#8203;終&#8203;値&#8203;か&#8203;ら&#8203;5&#8203;営&#8203;業&#8203;日&#8203;の&#8203;間&#8203;の&#8203;最&#8203;安&#8203;値&#8203;へ&#8203;の&#8203;変&#8203;化&#8203;率</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-0.04</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">label_date_10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">基&#8203;準&#8203;日&#8203;付&#8203;か&#8203;ら&#8203;10&#8203;営&#8203;業&#8203;日&#8203;後&#8203;の&#8203;日&#8203;付。&#8203;label_high_10&#8203;算&#8203;出&#8203;に&#8203;使&#8203;用&#8203;さ&#8203;れ&#8203;る&#8203;終&#8203;値&#8203;範&#8203;囲&#8203;の&#8203;基&#8203;準&#8203;日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2016-01-19</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">label_high_10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">基&#8203;準&#8203;日&#8203;付&#8203;の&#8203;終&#8203;値&#8203;か&#8203;ら&#8203;10&#8203;営&#8203;業&#8203;日&#8203;の&#8203;間&#8203;の&#8203;最&#8203;高&#8203;値&#8203;へ&#8203;の&#8203;変&#8203;化&#8203;率</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.00364</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">label_low_10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">基&#8203;準&#8203;日&#8203;付&#8203;の&#8203;終&#8203;値&#8203;か&#8203;ら&#8203;10&#8203;営&#8203;業&#8203;日&#8203;の&#8203;間&#8203;の&#8203;最&#8203;安&#8203;値&#8203;へ&#8203;の&#8203;変&#8203;化&#8203;率</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-0.05455</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">label_date_20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">基&#8203;準&#8203;日&#8203;付&#8203;か&#8203;ら&#8203;20&#8203;営&#8203;業&#8203;日&#8203;後&#8203;の&#8203;日&#8203;付。&#8203;label_high_20&#8203;算&#8203;出&#8203;に&#8203;使&#8203;用&#8203;さ&#8203;れ&#8203;る&#8203;終&#8203;値&#8203;範&#8203;囲&#8203;の&#8203;基&#8203;準&#8203;日</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2016-02-02</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">label_high_20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">基&#8203;準&#8203;日&#8203;付&#8203;の&#8203;終&#8203;値&#8203;か&#8203;ら&#8203;20&#8203;営&#8203;業&#8203;日&#8203;の&#8203;間&#8203;の&#8203;最&#8203;高&#8203;値&#8203;へ&#8203;の&#8203;変&#8203;化&#8203;率</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.00364</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">label_low_20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">基&#8203;準&#8203;日&#8203;付&#8203;の&#8203;終&#8203;値&#8203;か&#8203;ら&#8203;20&#8203;営&#8203;業&#8203;日&#8203;の&#8203;間&#8203;の&#8203;最&#8203;安&#8203;値&#8203;へ&#8203;の&#8203;変&#8203;化&#8203;率</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">float64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-0.08364</p></td>
</tr>
</tbody>
</table>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/sample_stock_labels.png" alt="sample_stock_label">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_実行環境及び必要なライブラリ">2.3. 実行環境及び必要なライブラリ</h3>
<div class="sect3">
<h4 id="_実行環境">2.3.1. 実行環境</h4>
<div class="paragraph">
<p>本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;の&#8203;実&#8203;行&#8203;環&#8203;境&#8203;は、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;で&#8203;提&#8203;出&#8203;す&#8203;る&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;実&#8203;行&#8203;環&#8203;境&#8203;と&#8203;同&#8203;一&#8203;環&#8203;境&#8203;と&#8203;す&#8203;る&#8203;た&#8203;め&#8203;に&#8203;以&#8203;下&#8203;の&#8203;python&#8203;環&#8203;境&#8203;を&#8203;用&#8203;い&#8203;ま&#8203;す。&#8203;環&#8203;境&#8203;構&#8203;築&#8203;方&#8203;法&#8203;に&#8203;つ&#8203;い&#8203;て、&#8203;詳&#8203;し&#8203;く&#8203;は&#8203; <a href="https://signate.jp/features/runtime/detail">SIGNATE: Runtime &#8203;投&#8203;稿&#8203;方&#8203;法&#8203;: &#8203;ロー&#8203;カ&#8203;ル&#8203;開&#8203;発&#8203;環&#8203;境&#8203;の&#8203;構&#8203;築&#8203;方&#8203;法&#8203;は？&#8203;</a> &#8203;を&#8203;ご&#8203;参&#8203;照&#8203;く&#8203;だ&#8203;さ&#8203;い。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>anaconda3-2019.03</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_google_colaboratoryの利用">2.3.2. Google Colaboratoryの利用</h4>
<div class="paragraph">
<p>本&#8203;章&#8203;は&#8203;Docker&#8203;を&#8203;用&#8203;い&#8203;た&#8203;実&#8203;行&#8203;環&#8203;境&#8203;の&#8203;利&#8203;用&#8203;を&#8203;想&#8203;定&#8203;し&#8203;て&#8203;記&#8203;述&#8203;し&#8203;て&#8203;お&#8203;り&#8203;ま&#8203;す&#8203;が、&#8203;Docker&#8203;の&#8203;実&#8203;行&#8203;環&#8203;境&#8203;構&#8203;築&#8203;が&#8203;ご&#8203;利&#8203;用&#8203;の&#8203;OS&#8203;な&#8203;ど&#8203;何&#8203;ら&#8203;か&#8203;の&#8203;理&#8203;由&#8203;に&#8203;よ&#8203;り&#8203;困&#8203;難&#8203;な&#8203;方、&#8203;よ&#8203;り&#8203;簡&#8203;便&#8203;に&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;を&#8203;実&#8203;行&#8203;し&#8203;た&#8203;い&#8203;方&#8203;は&#8203;Google Colaboratory&#8203;の&#8203;利&#8203;用&#8203;を&#8203;ご&#8203;検&#8203;討&#8203;く&#8203;だ&#8203;さ&#8203;い。&#8203;本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;で&#8203;提&#8203;供&#8203;さ&#8203;れ&#8203;る&#8203;Notebook&#8203;は&#8203;Google Colaboratory&#8203;で&#8203;も&#8203;実&#8203;行&#8203;可&#8203;能&#8203;で&#8203;す。&#8203;詳&#8203;細&#8203;は&#8203;第&#8203;4&#8203;章&#8203;を&#8203;ご&#8203;参&#8203;照&#8203;く&#8203;だ&#8203;さ&#8203;い。</p>
</div>
</div>
<div class="sect3">
<h4 id="_dockerを用いた実行環境構築方法">2.3.3. Dockerを用いた実行環境構築方法</h4>
<div class="paragraph">
<p>本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;の&#8203;リ&#8203;ポ&#8203;ジ&#8203;ト&#8203;リ&#8203;を&#8203; <code>git clone</code> &#8203;し&#8203;て&#8203;い&#8203;た&#8203;だ&#8203;き、&#8203;以&#8203;下&#8203;の&#8203;手&#8203;順&#8203;を&#8203;実&#8203;行&#8203;し&#8203;て&#8203;い&#8203;た&#8203;だ&#8203;く&#8203;こ&#8203;と&#8203;で&#8203;実&#8203;行&#8203;環&#8203;境&#8203;の&#8203;docker&#8203;コ&#8203;ン&#8203;テ&#8203;ナ&#8203;内&#8203;で&#8203;jupyter notebook&#8203;を&#8203;起&#8203;動&#8203;可&#8203;能&#8203;と&#8203;なっ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203; <code>Chapter02</code> &#8203;ディ&#8203;レ&#8203;ク&#8203;ト&#8203;リ&#8203;内&#8203;に&#8203;は、&#8203;本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;の&#8203;コー&#8203;ド&#8203;を&#8203;記&#8203;載&#8203;し&#8203;た&#8203; ipynb &#8203;ファ&#8203;イ&#8203;ル&#8203;を&#8203;配&#8203;置&#8203;し&#8203;て&#8203;お&#8203;り&#8203;ま&#8203;す&#8203;の&#8203;で&#8203;必&#8203;要&#8203;に&#8203;応&#8203;じ&#8203;て&#8203;ご&#8203;活&#8203;用&#8203;く&#8203;だ&#8203;さ&#8203;い。</p>
</div>
<div class="paragraph">
<p>Windows&#8203;環&#8203;境&#8203;の&#8203;場&#8203;合、&#8203;コ&#8203;マ&#8203;ン&#8203;ド&#8203;実&#8203;行&#8203;に&#8203;は&#8203;「PowerShell」&#8203;な&#8203;ど&#8203;を&#8203;ご&#8203;使&#8203;用&#8203;く&#8203;だ&#8203;さ&#8203;い。&#8203;な&#8203;お、&#8203;PowerShell&#8203;の&#8203;利&#8203;用&#8203;に&#8203;当&#8203;たっ&#8203;て&#8203;は、&#8203;最&#8203;新&#8203;の&#8203;セ&#8203;キュ&#8203;リ&#8203;ティ&#8203;事&#8203;情&#8203;を&#8203;踏&#8203;ま&#8203;え&#8203;ご&#8203;自&#8203;身&#8203;で&#8203;ご&#8203;判&#8203;断&#8203;く&#8203;だ&#8203;さ&#8203;い。</p>
</div>
<div class="paragraph">
<p>docker &#8203;の&#8203;イ&#8203;ン&#8203;ス&#8203;トー&#8203;ル&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;は&#8203; <a href="http://docs.docker.jp/get-docker.html" class="bare">http://docs.docker.jp/get-docker.html</a> &#8203;を&#8203;ご&#8203;参&#8203;照&#8203;く&#8203;だ&#8203;さ&#8203;い。&#8203;docker &#8203;の&#8203;制&#8203;約&#8203;と&#8203;し&#8203;て&#8203;マ&#8203;ウ&#8203;ン&#8203;ト&#8203;す&#8203;る&#8203;パ&#8203;ス&#8203;に&#8203;は&#8203;ア&#8203;ル&#8203;ファ&#8203;ベッ&#8203;ト、&#8203;数&#8203;字、&#8203;「_」、&#8203;「.」、&#8203;「-」&#8203;以&#8203;外&#8203;の&#8203;文&#8203;字&#8203;を&#8203;使&#8203;用&#8203;す&#8203;る&#8203;と&#8203;エ&#8203;ラー&#8203;と&#8203;な&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;あ&#8203;る&#8203;よ&#8203;う&#8203;で&#8203;す。&#8203;そ&#8203;の&#8203;場&#8203;合&#8203;は、&#8203;パ&#8203;ス&#8203;が&#8203;前&#8203;述&#8203;の&#8203;文&#8203;字&#8203;の&#8203;み&#8203;で&#8203;構&#8203;成&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;ディ&#8203;レ&#8203;ク&#8203;ト&#8203;リ&#8203;を&#8203;ご&#8203;使&#8203;用&#8203;く&#8203;だ&#8203;さ&#8203;い。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">cd handson/

# データ配置先のディレクトリを作成
mkdir data_dir
# その後作成したhandson/data_dirに、コンペティションサイトよりデータをダウンロードし配置します。

# dockerでjupyter notebookを起動します。(初回実行時は約2GB程度コンテナイメージをダウンロードします。)
# データ配置先のディレクトリを /path/to としてマウントしています。
# 学習済みモデル提出用のディレクトリ (handson/Chapter02/archive) を /opt/ml としてマウントしています。
# jupyter notebook作業用に handson ディレクトリを /notebook としてマウントしています。
# jupyter notebook は port 8888でtokenとpasswordを空にして、vscode のjupyter pluginからアクセスできるように xsrf 対策を無効化しています。
docker run --name tutorial -v ${PWD}/data_dir:/path/to -v ${PWD}/Chapter02/archive:/opt/ml -v ${PWD}:/notebook -e PYTHONPATH=/opt/ml/src -p8888:8888 --rm -it continuumio/anaconda3:2019.03 jupyter notebook --ip 0.0.0.0 --allow-root --no-browser --no-mathjax --NotebookApp.disable_check_xsrf=True  --NotebookApp.token='' --NotebookApp.password='' /notebook

# ブラウザで以下のURLにアクセスしてjupyter notebookの画面が表示されていて、本チュートリアル用のnotebookが表示されていることを確認します。
http://localhost:8888/</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_必要なライブラリのインストール">2.3.4. 必要なライブラリのインストール</h4>
<div class="paragraph">
<p>本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;内&#8203;で&#8203;は、&#8203;上&#8203;記&#8203;の&#8203;実&#8203;行&#8203;環&#8203;境&#8203;に&#8203;含&#8203;ま&#8203;れ&#8203;て&#8203;い&#8203;な&#8203;い&#8203;ラ&#8203;イ&#8203;ブ&#8203;ラ&#8203;リ&#8203;を&#8203;使&#8203;用&#8203;す&#8203;る&#8203;た&#8203;め、&#8203;以&#8203;下&#8203;の&#8203;コ&#8203;マ&#8203;ン&#8203;ド&#8203;を&#8203;使&#8203;用&#8203;し&#8203;て&#8203;個&#8203;別&#8203;に&#8203;イ&#8203;ン&#8203;ス&#8203;トー&#8203;ル&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash"># shap用にg++とgccをインストールします
apt-get update
apt-get install -y --no-install-recommends g++ gcc

# 必要なライブラリをインストールします
pip install shap==0.37.0 slicer==0.0.3 xgboost==1.3.0.post0</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ライブラリの読み込み">2.3.5. ライブラリの読み込み</h4>
<div class="paragraph">
<p>本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;で&#8203;は、&#8203;下&#8203;記&#8203;の&#8203;ラ&#8203;イ&#8203;ブ&#8203;ラ&#8203;リ&#8203;の&#8203;イ&#8203;ン&#8203;ポー&#8203;ト&#8203;を&#8203;行&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">os</span>
<span class="keyword">import</span> <span class="include">pickle</span>
<span class="keyword">import</span> <span class="include">sys</span>
<span class="keyword">import</span> <span class="include">warnings</span>
<span class="keyword">from</span> <span class="include">glob</span> <span class="keyword">import</span> <span class="include">glob</span>

<span class="keyword">import</span> <span class="include">matplotlib</span>
<span class="keyword">import</span> <span class="include">matplotlib.pyplot</span> <span class="keyword">as</span> plt
<span class="keyword">import</span> <span class="include">numpy</span> <span class="keyword">as</span> np
<span class="keyword">import</span> <span class="include">pandas</span> <span class="keyword">as</span> pd
<span class="keyword">import</span> <span class="include">seaborn</span> <span class="keyword">as</span> sns
<span class="keyword">import</span> <span class="include">shap</span>
<span class="keyword">import</span> <span class="include">xgboost</span>
<span class="keyword">from</span> <span class="include">scipy.stats</span> <span class="keyword">import</span> <span class="include">spearmanr</span>
<span class="keyword">from</span> <span class="include">sklearn.ensemble</span> <span class="keyword">import</span> (
    ExtraTreesRegressor,
    GradientBoostingRegressor,
    RandomForestRegressor,
)
<span class="keyword">from</span> <span class="include">sklearn.metrics</span> <span class="keyword">import</span> <span class="include">accuracy_score</span>, <span class="include">mean_squared_error</span>
<span class="keyword">from</span> <span class="include">tqdm.auto</span> <span class="keyword">import</span> <span class="include">tqdm</span>


<span class="comment"># 表示用の設定を変更します</span>
%matplotlib inline
pd.options.display.max_rows = <span class="integer">100</span>
pd.options.display.max_columns = <span class="integer">100</span>
pd.options.display.width = <span class="integer">120</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ライブラリ解説">2.3.6. ライブラリ解説</h4>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;ラ&#8203;イ&#8203;ブ&#8203;ラ&#8203;リ&#8203;名&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;目&#8203;的&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;公&#8203;式&#8203;ド&#8203;キュ&#8203;メ&#8203;ン&#8203;ト&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;入&#8203;門&#8203;解&#8203;説&#8203;</strong> ｑ</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pandas</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">デー&#8203;タ&#8203;の&#8203;処&#8203;理</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://pandas.pydata.org/docs/">pandas documentation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://qiita.com/ysdyt/items/9ccca82fc5b504e7913a">Qiita:データ分析で頻出のPandas基本操作</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">numpy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">デー&#8203;タ&#8203;の&#8203;処&#8203;理</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://numpy.org/doc/stable/user/tutorials_index.html">NumPy Tutorials</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://qiita.com/jyori112/items/a15658d1dd17c421e1e2">Qiita:numpyの使い方</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">glob</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ファ&#8203;イ&#8203;ル&#8203;の&#8203;検&#8203;知</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.python.org/3/library/glob.html">glob &#8203;—&#8203; Unix style pathname pattern expansion</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://qiita.com/HirosuguTakeshita/items/0e0850362c7eb3b10ea1">Qiita:【備忘録】globの使い方</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tqdm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">計&#8203;算&#8203;の&#8203;進&#8203;捗&#8203;確&#8203;認</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://tqdm.github.io/">tqdm</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://qiita.com/pontyo4/items/76145cb10e030ad8186a">Qiita:tqdmでプログレスバーを表示させる</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sklearn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">機&#8203;械&#8203;学&#8203;習&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;作&#8203;成</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://scikit-learn.org/stable/tutorial/index.html">https://scikit-learn.org/stable/tutorial/index.html</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://qiita.com/ynakayama/items/9c5867b6947aa41e9229">Qiita:scikit-learn &#8203;か&#8203;ら&#8203;学&#8203;ぶ&#8203;機&#8203;械&#8203;学&#8203;習&#8203;の&#8203;手&#8203;法&#8203;の&#8203;概&#8203;要&#8203;</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">matplotlib</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">デー&#8203;タ&#8203;の&#8203;可&#8203;視&#8203;化</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://matplotlib.org/tutorials/index.html">matplotlib tutorials</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://qiita.com/skotaro/items/08dc0b8c5704c94eafb9">Qiita:早く知っておきたかったmatplotlibの基礎知識、あるいは見た目の調整が捗るArtistの話</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">scipy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">統&#8203;計&#8203;用&#8203;の&#8203;ラ&#8203;イ&#8203;ブ&#8203;ラ&#8203;リ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.scipy.org/doc/scipy/reference/tutorial/index.html">SciPy Tutorial</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://amorphous.tf.chiba-u.jp/lecture.files/chem_computer/11_scipy%E3%81%AE%E5%9F%BA%E6%9C%AC%E3%81%A8%E5%BF%9C%E7%94%A8/11.html">千葉大: &#8203;コ&#8203;ン&#8203;ピュー&#8203;タ&#8203;処&#8203;理&#8203; &#8203;ド&#8203;キュ&#8203;メ&#8203;ン&#8203;ト&#8203; 11. scipy&#8203;の&#8203;基&#8203;本&#8203;と&#8203;応&#8203;用&#8203;</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">seaborn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">デー&#8203;タ&#8203;の&#8203;可&#8203;視&#8203;化</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://seaborn.pydata.org/tutorial.html">User guide and tutorial</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://qiita.com/hik0107/items/3dc541158fceb3156ee0">Qiita:pythonで美しいグラフ描画 -seaborn&#8203;を&#8203;使&#8203;え&#8203;ば&#8203;デー&#8203;タ&#8203;分&#8203;析&#8203;と&#8203;可&#8203;視&#8203;化&#8203;が&#8203;捗&#8203;る&#8203; &#8203;そ&#8203;の&#8203;1</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">shap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SHAP&#8203;分&#8203;析</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://shap.readthedocs.io/en/latest/">Welcome to the SHAP Documentation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://qiita.com/shin_mura/items/cde01198552eda9146b7">Shapを用いた機械学習モデルの解釈説明</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">xgboost</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">機&#8203;械&#8203;学&#8203;習&#8203;モ&#8203;デ&#8203;ル</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://xgboost.readthedocs.io/en/latest/">XGBoost Documentation</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://qiita.com/triwave33/items/aad60f25485a4595b5c8">XGBoost論文を丁寧に解説する(1)</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_実行環境の確認">2.3.7. 実行環境の確認</h4>
<div class="paragraph">
<p>python&#8203;の&#8203;バー&#8203;ジョ&#8203;ン&#8203;が&#8203;3.7.3&#8203;で&#8203;あ&#8203;る&#8203;こ&#8203;と&#8203;を&#8203;確&#8203;認&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">print(sys.version)</code></pre>
</div>
</div>
<div class="paragraph">
<p>出&#8203;力</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">3.7.3 (default, Mar 27 2019, 22:11:17)
[GCC 7.3.0]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_データセットの読み込み">2.4. データセットの読み込み</h3>
<div class="paragraph">
<p>本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;用&#8203;に&#8203;提&#8203;供&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;を&#8203;ダ&#8203;ウ&#8203;ン&#8203;ロー&#8203;ド&#8203;し&#8203;て、&#8203;ファ&#8203;イ&#8203;ル&#8203;を&#8203;解&#8203;凍&#8203;し&#8203;た&#8203;場&#8203;所&#8203;を&#8203;定&#8203;義&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># データセット保存先ディレクトリ（&quot;&quot;の中身はご自身の環境に合わせて定義してください。）</span>
dataset_dir=<span class="string"><span class="delimiter">&quot;</span><span class="content">/path/to</span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>デー&#8203;タ&#8203;を&#8203;読&#8203;み&#8203;込&#8203;み&#8203;ま&#8203;す。&#8203;な&#8203;お、&#8203;本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;で&#8203;は&#8203; <code>stock_fin</code> &#8203;及&#8203;び&#8203; <code>stock_price</code> &#8203;を&#8203;使&#8203;用&#8203;す&#8203;る&#8203;た&#8203;め、&#8203; <code>stock_fin_price</code> &#8203;は&#8203;読&#8203;み&#8203;込&#8203;ま&#8203;ず&#8203;に&#8203;進&#8203;め&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># 読み込むファイルを定義します。</span>
inputs = {
    <span class="string"><span class="delimiter">&quot;</span><span class="content">stock_list</span><span class="delimiter">&quot;</span></span>: f<span class="string"><span class="delimiter">&quot;</span><span class="content">{dataset_dir}/stock_list.csv.gz</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">stock_price</span><span class="delimiter">&quot;</span></span>: f<span class="string"><span class="delimiter">&quot;</span><span class="content">{dataset_dir}/stock_price.csv.gz</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">stock_fin</span><span class="delimiter">&quot;</span></span>: f<span class="string"><span class="delimiter">&quot;</span><span class="content">{dataset_dir}/stock_fin.csv.gz</span><span class="delimiter">&quot;</span></span>,
    <span class="comment"># 本チュートリアルでは使用しないため、コメントアウトしています。</span>
    <span class="comment"># &quot;stock_fin_price&quot;: f&quot;{dataset_dir}/stock_fin_price.csv.gz&quot;,</span>
    <span class="string"><span class="delimiter">&quot;</span><span class="content">stock_labels</span><span class="delimiter">&quot;</span></span>: f<span class="string"><span class="delimiter">&quot;</span><span class="content">{dataset_dir}/stock_labels.csv.gz</span><span class="delimiter">&quot;</span></span>,
}

<span class="comment"># ファイルを読み込みます</span>
dfs = {}
<span class="keyword">for</span> k, v <span class="keyword">in</span> inputs.items():
    print(k)
    dfs[k] = pd.read_csv(v)
    <span class="comment"># DataFrameのindexを設定します。</span>
    <span class="keyword">if</span> k == <span class="string"><span class="delimiter">&quot;</span><span class="content">stock_price</span><span class="delimiter">&quot;</span></span>:
        dfs[k].loc[:, <span class="string"><span class="delimiter">&quot;</span><span class="content">datetime</span><span class="delimiter">&quot;</span></span>] = pd.to_datetime(
            dfs[k].loc[:, <span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote Date</span><span class="delimiter">&quot;</span></span>]
        )
        dfs[k].set_index(<span class="string"><span class="delimiter">&quot;</span><span class="content">datetime</span><span class="delimiter">&quot;</span></span>, inplace=<span class="predefined-constant">True</span>)
    <span class="keyword">elif</span> k <span class="keyword">in</span> [<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_fin</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">stock_fin_price</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">stock_labels</span><span class="delimiter">&quot;</span></span>]:
        dfs[k].loc[:, <span class="string"><span class="delimiter">&quot;</span><span class="content">datetime</span><span class="delimiter">&quot;</span></span>] = pd.to_datetime(
            dfs[k].loc[:, <span class="string"><span class="delimiter">&quot;</span><span class="content">base_date</span><span class="delimiter">&quot;</span></span>]
        )
        dfs[k].set_index(<span class="string"><span class="delimiter">&quot;</span><span class="content">datetime</span><span class="delimiter">&quot;</span></span>, inplace=<span class="predefined-constant">True</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>読&#8203;み&#8203;込&#8203;ん&#8203;だ&#8203;デー&#8203;タ&#8203;を&#8203;確&#8203;認&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">for</span> k <span class="keyword">in</span> inputs.keys():
    print(k)
    print(dfs[k].info())
    print(dfs[k].head(<span class="integer">1</span>).T)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_データセットの可視化">2.5. データセットの可視化</h3>
<div class="paragraph">
<p>デー&#8203;タ&#8203;セッ&#8203;ト&#8203;の&#8203;各&#8203;項&#8203;目&#8203;の&#8203;特&#8203;徴&#8203;を&#8203;把&#8203;握&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;は、&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;作&#8203;成&#8203;す&#8203;る&#8203;上&#8203;で&#8203;重&#8203;要&#8203;な&#8203;要&#8203;素&#8203;の&#8203;1&#8203;つ&#8203;で&#8203;す。&#8203;一&#8203;般&#8203;に&#8203;デー&#8203;タ&#8203;の&#8203;特&#8203;徴&#8203;を&#8203;把&#8203;握&#8203;す&#8203;る&#8203;た&#8203;め&#8203;に&#8203;は、&#8203;各&#8203;項&#8203;目&#8203;の&#8203;意&#8203;味&#8203;を&#8203;把&#8203;握&#8203;し、&#8203;値&#8203;の&#8203;平&#8203;均&#8203;や&#8203;標&#8203;準&#8203;偏&#8203;差&#8203;な&#8203;ど&#8203;の&#8203;基&#8203;本&#8203;統&#8203;計&#8203;量&#8203;を&#8203;確&#8203;認&#8203;し&#8203;ま&#8203;す。&#8203;可&#8203;視&#8203;化&#8203;も&#8203;そ&#8203;う&#8203;いっ&#8203;た&#8203;特&#8203;徴&#8203;把&#8203;握&#8203;の&#8203;手&#8203;法&#8203;の&#8203;1&#8203;つ&#8203;で、&#8203;デー&#8203;タ&#8203;を&#8203;グ&#8203;ラ&#8203;フ&#8203;な&#8203;ど&#8203;で&#8203;表&#8203;現&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で&#8203;特&#8203;性&#8203;を&#8203;直&#8203;感&#8203;的&#8203;に&#8203;理&#8203;解&#8203;で&#8203;き&#8203;る&#8203;よ&#8203;う&#8203;に&#8203;な&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>Chapter 2.2 &#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;の&#8203;説&#8203;明&#8203;で&#8203;は、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;で&#8203;用&#8203;い&#8203;る&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;説&#8203;明&#8203;し&#8203;ま&#8203;し&#8203;た。&#8203;こ&#8203;こ&#8203;で&#8203;は&#8203;そ&#8203;れ&#8203;ら&#8203;の&#8203;デー&#8203;タ&#8203;を、&#8203; <code>matplotlib</code> &#8203;と&#8203; <code>seaborn</code> &#8203;を&#8203;用&#8203;い&#8203;て&#8203;可&#8203;視&#8203;化&#8203;し&#8203;ま&#8203;す。&#8203;財&#8203;務&#8203;諸&#8203;表、&#8203;株&#8203;価、&#8203;移&#8203;動&#8203;平&#8203;均、&#8203;価&#8203;格&#8203;変&#8203;化&#8203;率、&#8203;ヒ&#8203;ス&#8203;ト&#8203;リ&#8203;カ&#8203;ル・&#8203;ボ&#8203;ラ&#8203;ティ&#8203;リ&#8203;ティ&#8203;を&#8203;個&#8203;別&#8203;で&#8203;見&#8203;て、&#8203;最&#8203;後&#8203;に&#8203;1&#8203;つ&#8203;の&#8203;グ&#8203;ラ&#8203;フ&#8203;と&#8203;し&#8203;て&#8203;ま&#8203;と&#8203;め&#8203;て&#8203;可&#8203;視&#8203;化&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="sect3">
<h4 id="_財務諸表">2.5.1. 財務諸表</h4>
<div class="paragraph">
<p>ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;情&#8203;報&#8203;は&#8203;項&#8203;目&#8203;が&#8203;多&#8203;い&#8203;た&#8203;め、&#8203;今&#8203;回&#8203;は、&#8203;売&#8203;上&#8203;高、&#8203;営&#8203;業&#8203;利&#8203;益、&#8203;純&#8203;利&#8203;益、&#8203;純&#8203;資&#8203;産&#8203;及&#8203;び&#8203;そ&#8203;の&#8203;決&#8203;算&#8203;期&#8203;の&#8203;間&#8203;の&#8203;関&#8203;係&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;可&#8203;視&#8203;化&#8203;し&#8203;ま&#8203;す。&#8203;サ&#8203;ン&#8203;プ&#8203;ル&#8203;と&#8203;し&#8203;て、&#8203;銘&#8203;柄&#8203;コー&#8203;ド&#8203;9984&#8203;の&#8203;「ソ&#8203;フ&#8203;ト&#8203;バ&#8203;ン&#8203;ク&#8203;グ&#8203;ルー&#8203;プ」&#8203;を&#8203;可&#8203;視&#8203;化&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># stock_finの読み込み</span>
fin = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_fin</span><span class="delimiter">&quot;</span></span>]

<span class="comment"># 銘柄コード9984にデータを絞る</span>
code = <span class="integer">9984</span>
fin_data = fin[fin[<span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>] == code]

<span class="comment"># 2019年までの値を表示</span>
fin_data = fin_data[:<span class="string"><span class="delimiter">&quot;</span><span class="content">2019</span><span class="delimiter">&quot;</span></span>]

<span class="comment"># プロット対象を定義</span>
columns = [
    <span class="string"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement NetSales</span><span class="delimiter">&quot;</span></span>,  <span class="comment"># 売上高</span>
    <span class="string"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement OperatingIncome</span><span class="delimiter">&quot;</span></span>,  <span class="comment"># 営業利益</span>
    <span class="string"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement NetIncome</span><span class="delimiter">&quot;</span></span>,  <span class="comment"># 純利益</span>
    <span class="string"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement NetAssets</span><span class="delimiter">&quot;</span></span>,  <span class="comment"># 純資産</span>
    <span class="string"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement ReportType</span><span class="delimiter">&quot;</span></span>  <span class="comment"># 決算期</span>
]

<span class="comment"># プロット</span>
sns.pairplot(fin_data[columns], hue=<span class="string"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement ReportType</span><span class="delimiter">&quot;</span></span>, height=<span class="integer">5</span>)</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/sample_fin_stock.png" alt="sample fin plot">
</div>
</div>
<div class="paragraph">
<p>上&#8203;記&#8203;の&#8203;プ&#8203;ロッ&#8203;ト&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;説&#8203;明&#8203;し&#8203;ま&#8203;す&#8203;と、&#8203;各&#8203;色&#8203;（緑、&#8203;赤、&#8203;青、&#8203;オ&#8203;レ&#8203;ン&#8203;ジ）&#8203;は&#8203;そ&#8203;れ&#8203;ぞ&#8203;れ&#8203;Q1,Q2,Q3,Annual&#8203;に&#8203;お&#8203;け&#8203;る&#8203;決&#8203;算&#8203;の&#8203;値&#8203;に&#8203;対&#8203;応&#8203;し&#8203;て&#8203;お&#8203;り、&#8203;対&#8203;角&#8203;に&#8203;並&#8203;ん&#8203;で&#8203;い&#8203;る&#8203;プ&#8203;ロッ&#8203;ト&#8203;は&#8203;各&#8203;軸&#8203;の&#8203;特&#8203;徴&#8203;量&#8203;の&#8203;分&#8203;布&#8203;を&#8203;表&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;ま&#8203;た、&#8203;そ&#8203;の&#8203;他&#8203;の&#8203;プ&#8203;ロッ&#8203;ト&#8203;は、&#8203;各&#8203;軸&#8203;2&#8203;つ&#8203;の&#8203;変&#8203;数&#8203;の&#8203;散&#8203;布&#8203;図&#8203;を&#8203;表&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;<br>
例&#8203;え&#8203;ば、&#8203;2&#8203;行&#8203;1&#8203;列&#8203;目&#8203;の&#8203;グ&#8203;ラ&#8203;フ&#8203;を&#8203;見&#8203;る&#8203;と、&#8203;横&#8203;軸&#8203;が&#8203;売&#8203;上&#8203;高、&#8203;縦&#8203;軸&#8203;が&#8203;営&#8203;業&#8203;利&#8203;益&#8203;に&#8203;なっ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;高&#8203;い&#8203;売&#8203;上&#8203;高&#8203;は&#8203;高&#8203;い&#8203;営&#8203;業&#8203;利&#8203;益&#8203;に&#8203;繋&#8203;がっ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;ま&#8203;た、&#8203;決&#8203;算&#8203;期&#8203;が&#8203;Q1&#8203;か&#8203;ら&#8203;Q3,&#8203;本&#8203;決&#8203;算&#8203;に&#8203;至&#8203;る&#8203;ま&#8203;で&#8203;に&#8203;基&#8203;本&#8203;的&#8203;に&#8203;右&#8203;肩&#8203;上&#8203;が&#8203;り&#8203;で&#8203;あ&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;分&#8203;か&#8203;り&#8203;ま&#8203;す。&#8203;こ&#8203;の&#8203;こ&#8203;と&#8203;か&#8203;ら&#8203;財&#8203;務&#8203;デー&#8203;タ&#8203;の&#8203;純&#8203;売&#8203;上&#8203;高&#8203;や&#8203;営&#8203;業&#8203;利&#8203;益&#8203;な&#8203;ど&#8203;の&#8203;変&#8203;数&#8203;は、&#8203;各&#8203;決&#8203;算&#8203;期&#8203;ご&#8203;と&#8203;の&#8203;値&#8203;で&#8203;は&#8203;な&#8203;く、&#8203;各&#8203;決&#8203;算&#8203;期&#8203;を&#8203;積&#8203;み&#8203;上&#8203;げ&#8203;式&#8203;で&#8203;記&#8203;録&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;と&#8203;推&#8203;測&#8203;で&#8203;き&#8203;ま&#8203;す。</p>
</div>
<div class="sect4">
<h5 id="_複数銘柄のファンダメンタル情報の比較">複数銘柄のファンダメンタル情報の比較</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># stock_finの読み込み</span>
fin = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_fin</span><span class="delimiter">&quot;</span></span>]

<span class="comment"># 銘柄コード9984と9983を比較する</span>
codes = [<span class="integer">9984</span>, <span class="integer">9983</span>]

multi_df = <span class="predefined">dict</span>()

<span class="comment"># プロット対象を定義</span>
columns = [
    <span class="string"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement NetSales</span><span class="delimiter">&quot;</span></span>,  <span class="comment"># 売上高</span>
    <span class="string"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement OperatingIncome</span><span class="delimiter">&quot;</span></span>,  <span class="comment"># 営業利益</span>
    <span class="string"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement NetIncome</span><span class="delimiter">&quot;</span></span>,  <span class="comment"># 純利益</span>
    <span class="string"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement NetAssets</span><span class="delimiter">&quot;</span></span>,  <span class="comment"># 純資産</span>
    <span class="string"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement ReportType</span><span class="delimiter">&quot;</span></span>  <span class="comment"># 決算期</span>
]

<span class="comment"># 比較対象の銘柄コード毎に処理</span>
<span class="keyword">for</span> code <span class="keyword">in</span> codes:
    <span class="comment"># 特定の銘柄コードに絞り込み</span>
    fin_data = fin[fin[<span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>] == code]
    <span class="comment"># 2019年までの値を表示</span>
    fin_data = fin_data[:<span class="string"><span class="delimiter">&quot;</span><span class="content">2019</span><span class="delimiter">&quot;</span></span>].copy()
    <span class="comment"># 重複を排除</span>
    fin_data.drop_duplicates(
        subset=[
            <span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>,
            <span class="string"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement FiscalYear</span><span class="delimiter">&quot;</span></span>,
            <span class="string"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement ReportType</span><span class="delimiter">&quot;</span></span>
        ],
        keep=<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, inplace=<span class="predefined-constant">True</span>)
    <span class="comment"># プロット対象のカラムを取得</span>
    _fin_data = fin_data[columns]
    <span class="comment"># 決算期毎の平均を取得</span>
    multi_df[code] = _fin_data[columns].groupby(<span class="string"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement ReportType</span><span class="delimiter">&quot;</span></span>).mean()

<span class="comment"># 銘柄毎に処理していたものを結合</span>
multi_df = pd.concat(multi_df)
<span class="comment"># 凡例を調整</span>
multi_df.set_index(multi_df.index.map(<span class="keyword">lambda</span> t: f<span class="string"><span class="delimiter">&quot;</span><span class="content">{t[0]}/{t[1]}</span><span class="delimiter">&quot;</span></span>), inplace=<span class="predefined-constant">True</span>)
<span class="comment"># プロット</span>
ax = multi_df.T.plot(kind=<span class="string"><span class="delimiter">&quot;</span><span class="content">bar</span><span class="delimiter">&quot;</span></span>, figsize=(<span class="integer">12</span>, <span class="integer">6</span>), grid=<span class="predefined-constant">True</span>)
<span class="comment"># Y軸のラベルを調整</span>
ax.get_yaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(<span class="keyword">lambda</span> x, p: <span class="string"><span class="delimiter">&quot;</span><span class="content">{} bYen</span><span class="delimiter">&quot;</span></span>.format(<span class="predefined">int</span>(x / <span class="integer">1</span>_000))))</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/sample_comparison.png" alt="sample_comparison">
</div>
</div>
<div class="paragraph">
<p>画&#8203;像&#8203;の&#8203;中&#8203;に&#8203;コ&#8203;メ&#8203;ン&#8203;ト&#8203;を&#8203;記&#8203;載&#8203;し&#8203;て&#8203;お&#8203;り&#8203;ま&#8203;す&#8203;が、&#8203;NetSales&#8203;（売&#8203;上&#8203;高）&#8203;と&#8203;NetAssets&#8203;（純&#8203;資&#8203;産）&#8203;の&#8203;特&#8203;性&#8203;の&#8203;違&#8203;い&#8203;が&#8203;わ&#8203;か&#8203;り&#8203;ま&#8203;す。&#8203;NetAssets&#8203;は&#8203;一&#8203;定&#8203;の&#8203;数&#8203;値&#8203;に&#8203;なっ&#8203;て&#8203;お&#8203;り、&#8203;決&#8203;算&#8203;期&#8203;の&#8203;影&#8203;響&#8203;を&#8203;あ&#8203;ま&#8203;り&#8203;受&#8203;け&#8203;て&#8203;い&#8203;な&#8203;い&#8203;こ&#8203;と&#8203;が&#8203;わ&#8203;か&#8203;り&#8203;ま&#8203;す。&#8203;一&#8203;方、&#8203;NetSales&#8203;は&#8203;Q1&#8203;か&#8203;ら&#8203;Annual&#8203;に&#8203;か&#8203;け&#8203;て&#8203;数&#8203;値&#8203;が&#8203;積&#8203;み&#8203;上&#8203;がっ&#8203;て&#8203;お&#8203;り、&#8203;Q1&#8203;か&#8203;ら&#8203;決&#8203;算&#8203;期&#8203;が&#8203;進&#8203;む&#8203;ご&#8203;と&#8203;に&#8203;大&#8203;き&#8203;く&#8203;な&#8203;る&#8203;特&#8203;性&#8203;を&#8203;持&#8203;つ&#8203;こ&#8203;と&#8203;が&#8203;わ&#8203;か&#8203;り&#8203;ま&#8203;す。</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_株価">2.5.2. 株価</h4>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で&#8203;は、&#8203;サ&#8203;ン&#8203;プ&#8203;ル&#8203;と&#8203;し&#8203;て&#8203;銘&#8203;柄&#8203;コー&#8203;ド&#8203;9984&#8203;の&#8203;「ソ&#8203;フ&#8203;ト&#8203;バ&#8203;ン&#8203;ク&#8203;グ&#8203;ルー&#8203;プ」&#8203;の&#8203;終&#8203;値&#8203;の&#8203;動&#8203;き&#8203;を&#8203;可&#8203;視&#8203;化&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># stock_priceの読み込み</span>
price = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_price</span><span class="delimiter">&quot;</span></span>]

<span class="comment"># 特定の銘柄コードに絞り込み</span>
code = <span class="integer">9984</span>
price_data = price[price[<span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>] == code]
<span class="comment"># 2019年までの値を表示</span>
price_data = price_data[:<span class="string"><span class="delimiter">&quot;</span><span class="content">2019</span><span class="delimiter">&quot;</span></span>]

<span class="comment"># プロット</span>
fig, ax = plt.subplots(figsize=(<span class="integer">20</span>, <span class="integer">8</span>))

ax.plot(price_data[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>], label=f<span class="string"><span class="delimiter">&quot;</span><span class="content">securities code : {code}.T</span><span class="delimiter">&quot;</span></span>)
ax.set_ylabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_price</span><span class="delimiter">&quot;</span></span>)
ax.set_xlabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">datetime</span><span class="delimiter">&quot;</span></span>)
ax.grid(<span class="predefined-constant">True</span>)
ax.legend()</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/sample_stock_price_close.png" alt="sample_close_price">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_移動平均">2.5.3. 移動平均</h4>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で&#8203;は&#8203;移&#8203;動&#8203;平&#8203;均&#8203;を&#8203;プ&#8203;ロッ&#8203;ト&#8203;し&#8203;ま&#8203;す。&#8203;移&#8203;動&#8203;平&#8203;均&#8203;に&#8203;も&#8203;さ&#8203;ま&#8203;ざ&#8203;ま&#8203;な&#8203;種&#8203;類&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す&#8203;が、&#8203;こ&#8203;こ&#8203;で&#8203;は&#8203;単&#8203;純&#8203;移&#8203;動&#8203;平&#8203;均&#8203;線&#8203;を&#8203;用&#8203;い&#8203;ま&#8203;す。&#8203;単&#8203;純&#8203;移&#8203;動&#8203;平&#8203;均&#8203;線&#8203;と&#8203;い&#8203;う&#8203;の&#8203;は、&#8203;例&#8203;え&#8203;ば、&#8203;5&#8203;日&#8203;線&#8203;で&#8203;あ&#8203;れ&#8203;ば、&#8203;直&#8203;近&#8203;5&#8203;営&#8203;業&#8203;日&#8203;の&#8203;価&#8203;格&#8203;の&#8203;平&#8203;均&#8203;値&#8203;で&#8203;す。&#8203;こ&#8203;れ&#8203;を&#8203;1&#8203;つ&#8203;ず&#8203;つ&#8203;期&#8203;間&#8203;を&#8203;ス&#8203;ラ&#8203;イ&#8203;ド&#8203;し&#8203;な&#8203;が&#8203;ら&#8203;計&#8203;算&#8203;し&#8203;た&#8203;も&#8203;の&#8203;に&#8203;な&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># stock_priceの読み込み</span>
price = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_price</span><span class="delimiter">&quot;</span></span>]

<span class="comment"># 特定の銘柄コードに絞り込み</span>
code = <span class="integer">9984</span>
price_data = price[price[<span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>] == code]
<span class="comment"># 2019年までの値を表示</span>
price_data = price_data[:<span class="string"><span class="delimiter">&quot;</span><span class="content">2019</span><span class="delimiter">&quot;</span></span>].copy()

<span class="comment"># 5日、25日、75日の移動平均を算出</span>
periods = [<span class="integer">5</span>, <span class="integer">25</span>, <span class="integer">75</span>]
cols = []
<span class="keyword">for</span> period <span class="keyword">in</span> periods:
    col = <span class="string"><span class="delimiter">&quot;</span><span class="content">{} windows simple moving average</span><span class="delimiter">&quot;</span></span>.format(period)
    price_data[col] = price_data[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].rolling(period, min_periods=<span class="integer">1</span>).mean()
    cols.append(col)

<span class="comment"># プロット</span>
fig, ax = plt.subplots(figsize=(<span class="integer">20</span>, <span class="integer">8</span>))

<span class="keyword">for</span> col <span class="keyword">in</span> cols:
    ax.plot(price_data[col], label=col)
ax.set_ylabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_price</span><span class="delimiter">&quot;</span></span>)
ax.set_xlabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">datetime</span><span class="delimiter">&quot;</span></span>)
ax.grid(<span class="predefined-constant">True</span>)
ax.legend()</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/sample_moving_average.png" alt="sample_SMA">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_価格変化率">2.5.4. 価格変化率</h4>
<div class="paragraph">
<p>価&#8203;格&#8203;変&#8203;化&#8203;率&#8203;は、&#8203;価&#8203;格&#8203;が&#8203;そ&#8203;の&#8203;期&#8203;間&#8203;で&#8203;ど&#8203;れ&#8203;く&#8203;ら&#8203;い&#8203;変&#8203;化&#8203;し&#8203;た&#8203;か&#8203;を&#8203;(%)&#8203;で&#8203;表&#8203;現&#8203;し&#8203;た&#8203;も&#8203;の&#8203;で&#8203;す。&#8203;相&#8203;場&#8203;の&#8203;勢&#8203;い&#8203;や&#8203;方&#8203;向&#8203;性&#8203;等&#8203;を&#8203;判&#8203;断&#8203;す&#8203;る&#8203;際&#8203;に&#8203;よ&#8203;く&#8203;使&#8203;わ&#8203;れ&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># stock_priceの読み込み</span>
price = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_price</span><span class="delimiter">&quot;</span></span>]

<span class="comment"># 特定の銘柄コードに絞り込み</span>
code = <span class="integer">9984</span>
price_data = price[price[<span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>] == code]
<span class="comment"># 2019年までの値を表示</span>
price_data = price_data[:<span class="string"><span class="delimiter">&quot;</span><span class="content">2019</span><span class="delimiter">&quot;</span></span>].copy()

<span class="comment"># 5日、25日、75日の価格変化率を算出</span>
periods = [<span class="integer">5</span>, <span class="integer">25</span>, <span class="integer">75</span>]
cols = []
<span class="keyword">for</span> period <span class="keyword">in</span> periods:
    col = <span class="string"><span class="delimiter">&quot;</span><span class="content">{} windows rate of return</span><span class="delimiter">&quot;</span></span>.format(period)
    price_data[col] = price_data[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].pct_change(period) * <span class="integer">100</span>
    cols.append(col)

<span class="comment"># プロット</span>
fig, ax = plt.subplots(figsize=(<span class="integer">20</span>, <span class="integer">8</span>))

<span class="keyword">for</span> col <span class="keyword">in</span> cols:
    ax.plot(price_data[col], label=col)
ax.set_ylabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">rate of return (%)</span><span class="delimiter">&quot;</span></span>)
ax.set_xlabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">datetime</span><span class="delimiter">&quot;</span></span>)
ax.grid(<span class="predefined-constant">True</span>)
ax.legend()</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/sample_rate_of_return.png" alt="sample_rr">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ヒストリカルボラティリティ">2.5.5. ヒストリカル・ボラティリティ</h4>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で&#8203;は&#8203;ヒ&#8203;ス&#8203;ト&#8203;リ&#8203;カ&#8203;ル・&#8203;ボ&#8203;ラ&#8203;ティ&#8203;リ&#8203;ティ&#8203;を&#8203;計&#8203;算&#8203;し&#8203;ま&#8203;す。&#8203;こ&#8203;こ&#8203;で&#8203;計&#8203;算&#8203;す&#8203;る&#8203;ヒ&#8203;ス&#8203;ト&#8203;リ&#8203;カ&#8203;ル・&#8203;ボ&#8203;ラ&#8203;ティ&#8203;リ&#8203;ティ&#8203;は、&#8203;5&#8203;日、&#8203;25&#8203;日、&#8203;75&#8203;日&#8203;の&#8203;対&#8203;数&#8203;リ&#8203;ター&#8203;ン&#8203;の&#8203;標&#8203;準&#8203;偏&#8203;差&#8203;で&#8203;す。&#8203;ヒ&#8203;ス&#8203;ト&#8203;リ&#8203;カ&#8203;ル・&#8203;ボ&#8203;ラ&#8203;ティ&#8203;リ&#8203;ティ&#8203;は&#8203;リ&#8203;ス&#8203;ク&#8203;指&#8203;標&#8203;の&#8203;一&#8203;つ&#8203;で、&#8203;価&#8203;格&#8203;が&#8203;ど&#8203;の&#8203;程&#8203;度&#8203;激&#8203;し&#8203;く&#8203;変&#8203;動&#8203;し&#8203;た&#8203;か&#8203;を&#8203;把&#8203;握&#8203;す&#8203;る&#8203;た&#8203;め&#8203;に&#8203;利&#8203;用&#8203;し&#8203;ま&#8203;す。&#8203;一&#8203;般&#8203;的&#8203;に&#8203;ヒ&#8203;ス&#8203;ト&#8203;リ&#8203;カ&#8203;ル・&#8203;ボ&#8203;ラ&#8203;ティ&#8203;リ&#8203;ティ&#8203;が&#8203;大&#8203;き&#8203;い&#8203;銘&#8203;柄&#8203;は、&#8203;小&#8203;さ&#8203;い&#8203;銘&#8203;柄&#8203;よ&#8203;り&#8203;も&#8203;資&#8203;産&#8203;と&#8203;し&#8203;て&#8203;保&#8203;持&#8203;す&#8203;る&#8203;リ&#8203;ス&#8203;ク&#8203;が&#8203;相&#8203;対&#8203;的&#8203;に&#8203;高&#8203;い&#8203;と&#8203;考&#8203;え&#8203;ら&#8203;れ&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># stock_priceの読み込み</span>
price = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_price</span><span class="delimiter">&quot;</span></span>]

<span class="comment"># 特定の銘柄コードに絞り込み</span>
code = <span class="integer">9984</span>
price_data = price[price[<span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>] == code]
<span class="comment"># 2019年までの値を表示</span>
price_data = price_data[:<span class="string"><span class="delimiter">&quot;</span><span class="content">2019</span><span class="delimiter">&quot;</span></span>].copy()

<span class="comment"># 5日、25日、75日のヒストリカル・ボラティリティを算出</span>
periods = [<span class="integer">5</span>, <span class="integer">25</span>, <span class="integer">75</span>]
cols = []
<span class="keyword">for</span> period <span class="keyword">in</span> periods:
    col = <span class="string"><span class="delimiter">&quot;</span><span class="content">{} windows volatility</span><span class="delimiter">&quot;</span></span>.format(period)
    price_data[col] = np.log(price_data[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>]).diff().rolling(period).std()
    cols.append(col)

<span class="comment"># プロット</span>
fig, ax = plt.subplots(figsize=(<span class="integer">20</span>, <span class="integer">8</span>))

<span class="keyword">for</span> col <span class="keyword">in</span> cols:
    ax.plot(price_data[col], label=col)
ax.set_ylabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">volatility</span><span class="delimiter">&quot;</span></span>)
ax.set_xlabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">datetime</span><span class="delimiter">&quot;</span></span>)
ax.grid(<span class="predefined-constant">True</span>)
ax.legend()</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/sample_volatility.png" alt="sample_volatility">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_複数の株価データを同時にプロット">2.5.6. 複数の株価データを同時にプロット</h4>
<div class="paragraph">
<p>こ&#8203;れ&#8203;ま&#8203;で&#8203;可&#8203;視&#8203;化&#8203;し&#8203;て&#8203;き&#8203;た&#8203;株&#8203;価&#8203;に&#8203;関&#8203;す&#8203;る&#8203;デー&#8203;タ&#8203;を&#8203;同&#8203;時&#8203;に&#8203;プ&#8203;ロッ&#8203;ト&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で、&#8203;そ&#8203;れ&#8203;ぞ&#8203;れ&#8203;の&#8203;値&#8203;の&#8203;関&#8203;連&#8203;性&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;考&#8203;察&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># stock_priceの読み込み</span>
price = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_price</span><span class="delimiter">&quot;</span></span>]

<span class="comment"># 特定の銘柄コードに絞り込み</span>
code = <span class="integer">9984</span>
price_data = price[price[<span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>] == code]
<span class="comment"># 2019年までの値を表示</span>
price_data = price_data[:<span class="string"><span class="delimiter">&quot;</span><span class="content">2019</span><span class="delimiter">&quot;</span></span>].copy()

<span class="comment"># 5日、25日、75日を対象に値を算出</span>
periods = [<span class="integer">5</span>, <span class="integer">25</span>, <span class="integer">75</span>]
ma_cols = []
<span class="comment"># 移動平均線</span>
<span class="keyword">for</span> period <span class="keyword">in</span> periods:
    col = <span class="string"><span class="delimiter">&quot;</span><span class="content">{} windows simple moving average</span><span class="delimiter">&quot;</span></span>.format(period)
    price_data[col] = price_data[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].rolling(period, min_periods=<span class="integer">1</span>).mean()
    ma_cols.append(col)

return_cols = []
<span class="comment"># 価格変化率</span>
<span class="keyword">for</span> period <span class="keyword">in</span> periods:
    col = <span class="string"><span class="delimiter">&quot;</span><span class="content">{} windows rate of return</span><span class="delimiter">&quot;</span></span>.format(period)
    price_data[col] = price_data[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].pct_change(period) * <span class="integer">100</span>
    return_cols.append(col)

vol_cols = []
<span class="comment"># ヒストリカル・ボラティリティ</span>
<span class="keyword">for</span> period <span class="keyword">in</span> periods:
    col = <span class="string"><span class="delimiter">&quot;</span><span class="content">{} windows volatility</span><span class="delimiter">&quot;</span></span>.format(period)
    price_data[col] = np.log(price_data[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>]).diff().rolling(period).std()
    vol_cols.append(col)

<span class="comment"># プロット</span>
fig, ax = plt.subplots(nrows=<span class="integer">3</span> ,figsize=(<span class="integer">20</span>, <span class="integer">8</span>))

ax[<span class="integer">0</span>].plot(price_data[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>], label=<span class="string"><span class="delimiter">&quot;</span><span class="content">Close Price</span><span class="delimiter">&quot;</span></span>)

<span class="keyword">for</span> col <span class="keyword">in</span> ma_cols:
    ax[<span class="integer">0</span>].plot(price_data[col], label=col)

<span class="keyword">for</span> col <span class="keyword">in</span> return_cols:
    ax[<span class="integer">1</span>].plot(price_data[col], label=col)

<span class="keyword">for</span> col <span class="keyword">in</span> vol_cols:
    ax[<span class="integer">2</span>].plot(price_data[col], label=col)

ax[<span class="integer">0</span>].set_ylabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_price</span><span class="delimiter">&quot;</span></span>)
ax[<span class="integer">1</span>].set_ylabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">rate of return (%)</span><span class="delimiter">&quot;</span></span>)
ax[<span class="integer">2</span>].set_ylabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">volatility (log return)</span><span class="delimiter">&quot;</span></span>)
<span class="keyword">for</span> _ax <span class="keyword">in</span> ax:
    _ax.set_xlabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">datetime</span><span class="delimiter">&quot;</span></span>)
    _ax.grid(<span class="predefined-constant">True</span>)
    _ax.legend()</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/sample_plot_all_features.png" alt="plot_all_features">
</div>
</div>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で&#8203;は&#8203;2018&#8203;年&#8203;末&#8203;に&#8203;起&#8203;き&#8203;た&#8203;株&#8203;価&#8203;の&#8203;下&#8203;落&#8203;に&#8203;着&#8203;目&#8203;し&#8203;て&#8203;み&#8203;ま&#8203;す。&#8203;複&#8203;数&#8203;の&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;並&#8203;べ&#8203;て&#8203;プ&#8203;ロッ&#8203;ト&#8203;す&#8203;る&#8203;と、&#8203;株&#8203;価&#8203;に&#8203;大&#8203;き&#8203;な&#8203;変&#8203;動&#8203;が&#8203;あっ&#8203;た&#8203;時&#8203;に&#8203;他&#8203;の&#8203;特&#8203;徴&#8203;量&#8203;に&#8203;ど&#8203;の&#8203;よ&#8203;う&#8203;な&#8203;影&#8203;響&#8203;を&#8203;与&#8203;え&#8203;て&#8203;い&#8203;る&#8203;か&#8203;を&#8203;観&#8203;測&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>移&#8203;動&#8203;平&#8203;均&#8203;の&#8203;特&#8203;徴&#8203;量&#8203;は、&#8203;期&#8203;間&#8203;が&#8203;短&#8203;い&#8203;ほ&#8203;ど&#8203;敏&#8203;感&#8203;に&#8203;株&#8203;価&#8203;の&#8203;下&#8203;落&#8203;に&#8203;反&#8203;応&#8203;し、&#8203;期&#8203;間&#8203;が&#8203;長&#8203;い&#8203;特&#8203;徴&#8203;量&#8203;ほ&#8203;ど&#8203;反&#8203;応&#8203;が&#8203;遅&#8203;れ&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;わ&#8203;か&#8203;り&#8203;ま&#8203;す。&#8203;リ&#8203;ター&#8203;ン&#8203;の&#8203;特&#8203;徴&#8203;量&#8203;も&#8203;下&#8203;落&#8203;時&#8203;に&#8203;は&#8203;同&#8203;一&#8203;の&#8203;傾&#8203;向&#8203;が&#8203;見&#8203;て&#8203;取&#8203;れ&#8203;ま&#8203;す&#8203;が、&#8203;そ&#8203;の&#8203;後&#8203;高&#8203;い&#8203;リ&#8203;ター&#8203;ン&#8203;が&#8203;観&#8203;測&#8203;さ&#8203;れ&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;わ&#8203;か&#8203;り&#8203;ま&#8203;す。&#8203;一&#8203;方、&#8203;ヒ&#8203;ス&#8203;ト&#8203;リ&#8203;カ&#8203;ル・&#8203;ボ&#8203;ラ&#8203;ティ&#8203;リ&#8203;ティ&#8203;の&#8203;挙&#8203;動&#8203;を&#8203;み&#8203;る&#8203;と、&#8203;下&#8203;落&#8203;の&#8203;前&#8203;に&#8203;じ&#8203;わ&#8203;じ&#8203;わ&#8203;と&#8203;ボ&#8203;ラ&#8203;ティ&#8203;リ&#8203;ティ&#8203;が&#8203;上&#8203;昇&#8203;し&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;わ&#8203;か&#8203;り&#8203;ま&#8203;す。&#8203;こ&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;一&#8203;つ&#8203;の&#8203;株&#8203;価&#8203;の&#8203;下&#8203;落&#8203;を&#8203;見&#8203;て&#8203;も、&#8203;そ&#8203;れ&#8203;ぞ&#8203;れ&#8203;の&#8203;特&#8203;徴&#8203;量&#8203;の&#8203;挙&#8203;動&#8203;が&#8203;微&#8203;妙&#8203;に&#8203;異&#8203;なっ&#8203;て&#8203;お&#8203;り、&#8203;複&#8203;数&#8203;個&#8203;の&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;モ&#8203;デ&#8203;ル&#8203;に&#8203;投&#8203;入&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で、&#8203;こ&#8203;れ&#8203;ら&#8203;の&#8203;挙&#8203;動&#8203;の&#8203;パ&#8203;ター&#8203;ン&#8203;を&#8203;学&#8203;習&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;想&#8203;像&#8203;で&#8203;き&#8203;ま&#8203;す。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_データセットの前処理">2.6. データセットの前処理</h3>
<div class="paragraph">
<p>こ&#8203;こ&#8203;ま&#8203;で&#8203;デー&#8203;タ&#8203;の&#8203;読&#8203;み&#8203;込&#8203;み&#8203;及&#8203;び&#8203;可&#8203;視&#8203;化&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;説&#8203;明&#8203;し&#8203;て&#8203;き&#8203;ま&#8203;し&#8203;た&#8203;が、&#8203;こ&#8203;こ&#8203;か&#8203;ら&#8203;は&#8203;デー&#8203;タ&#8203;の&#8203;前&#8203;処&#8203;理&#8203;や&#8203;モ&#8203;デ&#8203;ル&#8203;構&#8203;築&#8203;に&#8203;関&#8203;し&#8203;て&#8203;説&#8203;明&#8203;し&#8203;て&#8203;い&#8203;き&#8203;ま&#8203;す。
大&#8203;ま&#8203;か&#8203;な&#8203;流&#8203;れ&#8203;は、&#8203;次&#8203;の&#8203;図&#8203;の&#8203;と&#8203;お&#8203;り&#8203;で&#8203;す。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/flow_chart.png" alt="pipeline">
</div>
</div>
<div class="paragraph">
<p>上&#8203;図&#8203;の&#8203;と&#8203;お&#8203;り、&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;構&#8203;築&#8203;す&#8203;る&#8203;際&#8203;に&#8203;は、&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;を&#8203;そ&#8203;の&#8203;ま&#8203;ま&#8203;入&#8203;力&#8203;す&#8203;る&#8203;の&#8203;で&#8203;は&#8203;な&#8203;く、&#8203;欠&#8203;損&#8203;値&#8203;処&#8203;理&#8203;や&#8203;正&#8203;規&#8203;化&#8203;処&#8203;理&#8203;な&#8203;ど&#8203;の&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;の&#8203;前&#8203;処&#8203;理&#8203;を&#8203;実&#8203;施&#8203;し&#8203;て&#8203;か&#8203;ら&#8203;入&#8203;力&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;一&#8203;般&#8203;的&#8203;で&#8203;す。&#8203;こ&#8203;こ&#8203;で&#8203;は&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;の&#8203;前&#8203;処&#8203;理&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;解&#8203;説&#8203;し&#8203;て&#8203;い&#8203;き&#8203;ま&#8203;す。</p>
</div>
<div class="sect3">
<h4 id="_欠損値処理">2.6.1. 欠損値処理</h4>
<div class="paragraph">
<p>機&#8203;械&#8203;学&#8203;習&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;多&#8203;く&#8203;は&#8203;欠&#8203;損&#8203;値&#8203;を&#8203;そ&#8203;の&#8203;ま&#8203;ま&#8203;扱&#8203;う&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;な&#8203;い&#8203;た&#8203;め、&#8203;補&#8203;完&#8203;す&#8203;る&#8203;な&#8203;ど&#8203;し&#8203;て&#8203;対&#8203;処&#8203;す&#8203;る&#8203;必&#8203;要&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;欠&#8203;損&#8203;値&#8203;補&#8203;完&#8203;の&#8203;方&#8203;法&#8203;と&#8203;し&#8203;て&#8203;は、&#8203;平&#8203;均&#8203;値&#8203;埋&#8203;め&#8203;や&#8203;リ&#8203;ス&#8203;ト&#8203;ワ&#8203;イ&#8203;ズ&#8203;法、&#8203;多&#8203;重&#8203;代&#8203;入&#8203;法&#8203;な&#8203;ど&#8203;が&#8203;存&#8203;在&#8203;し&#8203;ま&#8203;す。&#8203;ま&#8203;た、&#8203;変&#8203;数&#8203;に&#8203;欠&#8203;損&#8203;が&#8203;存&#8203;在&#8203;す&#8203;る&#8203;レ&#8203;コー&#8203;ド&#8203;を&#8203;単&#8203;に&#8203;除&#8203;外&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;や、&#8203;欠&#8203;損&#8203;を&#8203;多&#8203;く&#8203;含&#8203;む&#8203;変&#8203;数&#8203;自&#8203;体&#8203;を&#8203;除&#8203;外&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;も&#8203;考&#8203;え&#8203;ら&#8203;れ&#8203;ま&#8203;す。</p>
</div>
</div>
<div class="sect3">
<h4 id="_欠損値の処理方法">2.6.2. 欠損値の処理方法</h4>
<div class="paragraph">
<p>本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;デー&#8203;タ&#8203;に&#8203;つ&#8203;い&#8203;て、&#8203;ま&#8203;ず&#8203;は&#8203;実&#8203;際&#8203;に&#8203;欠&#8203;損&#8203;が&#8203;発&#8203;生&#8203;し&#8203;て&#8203;い&#8203;る&#8203;箇&#8203;所&#8203;や&#8203;パ&#8203;ター&#8203;ン&#8203;を&#8203;特&#8203;定&#8203;す&#8203;る&#8203;た&#8203;め&#8203;に、&#8203;欠&#8203;損&#8203;の&#8203;発&#8203;生&#8203;状&#8203;況&#8203;を&#8203;プ&#8203;ロッ&#8203;ト&#8203;し&#8203;て&#8203;確&#8203;認&#8203;し&#8203;て&#8203;み&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># stock_finデータを読み込む</span>
stock_fin = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_fin</span><span class="delimiter">&quot;</span></span>]

<span class="comment"># 2019年までの値を表示</span>
stock_fin = stock_fin[:<span class="string"><span class="delimiter">&quot;</span><span class="content">2019</span><span class="delimiter">&quot;</span></span>]

<span class="comment"># データ数の確認</span>
print(stock_fin.shape)

<span class="comment"># データの欠損値数を確認</span>
print(stock_fin.isna().sum())

<span class="comment"># 欠損値の数を年別に集計</span>
stock_fin = stock_fin.isna()
stock_fin[<span class="string"><span class="delimiter">&quot;</span><span class="content">year</span><span class="delimiter">&quot;</span></span>] = stock_fin.index.year

<span class="comment"># データの欠損値をプロット</span>
fig, ax = plt.subplots(figsize=(<span class="integer">20</span>, <span class="integer">5</span>))
sns.heatmap(stock_fin.groupby(<span class="string"><span class="delimiter">&quot;</span><span class="content">year</span><span class="delimiter">&quot;</span></span>).agg(<span class="string"><span class="delimiter">&quot;</span><span class="content">sum</span><span class="delimiter">&quot;</span></span>), ax=ax)</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/missing_values.png" alt="欠損値">
</div>
</div>
<div class="paragraph">
<p>明&#8203;る&#8203;い&#8203;色&#8203;で&#8203;示&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;箇&#8203;所&#8203;は、&#8203;欠&#8203;損&#8203;値&#8203;が&#8203;多&#8203;く&#8203;発&#8203;生&#8203;し&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;を&#8203;表&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;で&#8203;は&#8203;欠&#8203;損&#8203;値&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;以&#8203;下&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;対&#8203;応&#8203;し&#8203;ま&#8203;す。&#8203;<br>
・&#8203;`Result_FinancialStatement` &#8203;の&#8203; <code>CashFlowsFromOperatingActivities</code> 、&#8203; <code>CashFlowsFromFinancingActivities</code> 、&#8203; <code>CashFlowsFromInvestingActivities</code> &#8203;に&#8203;多&#8203;く&#8203;の&#8203;欠&#8203;損&#8203;値&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す&#8203;（上&#8203;図&#8203;中&#8203;央&#8203;左）。&#8203;こ&#8203;れ&#8203;ら&#8203;の&#8203;カ&#8203;ラ&#8203;ム&#8203;の&#8203;値&#8203;は&#8203; <code>Result_FinancialStatement ReportType</code> &#8203;が&#8203; <code>Annual</code> &#8203;の&#8203;場&#8203;合&#8203;に&#8203;の&#8203;み&#8203;値&#8203;が&#8203;入っ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;こ&#8203;れ&#8203;ら&#8203;の&#8203;欠&#8203;損&#8203;値&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;は&#8203; <code>0</code> &#8203;を&#8203;代&#8203;入&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で&#8203;対&#8203;処&#8203;し&#8203;ま&#8203;す。&#8203;<br>
・&#8203;配&#8203;当&#8203;支&#8203;払&#8203;開&#8203;始&#8203;日&#8203;を&#8203;表&#8203;す&#8203; <code>Result_Dividend DividendPayableDate</code> &#8203;や&#8203;予&#8203;想&#8203;配&#8203;当&#8203;基&#8203;準&#8203;日&#8203;を&#8203;表&#8203;す&#8203; <code>Forecast_Dividend RecordDate</code> &#8203;と&#8203;い&#8203;う&#8203;デー&#8203;タ&#8203;列&#8203;等&#8203;の&#8203;float64&#8203;型&#8203;以&#8203;外&#8203;の&#8203;デー&#8203;タ&#8203;列&#8203;に&#8203;数&#8203;多&#8203;く&#8203;欠&#8203;損&#8203;が&#8203;発&#8203;生&#8203;し&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;分&#8203;か&#8203;り&#8203;ま&#8203;す&#8203;（上&#8203;図&#8203;右&#8203;側）。&#8203;そ&#8203;の&#8203;た&#8203;め、&#8203;本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;で&#8203;は&#8203;float64&#8203;型&#8203;と&#8203;し&#8203;て&#8203;読&#8203;み&#8203;込&#8203;ま&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;カ&#8203;ラ&#8203;ム&#8203;の&#8203;み&#8203;を&#8203;使&#8203;用&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;と&#8203;し&#8203;ま&#8203;す。&#8203;<br>
・&#8203;上&#8203;記&#8203;に&#8203;記&#8203;載&#8203;し&#8203;た&#8203;キャッ&#8203;シュ&#8203;フ&#8203;ロー&#8203;に&#8203;関&#8203;す&#8203;る&#8203;カ&#8203;ラ&#8203;ム&#8203;以&#8203;外&#8203;の&#8203;float64&#8203;型&#8203;と&#8203;し&#8203;て&#8203;読&#8203;み&#8203;込&#8203;ま&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;カ&#8203;ラ&#8203;ム&#8203;の&#8203;欠&#8203;損&#8203;値&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;も、&#8203; <code>0</code> &#8203;を&#8203;代&#8203;入&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で&#8203;対&#8203;処&#8203;し&#8203;ま&#8203;す。&#8203;た&#8203;だ&#8203;し、&#8203;変&#8203;数&#8203;に&#8203;よっ&#8203;て&#8203;は、&#8203;0&#8203;と&#8203;い&#8203;う&#8203;数&#8203;字&#8203;自&#8203;体&#8203;に&#8203;意&#8203;味&#8203;が&#8203;あ&#8203;る&#8203;ケー&#8203;ス&#8203;が&#8203;有&#8203;る&#8203;た&#8203;め、&#8203;気&#8203;を&#8203;つ&#8203;け&#8203;る&#8203;必&#8203;要&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>実&#8203;際&#8203;の&#8203;欠&#8203;損&#8203;値&#8203;処&#8203;理&#8203;は、&#8203;次&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;変&#8203;数&#8203;の&#8203;型&#8203; (&#8203;今&#8203;回&#8203;は&#8203; <code>np.float64</code> &#8203;と&#8203;い&#8203;う&#8203;型&#8203;を&#8203;選&#8203;択&#8203;) &#8203;別&#8203;に&#8203;後&#8203;段&#8203;処&#8203;理&#8203;で&#8203;き&#8203;る&#8203;値&#8203; (&#8203;今&#8203;回&#8203;は&#8203; <code>0</code>) &#8203;で&#8203;欠&#8203;損&#8203;値&#8203;を&#8203;埋&#8203;め&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># stock_finデータを読み込む</span>
stock_fin = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_fin</span><span class="delimiter">&quot;</span></span>]

<span class="comment"># 銘柄コード9984にデータを絞る</span>
code = <span class="integer">9984</span>
stock_fin = stock_fin[stock_fin[<span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>] == code]

<span class="comment"># float64型の列に絞り込み</span>
fin_data = stock_fin.select_dtypes(include=[<span class="string"><span class="delimiter">&quot;</span><span class="content">float64</span><span class="delimiter">&quot;</span></span>])

<span class="comment"># 欠損値を0でフィル</span>
fin_data = fin_data.fillna(<span class="integer">0</span>)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_特徴量の生成">2.7. 特徴量の生成</h3>
<div class="sect3">
<h4 id="_なぜ特徴量の設計が重要なのか">2.7.1. なぜ特徴量の設計が重要なのか</h4>
<div class="paragraph">
<p>機&#8203;械&#8203;学&#8203;習&#8203;の&#8203;手&#8203;法&#8203;に&#8203;は&#8203;<strong>&#8203;モ&#8203;デ&#8203;ル&#8203;に&#8203;で&#8203;き&#8203;る&#8203;だ&#8203;け&#8203;生&#8203;に&#8203;近&#8203;い&#8203;デー&#8203;タ&#8203;を&#8203;与&#8203;え&#8203;て&#8203;そ&#8203;の&#8203;関&#8203;係&#8203;性&#8203;を&#8203;見&#8203;つ&#8203;け&#8203;る&#8203;手&#8203;法&#8203;</strong>&#8203;と&#8203;<strong>&#8203;ド&#8203;メ&#8203;イ&#8203;ン&#8203;知&#8203;識&#8203;や&#8203;専&#8203;門&#8203;性&#8203;を&#8203;活&#8203;か&#8203;し&#8203;て、&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;設&#8203;計&#8203;す&#8203;る&#8203;手&#8203;法&#8203;</strong>&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>前&#8203;者&#8203;の&#8203;手&#8203;法&#8203;は&#8203;End-To-End Learning&#8203;と&#8203;呼&#8203;ば&#8203;れ、&#8203;生&#8203;に&#8203;近&#8203;い&#8203;デー&#8203;タ&#8203;を&#8203;モ&#8203;デ&#8203;ル&#8203;に&#8203;与&#8203;え、&#8203;そ&#8203;の&#8203;モ&#8203;デ&#8203;ル&#8203;自&#8203;体&#8203;に&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;発&#8203;見&#8203;さ&#8203;せ&#8203;る&#8203;手&#8203;法&#8203;で&#8203;す。&#8203;音&#8203;声&#8203;認&#8203;識&#8203;な&#8203;ど&#8203;の&#8203;分&#8203;野&#8203;で&#8203;活&#8203;用&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;<br>
本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;で&#8203;は、&#8203;金&#8203;融&#8203;デー&#8203;タ&#8203;に&#8203;慣&#8203;れ&#8203;親&#8203;し&#8203;ん&#8203;で&#8203;い&#8203;た&#8203;だ&#8203;く&#8203;た&#8203;め&#8203;に&#8203;も、&#8203;特&#8203;徴&#8203;量&#8203;の&#8203;影&#8203;響&#8203;を&#8203;細&#8203;か&#8203;く&#8203;考&#8203;察&#8203;し&#8203;な&#8203;が&#8203;ら&#8203;汎&#8203;化&#8203;性&#8203;能&#8203;に&#8203;貢&#8203;献&#8203;す&#8203;る&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;設&#8203;計&#8203;し&#8203;て&#8203;い&#8203;く&#8203;ア&#8203;プ&#8203;ロー&#8203;チ&#8203;で、&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;構&#8203;築&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>特&#8203;徴&#8203;量&#8203;生&#8203;成&#8203;は、&#8203;仮&#8203;説&#8203;を&#8203;考&#8203;え、&#8203;そ&#8203;の&#8203;仮&#8203;説&#8203;を&#8203;モ&#8203;デ&#8203;ル&#8203;が&#8203;学&#8203;ぶ&#8203;に&#8203;は&#8203;ど&#8203;の&#8203;よ&#8203;う&#8203;な&#8203;特&#8203;徴&#8203;量&#8203;が&#8203;必&#8203;要&#8203;か、&#8203;と&#8203;い&#8203;う&#8203;こ&#8203;と&#8203;を&#8203;想&#8203;像&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;重&#8203;要&#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p>本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;で&#8203;は、&#8203;「直&#8203;近&#8203;株&#8203;価&#8203;が&#8203;上&#8203;がっ&#8203;た&#8203;ら、&#8203;高&#8203;値&#8203;も&#8203;よ&#8203;り&#8203;大&#8203;き&#8203;く&#8203;変&#8203;動&#8203;し&#8203;や&#8203;す&#8203;い」&#8203;と&#8203;い&#8203;う&#8203;仮&#8203;説&#8203;を&#8203;立&#8203;て、&#8203;こ&#8203;の&#8203;仮&#8203;説&#8203;を&#8203;基&#8203;に&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;生&#8203;成&#8203;し&#8203;て&#8203;み&#8203;ま&#8203;す。&#8203;こ&#8203;の&#8203;仮&#8203;説&#8203;を&#8203;モ&#8203;デ&#8203;ル&#8203;が&#8203;学&#8203;ぶ&#8203;た&#8203;め&#8203;に&#8203;は&#8203;直&#8203;近&#8203;株&#8203;価&#8203;が&#8203;上&#8203;がっ&#8203;た&#8203;こ&#8203;と&#8203;を&#8203;示&#8203;す&#8203;特&#8203;徴&#8203;量&#8203;が&#8203;必&#8203;要&#8203;で&#8203;す。&#8203;直&#8203;近&#8203;を&#8203;仮&#8203;に&#8203;1ヶ&#8203;月&#8203;と&#8203;仮&#8203;定&#8203;す&#8203;る&#8203;と、&#8203;20&#8203;日&#8203;リ&#8203;ター&#8203;ン&#8203;や&#8203;20&#8203;日&#8203;移&#8203;動&#8203;平&#8203;均&#8203;乖&#8203;離&#8203;率&#8203;な&#8203;ど&#8203;が&#8203;候&#8203;補&#8203;に&#8203;な&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>ま&#8203;た、&#8203;こ&#8203;の&#8203;仮&#8203;説&#8203;が&#8203;市&#8203;場&#8203;に&#8203;お&#8203;い&#8203;て&#8203;も&#8203;必&#8203;ず&#8203;し&#8203;も&#8203;正&#8203;し&#8203;い&#8203;と&#8203;い&#8203;う&#8203;必&#8203;要&#8203;は&#8203;な&#8203;く、&#8203;仮&#8203;説&#8203;を&#8203;思&#8203;い&#8203;つ&#8203;い&#8203;た&#8203;ら、&#8203;そ&#8203;の&#8203;仮&#8203;説&#8203;を&#8203;学&#8203;ぶ&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;る&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;想&#8203;像&#8203;し、&#8203;実&#8203;際&#8203;に&#8203;実&#8203;験&#8203;し&#8203;て&#8203;み&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;重&#8203;要&#8203;で&#8203;す。</p>
</div>
</div>
<div class="sect3">
<h4 id="_定常性を意識した特徴量設計">2.7.2. 定常性を意識した特徴量設計</h4>
<div class="paragraph">
<p>時&#8203;系&#8203;列&#8203;デー&#8203;タ&#8203;を&#8203;扱&#8203;う&#8203;際&#8203;に&#8203;は、&#8203;定&#8203;常&#8203;性&#8203;を&#8203;意&#8203;識&#8203;し&#8203;て&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;設&#8203;計&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;重&#8203;要&#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p><strong>&#8203;株&#8203;価&#8203;を&#8203;そ&#8203;の&#8203;ま&#8203;ま&#8203;学&#8203;習&#8203;さ&#8203;せ&#8203;た&#8203;ケー&#8203;ス&#8203;</strong>&#8203;と&#8203;<strong>&#8203;定&#8203;常&#8203;性&#8203;が&#8203;あ&#8203;る&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;利&#8203;用&#8203;す&#8203;る&#8203;ケー&#8203;ス&#8203;</strong>&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;考&#8203;え&#8203;て&#8203;み&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p><strong>&#8203;株&#8203;価&#8203;を&#8203;そ&#8203;の&#8203;ま&#8203;ま&#8203;学&#8203;習&#8203;さ&#8203;せ&#8203;た&#8203;ケー&#8203;ス&#8203;</strong>: &#8203;例&#8203;え&#8203;ば、&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;訓&#8203;練&#8203;期&#8203;間&#8203;に&#8203;お&#8203;け&#8203;る&#8203;株&#8203;価&#8203;が、&#8203;100&#8203;円〜&#8203;110&#8203;円&#8203;の&#8203;範&#8203;囲&#8203;で&#8203;動&#8203;い&#8203;た&#8203;と&#8203;し&#8203;ま&#8203;す。&#8203;も&#8203;し、&#8203;こ&#8203;の&#8203;数&#8203;値&#8203;を&#8203;そ&#8203;の&#8203;ま&#8203;ま&#8203;モ&#8203;デ&#8203;ル&#8203;に&#8203;投&#8203;入&#8203;す&#8203;る&#8203;と、&#8203;モ&#8203;デ&#8203;ル&#8203;は&#8203;株&#8203;価&#8203;が&#8203;100&#8203;円〜&#8203;110&#8203;円&#8203;近&#8203;辺&#8203;で&#8203;動&#8203;く&#8203;こ&#8203;と&#8203;を&#8203;暗&#8203;黙&#8203;に&#8203;学&#8203;習&#8203;し&#8203;ま&#8203;す。&#8203;し&#8203;か&#8203;し、&#8203;こ&#8203;の&#8203;暗&#8203;黙&#8203;の&#8203;仮&#8203;定&#8203;は&#8203;実&#8203;際&#8203;の&#8203;マー&#8203;ケッ&#8203;ト&#8203;で&#8203;は&#8203;成&#8203;立&#8203;し&#8203;て&#8203;お&#8203;ら&#8203;ず、&#8203;テ&#8203;ス&#8203;ト&#8203;期&#8203;間&#8203;で&#8203;株&#8203;価&#8203;が&#8203;高&#8203;騰&#8203;す&#8203;る&#8203;と、&#8203;モ&#8203;デ&#8203;ル&#8203;が&#8203;う&#8203;ま&#8203;く&#8203;動&#8203;か&#8203;な&#8203;い&#8203;こ&#8203;と&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;他&#8203;に&#8203;も&#8203;株&#8203;価&#8203;に&#8203;特&#8203;有&#8203;の&#8203;例&#8203;と&#8203;し&#8203;て&#8203;は&#8203;株&#8203;式&#8203;分&#8203;割&#8203;や&#8203;株&#8203;式&#8203;併&#8203;合&#8203;に&#8203;よ&#8203;り&#8203;株&#8203;価&#8203;の&#8203;レ&#8203;ン&#8203;ジ&#8203;が&#8203;大&#8203;き&#8203;く&#8203;変&#8203;動&#8203;す&#8203;る&#8203;場&#8203;合&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p><strong>&#8203;定&#8203;常&#8203;性&#8203;が&#8203;あ&#8203;る&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;利&#8203;用&#8203;す&#8203;る&#8203;ケー&#8203;ス&#8203;</strong>: &#8203;例&#8203;え&#8203;ば、&#8203;20&#8203;日&#8203;の&#8203;価&#8203;格&#8203;変&#8203;化&#8203;率&#8203;を&#8203;考&#8203;え&#8203;る&#8203;と、&#8203;こ&#8203;れ&#8203;は&#8203;正&#8203;規&#8203;分&#8203;布&#8203;で&#8203;は&#8203;あ&#8203;り&#8203;ま&#8203;せ&#8203;ん&#8203;が、&#8203;一&#8203;部&#8203;の&#8203;マー&#8203;ケッ&#8203;ト&#8203;の&#8203;混&#8203;乱&#8203;期&#8203;を&#8203;除&#8203;け&#8203;ば&#8203;ほ&#8203;ぼ&#8203;0&#8203;を&#8203;中&#8203;心&#8203;と&#8203;し&#8203;た&#8203;正&#8203;規&#8203;分&#8203;布&#8203;に&#8203;近&#8203;い&#8203;分&#8203;布&#8203;に&#8203;な&#8203;り&#8203;ま&#8203;す。&#8203;特&#8203;徴&#8203;量&#8203;は、&#8203;2%&#8203;の&#8203;上&#8203;昇&#8203;や&#8203;4%&#8203;の&#8203;下&#8203;落&#8203;と&#8203;いっ&#8203;た&#8203;0&#8203;を&#8203;中&#8203;心&#8203;と&#8203;し&#8203;た&#8203;時&#8203;系&#8203;列&#8203;と&#8203;なっ&#8203;て&#8203;お&#8203;り、&#8203;将&#8203;来&#8203;に&#8203;渡っ&#8203;て&#8203;も&#8203;似&#8203;た&#8203;よ&#8203;う&#8203;な&#8203;分&#8203;布&#8203;に&#8203;な&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;期&#8203;待&#8203;で&#8203;き、&#8203;株&#8203;価&#8203;範&#8203;囲&#8203;に&#8203;対&#8203;す&#8203;る&#8203;暗&#8203;黙&#8203;の&#8203;仮&#8203;定&#8203;を&#8203;学&#8203;ぶ&#8203;恐&#8203;れ&#8203;が&#8203;な&#8203;く&#8203;な&#8203;り&#8203;ま&#8203;す。&#8203;こ&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;将&#8203;来&#8203;に&#8203;渡っ&#8203;て&#8203;も&#8203;似&#8203;た&#8203;よ&#8203;う&#8203;な&#8203;分&#8203;布&#8203;を&#8203;期&#8203;待&#8203;で&#8203;き&#8203;る&#8203;特&#8203;徴&#8203;量&#8203;は&#8203;定&#8203;常&#8203;性&#8203;が&#8203;あ&#8203;る&#8203;と&#8203;い&#8203;え&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>定&#8203;常&#8203;性&#8203;を&#8203;意&#8203;識&#8203;す&#8203;る&#8203;と、&#8203;正&#8203;規&#8203;化&#8203;処&#8203;理&#8203;に&#8203;お&#8203;け&#8203;る&#8203;様々&#8203;な&#8203;注&#8203;意&#8203;点&#8203;が&#8203;見&#8203;え&#8203;て&#8203;き&#8203;ま&#8203;す。&#8203;た&#8203;と&#8203;え&#8203;ば、&#8203;最&#8203;小&#8203;値&#8203;と&#8203;最&#8203;大&#8203;値&#8203;を&#8203;-1&#8203;か&#8203;ら&#8203;1&#8203;な&#8203;ど&#8203;に&#8203;マッ&#8203;ピ&#8203;ン&#8203;グ&#8203;す&#8203;る&#8203;MinMax&#8203;正&#8203;規&#8203;化&#8203;を&#8203;株&#8203;価&#8203;に&#8203;適&#8203;用&#8203;し&#8203;た&#8203;と&#8203;し&#8203;て&#8203;も&#8203;定&#8203;常&#8203;性&#8203;を&#8203;期&#8203;待&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;は&#8203;で&#8203;き&#8203;ま&#8203;せ&#8203;ん。&#8203;株&#8203;価&#8203;を&#8203;MinMax&#8203;正&#8203;規&#8203;化&#8203;し&#8203;た&#8203;と&#8203;き&#8203;に&#8203;そ&#8203;の&#8203;最&#8203;大&#8203;値・&#8203;最&#8203;小&#8203;値&#8203;が&#8203;未&#8203;来&#8203;に&#8203;対&#8203;し&#8203;て&#8203;も&#8203;適&#8203;用&#8203;で&#8203;き&#8203;る&#8203;保&#8203;証&#8203;が&#8203;で&#8203;き&#8203;な&#8203;い&#8203;た&#8203;め&#8203;で&#8203;す。&#8203;こ&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;時&#8203;系&#8203;列&#8203;の&#8203;特&#8203;徴&#8203;量&#8203;の&#8203;設&#8203;計&#8203;を&#8203;す&#8203;る&#8203;と&#8203;き、&#8203;定&#8203;常&#8203;性&#8203;を&#8203;意&#8203;識&#8203;し&#8203;な&#8203;が&#8203;ら&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;設&#8203;計&#8203;し&#8203;て&#8203;い&#8203;く&#8203;こ&#8203;と&#8203;が&#8203;重&#8203;要&#8203;で&#8203;す。</p>
</div>
</div>
<div class="sect3">
<h4 id="_特徴量の生成例">2.7.3. 特徴量の生成例</h4>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で&#8203;は、&#8203;特&#8203;徴&#8203;量&#8203;の&#8203;生&#8203;成&#8203;を&#8203; <code>stock_price</code> &#8203;の&#8203;株&#8203;価&#8203;情&#8203;報&#8203;を&#8203;利&#8203;用&#8203;し&#8203;て&#8203;行&#8203;い&#8203;ま&#8203;す。&#8203;株&#8203;価&#8203;情&#8203;報&#8203;に&#8203;は、&#8203;価&#8203;格&#8203;や&#8203;出&#8203;来&#8203;高&#8203;な&#8203;ど&#8203;市&#8203;場&#8203;で&#8203;公&#8203;開&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;株&#8203;価&#8203;の&#8203;四&#8203;本&#8203;値&#8203;(&#8203;始&#8203;値、&#8203;高&#8203;値、&#8203;安&#8203;値、&#8203;終&#8203;値&#8203;)&#8203;の&#8203;時&#8203;系&#8203;列&#8203;デー&#8203;タ&#8203;が&#8203;格&#8203;納&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;で&#8203;は、&#8203;特&#8203;徴&#8203;量&#8203;の&#8203;例&#8203;と&#8203;し&#8203;て&#8203;1ヶ&#8203;月、&#8203;2ヶ&#8203;月、&#8203;3ヶ&#8203;月&#8203;間&#8203;の&#8203;「終&#8203;値&#8203;の&#8203;変&#8203;化&#8203;率&#8203;（リ&#8203;ター&#8203;ン）」、&#8203;「ヒ&#8203;ス&#8203;ト&#8203;リ&#8203;カ&#8203;ル・&#8203;ボ&#8203;ラ&#8203;ティ&#8203;リ&#8203;ティ」、&#8203;「移&#8203;動&#8203;平&#8203;均&#8203;線&#8203;か&#8203;ら&#8203;の&#8203;乖&#8203;離&#8203;率」&#8203;を&#8203;紹&#8203;介&#8203;し&#8203;ま&#8203;す。&#8203;<br>
次&#8203;の&#8203;コー&#8203;ド&#8203;で&#8203;具&#8203;体&#8203;的&#8203;な&#8203;計&#8203;算&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;は&#8203;示&#8203;し&#8203;ま&#8203;す&#8203;が、&#8203;定&#8203;義&#8203;は&#8203;以&#8203;下&#8203;の&#8203;と&#8203;お&#8203;り&#8203;で&#8203;す。</p>
</div>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;特&#8203;徴&#8203;量&#8203;の&#8203;計&#8203;算&#8203;に&#8203;使&#8203;用&#8203;す&#8203;る&#8203;関&#8203;数&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;使&#8203;用&#8203;す&#8203;る&#8203;関&#8203;数&#8203;の&#8203;説&#8203;明&#8203;</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">pct_change(N)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">現&#8203;在&#8203;の&#8203;観&#8203;測&#8203;値&#8203;と&#8203;N&#8203;個&#8203;前&#8203;の&#8203;観&#8203;測&#8203;値&#8203;と&#8203;の&#8203;変&#8203;化&#8203;率</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">diff()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">現&#8203;在&#8203;の&#8203;観&#8203;測&#8203;値&#8203;と&#8203;一&#8203;つ&#8203;前&#8203;の&#8203;観&#8203;測&#8203;値&#8203;と&#8203;の&#8203;差</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rolling(N)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">対&#8203;象&#8203;の&#8203;観&#8203;測&#8203;値&#8203;を&#8203;N&#8203;個&#8203;で&#8203;グ&#8203;ルー&#8203;プ&#8203;化</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">std()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">標&#8203;準&#8203;偏&#8203;差</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mean()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">算&#8203;術&#8203;平&#8203;均</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># stock_priceデータを読み込む</span>
price = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_price</span><span class="delimiter">&quot;</span></span>]

<span class="comment"># 銘柄コード9984にデータを絞る</span>
code = <span class="integer">9984</span>
price_data = price[price[<span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>] == code]

<span class="comment"># 終値のみに絞る</span>
feats = price_data[[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>]].copy()
<span class="comment"># 終値の20営業日リターン</span>
feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">return_1month</span><span class="delimiter">&quot;</span></span>] = feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].pct_change(<span class="integer">20</span>)
<span class="comment"># 終値の40営業日リターン</span>
feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">return_2month</span><span class="delimiter">&quot;</span></span>] = feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].pct_change(<span class="integer">40</span>)
<span class="comment"># 終値の60営業日リターン</span>
feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">return_3month</span><span class="delimiter">&quot;</span></span>] = feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].pct_change(<span class="integer">60</span>)
<span class="comment"># 終値の20営業日ボラティリティ</span>
feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">volatility_1month</span><span class="delimiter">&quot;</span></span>] = (
    np.log(feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>]).diff().rolling(<span class="integer">20</span>).std()
)
<span class="comment"># 終値の40営業日ボラティリティ</span>
feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">volatility_2month</span><span class="delimiter">&quot;</span></span>] = (
    np.log(feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>]).diff().rolling(<span class="integer">40</span>).std()
)
<span class="comment"># 終値の60営業日ボラティリティ</span>
feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">volatility_3month</span><span class="delimiter">&quot;</span></span>] = (
    np.log(feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>]).diff().rolling(<span class="integer">60</span>).std()
)
<span class="comment"># 終値と20営業日の単純移動平均線の乖離</span>
feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">MA_gap_1month</span><span class="delimiter">&quot;</span></span>] = feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>] / (
    feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].rolling(<span class="integer">20</span>).mean()
)
<span class="comment"># 終値と40営業日の単純移動平均線の乖離</span>
feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">MA_gap_2month</span><span class="delimiter">&quot;</span></span>] = feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>] / (
    feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].rolling(<span class="integer">40</span>).mean()
)
<span class="comment"># 終値と60営業日の単純移動平均線の乖離</span>
feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">MA_gap_3month</span><span class="delimiter">&quot;</span></span>] = feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>] / (
    feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].rolling(<span class="integer">60</span>).mean()
)
<span class="comment"># 欠損値処理</span>
feats = feats.fillna(<span class="integer">0</span>)
<span class="comment"># 元データのカラムを削除</span>
feats = feats.drop([<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>], axis=<span class="integer">1</span>)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_テクニカル分析を活用した特徴量の生成">2.7.4. テクニカル分析を活用した特徴量の生成</h4>
<div class="paragraph">
<p>他&#8203;に&#8203;株&#8203;価&#8203;を&#8203;扱&#8203;う&#8203;た&#8203;め&#8203;の&#8203;特&#8203;徴&#8203;量&#8203;と&#8203;し&#8203;て&#8203;RSI&#8203;や&#8203;ス&#8203;ト&#8203;キャ&#8203;ス&#8203;ティ&#8203;ク&#8203;ス&#8203;の&#8203;よ&#8203;う&#8203;な&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;の&#8203;指&#8203;標&#8203;な&#8203;ど&#8203;を&#8203;活&#8203;用&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;も&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;python&#8203;の&#8203; <code>talib</code> &#8203;と&#8203;い&#8203;う&#8203;ラ&#8203;イ&#8203;ブ&#8203;ラ&#8203;リ&#8203;に&#8203;は&#8203;た&#8203;く&#8203;さ&#8203;ん&#8203;の&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;が&#8203;実&#8203;装&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;た&#8203;め、&#8203;活&#8203;用&#8203;を&#8203;検&#8203;討&#8203;す&#8203;る&#8203;価&#8203;値&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;た&#8203;だ&#8203;し、&#8203;こ&#8203;れ&#8203;ら&#8203;に&#8203;対&#8203;し&#8203;て&#8203;は、&#8203;本&#8203;章&#8203;で&#8203;は&#8203;取&#8203;り&#8203;扱&#8203;わ&#8203;ず&#8203;に、&#8203;第&#8203;4&#8203;章&#8203;で&#8203;紹&#8203;介&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_バックテスト用のテストデータ作成">2.8. バックテスト用のテストデータ作成</h3>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で&#8203;は、&#8203;バッ&#8203;ク&#8203;テ&#8203;ス&#8203;ト&#8203;を&#8203;行&#8203;う&#8203;た&#8203;め&#8203;の&#8203;デー&#8203;タ&#8203;の&#8203;分&#8203;割&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;説&#8203;明&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="sect3">
<h4 id="_バックテストとは">2.8.1. バックテストとは</h4>
<div class="paragraph">
<p>バッ&#8203;ク&#8203;テ&#8203;ス&#8203;ト&#8203;と&#8203;は、&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;有&#8203;効&#8203;性&#8203;を&#8203;検&#8203;証&#8203;す&#8203;る&#8203;際&#8203;に、&#8203;過&#8203;去&#8203;の&#8203;デー&#8203;タ&#8203;を&#8203;用&#8203;い&#8203;て、&#8203;一&#8203;定&#8203;期&#8203;間&#8203;に&#8203;ど&#8203;の&#8203;程&#8203;度&#8203;の&#8203;パ&#8203;フォー&#8203;マ&#8203;ン&#8203;ス&#8203;が&#8203;得&#8203;ら&#8203;れ&#8203;た&#8203;か&#8203;を&#8203;シ&#8203;ミュ&#8203;レー&#8203;ショ&#8203;ン&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で&#8203;す。&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;有&#8203;効&#8203;性&#8203;を&#8203;検&#8203;証&#8203;す&#8203;る&#8203;上&#8203;で、&#8203;ど&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;バッ&#8203;ク&#8203;テ&#8203;ス&#8203;ト&#8203;を&#8203;実&#8203;施&#8203;す&#8203;る&#8203;か&#8203;は&#8203;重&#8203;要&#8203;な&#8203;ポ&#8203;イ&#8203;ン&#8203;ト&#8203;に&#8203;な&#8203;り&#8203;ま&#8203;す。</p>
</div>
</div>
<div class="sect3">
<h4 id="_ホールドアウト検証">2.8.2. ホールドアウト検証</h4>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で&#8203;は、&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;を&#8203;訓&#8203;練&#8203;デー&#8203;タ&#8203;と&#8203;テ&#8203;ス&#8203;ト&#8203;デー&#8203;タ&#8203;に&#8203;切&#8203;り&#8203;分&#8203;け&#8203;ま&#8203;す。&#8203;ま&#8203;ず&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;を&#8203;分&#8203;け&#8203;る&#8203;理&#8203;由&#8203;を&#8203;説&#8203;明&#8203;し、&#8203;次&#8203;に、&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;の&#8203;分&#8203;け&#8203;方&#8203;及&#8203;び&#8203;コ&#8203;ツ&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;解&#8203;説&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>デー&#8203;タ&#8203;セッ&#8203;ト&#8203;を&#8203;分&#8203;け&#8203;る&#8203;理&#8203;由&#8203;は、&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;汎&#8203;化&#8203;性&#8203;能&#8203;を&#8203;確&#8203;認&#8203;し&#8203;使&#8203;用&#8203;す&#8203;る&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;決&#8203;定&#8203;す&#8203;る&#8203;た&#8203;め&#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p>汎&#8203;化&#8203;性&#8203;能&#8203;と&#8203;は、&#8203;モ&#8203;デ&#8203;ル&#8203;が&#8203;訓&#8203;練&#8203;デー&#8203;タ&#8203;以&#8203;外&#8203;の&#8203;未&#8203;知&#8203;の&#8203;デー&#8203;タ&#8203;に&#8203;対&#8203;し&#8203;て&#8203;も&#8203;機&#8203;能&#8203;す&#8203;る&#8203;と&#8203;い&#8203;う&#8203;能&#8203;力&#8203;で&#8203;す。&#8203;汎&#8203;化&#8203;性&#8203;能&#8203;が&#8203;低&#8203;い&#8203;モ&#8203;デ&#8203;ル&#8203;は、&#8203;訓&#8203;練&#8203;デー&#8203;タ&#8203;で&#8203;は&#8203;高&#8203;い&#8203;精&#8203;度&#8203;が&#8203;得&#8203;ら&#8203;れ&#8203;ま&#8203;す&#8203;が、&#8203;訓&#8203;練&#8203;デー&#8203;タ&#8203;に&#8203;な&#8203;い&#8203;未&#8203;知&#8203;の&#8203;デー&#8203;タ&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;は、&#8203;低&#8203;い&#8203;精&#8203;度&#8203;し&#8203;か&#8203;得&#8203;ら&#8203;れ&#8203;ま&#8203;せ&#8203;ん。&#8203;こ&#8203;の&#8203;現&#8203;象&#8203;を&#8203;<strong>&#8203;過&#8203;学&#8203;習&#8203;</strong>&#8203;と&#8203;呼&#8203;び&#8203;ま&#8203;す。&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;を&#8203;分&#8203;割&#8203;せ&#8203;ず&#8203;に、&#8203;そ&#8203;の&#8203;ま&#8203;ま&#8203;全&#8203;体&#8203;に&#8203;対&#8203;し&#8203;て&#8203;学&#8203;習&#8203;し、&#8203;同&#8203;じ&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;に&#8203;対&#8203;し&#8203;て&#8203;モ&#8203;デ&#8203;ル&#8203;に&#8203;よ&#8203;る&#8203;予&#8203;測&#8203;を&#8203;す&#8203;る&#8203;と、&#8203;基&#8203;本&#8203;的&#8203;に&#8203;は&#8203;高&#8203;い&#8203;精&#8203;度&#8203;の&#8203;結&#8203;果&#8203;を&#8203;得&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;ま&#8203;す。&#8203;<br>
し&#8203;か&#8203;し、&#8203;未&#8203;知&#8203;の&#8203;デー&#8203;タ&#8203;に&#8203;対&#8203;し&#8203;て&#8203;予&#8203;測&#8203;す&#8203;る&#8203;と、&#8203;予&#8203;測&#8203;が&#8203;まっ&#8203;た&#8203;く&#8203;当&#8203;た&#8203;ら&#8203;な&#8203;い&#8203;と&#8203;い&#8203;う&#8203;こ&#8203;と&#8203;が&#8203;起&#8203;こ&#8203;り&#8203;得&#8203;ま&#8203;す。&#8203;そ&#8203;の&#8203;た&#8203;め、&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;を&#8203;分&#8203;割&#8203;し&#8203;て、&#8203;学&#8203;習&#8203;に&#8203;使&#8203;用&#8203;し&#8203;て&#8203;い&#8203;な&#8203;い&#8203;デー&#8203;タ&#8203;を&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;検&#8203;証&#8203;用&#8203;と&#8203;し&#8203;て&#8203;用&#8203;意&#8203;し&#8203;て&#8203;お&#8203;く&#8203;こ&#8203;と&#8203;で、&#8203;作&#8203;成&#8203;し&#8203;た&#8203;モ&#8203;デ&#8203;ル&#8203;が&#8203;過&#8203;学&#8203;習&#8203;し&#8203;て&#8203;い&#8203;な&#8203;い&#8203;こ&#8203;と&#8203;を&#8203;確&#8203;認&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;出&#8203;来&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>基&#8203;本&#8203;的&#8203;な&#8203;時&#8203;系&#8203;列&#8203;デー&#8203;タ&#8203;の&#8203;分&#8203;割&#8203;手&#8203;法&#8203;(<strong>&#8203;ホー&#8203;ル&#8203;ド&#8203;ア&#8203;ウ&#8203;ト&#8203;検&#8203;証&#8203;</strong>)&#8203;に&#8203;関&#8203;し&#8203;て&#8203;解&#8203;説&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>1.全体のデータセットを、訓練期間(TRAIN)/検証期間(VAL)/テスト期間(TEST)で分けます。
2.TRAINデータでモデルを学習させ、VALデータでモデルを評価します。これをモデルのさまざまなパラメーターで何度か行い、一番結果が良かったパラメーターを選びます。
3.そして最後にTESTデータでモデルの予測結果を最終評価します。</pre>
</div>
</div>
<div class="paragraph">
<p>本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;で&#8203;は、&#8203;次&#8203;の&#8203;期&#8203;間&#8203;で&#8203;デー&#8203;タ&#8203;を&#8203;分&#8203;割&#8203;し&#8203;ま&#8203;す。</p>
</div>
<table class="tableblock frame-all grid-all stripes-even" style="width: 50%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">訓&#8203;練&#8203;期&#8203;間</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">2016-01-01 - 2017-12-31</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">評&#8203;価&#8203;期&#8203;間</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">2018-02-01 - 2018-12-01</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">テ&#8203;ス&#8203;ト&#8203;期&#8203;間</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">2019-01-01 - 2020-12-31</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre>※データの分割に際し、各期間に間隔（1か月）を空けている理由は、未来の情報を含ませないようにするためです。例えば、2017年12月31日の目的変数には5営業日、10営業日、20営業日後の株価リターンの情報が入っているため、2017年12月31日のデータを使って学習したモデルは未来の情報（2018年1月のリターン）を知っていることになってしまいます。したがって、2018年1月のデータを検証データに含めてしまうとリークが発生し、適切なモデルの評価ができなくなってしまいます。</pre>
</div>
</div>
<div class="paragraph">
<p>以&#8203;下&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;変&#8203;数&#8203;を&#8203;定&#8203;義&#8203;し&#8203;て&#8203;お&#8203;き&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">TRAIN_END = <span class="string"><span class="delimiter">&quot;</span><span class="content">2017-12-31</span><span class="delimiter">&quot;</span></span>
VAL_START = <span class="string"><span class="delimiter">&quot;</span><span class="content">2018-02-01</span><span class="delimiter">&quot;</span></span>
VAL_END = <span class="string"><span class="delimiter">&quot;</span><span class="content">2018-12-01</span><span class="delimiter">&quot;</span></span>
TEST_START = <span class="string"><span class="delimiter">&quot;</span><span class="content">2019-01-01</span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_その他の検証方法">2.8.3. その他の検証方法</h4>
<div class="paragraph">
<p>・&#8203;k-fold &#8203;交&#8203;差&#8203;検&#8203;証&#8203;(k-fold CV): &#8203;デー&#8203;タ&#8203;を&#8203;ま&#8203;ず&#8203;訓&#8203;練&#8203;デー&#8203;タ&#8203;と&#8203;テ&#8203;ス&#8203;ト&#8203;デー&#8203;タ&#8203;に&#8203;分&#8203;け、&#8203;そ&#8203;の&#8203;後&#8203;そ&#8203;の&#8203;訓&#8203;練&#8203;デー&#8203;タ&#8203;を&#8203;k&#8203;個&#8203;の&#8203;グ&#8203;ルー&#8203;プ&#8203;に&#8203;分&#8203;割&#8203;し、&#8203;k-1&#8203;個&#8203;の&#8203;グ&#8203;ルー&#8203;プ&#8203;に&#8203;含&#8203;ま&#8203;れ&#8203;る&#8203;も&#8203;の&#8203;を&#8203;訓&#8203;練&#8203;デー&#8203;タ、&#8203;残&#8203;り&#8203;の&#8203;1&#8203;個&#8203;の&#8203;グ&#8203;ルー&#8203;プ&#8203;に&#8203;含&#8203;ま&#8203;れ&#8203;る&#8203;も&#8203;の&#8203;を&#8203;評&#8203;価&#8203;デー&#8203;タ&#8203;と&#8203;す&#8203;る&#8203;と、&#8203;こ&#8203;の&#8203;よ&#8203;う&#8203;な&#8203;分&#8203;割&#8203;方&#8203;法&#8203;は&#8203;k&#8203;通&#8203;り&#8203;考&#8203;え&#8203;ら&#8203;れ&#8203;ま&#8203;す。&#8203;<br>
そ&#8203;こ&#8203;で、&#8203;そ&#8203;れ&#8203;ぞ&#8203;れ&#8203;の&#8203;分&#8203;割&#8203;方&#8203;法&#8203;し&#8203;た&#8203;がっ&#8203;て&#8203;k&#8203;回&#8203;訓&#8203;練&#8203;と&#8203;評&#8203;価&#8203;を&#8203;行&#8203;い、&#8203;そ&#8203;れ&#8203;ぞ&#8203;れ&#8203;の&#8203;試&#8203;行&#8203;結&#8203;果&#8203;の&#8203;平&#8203;均&#8203;な&#8203;ど&#8203;を&#8203;使&#8203;用&#8203;し&#8203;て、&#8203;モ&#8203;デ&#8203;ル&#8203;や&#8203;そ&#8203;の&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;パ&#8203;ラ&#8203;メー&#8203;タ&#8203;を&#8203;評&#8203;価&#8203;し&#8203;ま&#8203;す。&#8203;な&#8203;お、&#8203;時&#8203;系&#8203;列&#8203;デー&#8203;タ&#8203;で&#8203;は、&#8203;将&#8203;来&#8203;の&#8203;情&#8203;報&#8203;を&#8203;含&#8203;ま&#8203;な&#8203;い&#8203;よ&#8203;う&#8203;に&#8203;注&#8203;意&#8203;す&#8203;る&#8203;必&#8203;要&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_モデルの構築">2.9. モデルの構築</h3>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で&#8203;は、&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;学&#8203;習&#8203;に&#8203;用&#8203;い&#8203;る&#8203;た&#8203;め&#8203;の&#8203;デー&#8203;タ&#8203;を&#8203;準&#8203;備&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>モ&#8203;デ&#8203;ル&#8203;作&#8203;成&#8203;の&#8203;ス&#8203;テッ&#8203;プ&#8203;は、&#8203;以&#8203;下&#8203;の&#8203;と&#8203;お&#8203;り&#8203;に&#8203;行&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>1. 銘柄を一つ選ぶ
2. その銘柄に対して、財務データ及びマーケットデータから特徴量を作る
3. 全銘柄に対して同じことを繰り返す
4. 作成したデータを結合する
5. 全データを訓練データ、評価データ、テストデータに分ける
6. 訓練データで予測モデルを学習させる</pre>
</div>
</div>
<div class="paragraph">
<p>・&#8203;<strong>&#8203;入&#8203;力&#8203;用&#8203;デー&#8203;タ&#8203;の&#8203;作&#8203;成&#8203;方&#8203;法&#8203;</strong></p>
</div>
<div class="paragraph">
<p>前&#8203;回&#8203;ま&#8203;で&#8203;の&#8203;マー&#8203;ケッ&#8203;ト&#8203;デー&#8203;タ&#8203;を&#8203;用&#8203;い&#8203;た&#8203;特&#8203;徴&#8203;量&#8203;生&#8203;成&#8203;方&#8203;法、&#8203;及&#8203;び&#8203;財&#8203;務&#8203;諸&#8203;表&#8203;デー&#8203;タ&#8203;の&#8203;欠&#8203;損&#8203;値&#8203;処&#8203;理&#8203;を&#8203;行っ&#8203;た&#8203;後&#8203;の&#8203;デー&#8203;タ&#8203;処&#8203;理&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;解&#8203;説&#8203;し、&#8203;今&#8203;回&#8203;は&#8203;そ&#8203;れ&#8203;ら&#8203;の&#8203;デー&#8203;タ&#8203;を&#8203;結&#8203;合&#8203;さ&#8203;せ、&#8203;モ&#8203;デ&#8203;ル&#8203;が&#8203;学&#8203;習&#8203;で&#8203;き&#8203;る&#8203;フォー&#8203;マッ&#8203;ト&#8203;に&#8203;直&#8203;す&#8203;こ&#8203;と&#8203;が&#8203;目&#8203;的&#8203;で&#8203;す。</p>
</div>
<div class="sect3">
<h4 id="_特徴量の生成_2">2.9.1. 特徴量の生成</h4>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で&#8203;は、&#8203;特&#8203;徴&#8203;量&#8203;生&#8203;成&#8203;の&#8203;コー&#8203;ド&#8203;を&#8203;示&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;コー&#8203;ド&#8203;の&#8203;お&#8203;お&#8203;ま&#8203;か&#8203;な&#8203;流&#8203;れ&#8203;と&#8203;し&#8203;て&#8203;は、&#8203;以&#8203;下&#8203;の&#8203;3&#8203;ス&#8203;テッ&#8203;プ&#8203;に&#8203;分&#8203;け&#8203;ら&#8203;れ&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>1. 財務データの取得及び前処理（Chapter 2.6.2と同様）
2. マーケットデータの取得及び特徴量定義（Chapter 2.7.2と同様）
3. 財務データと生成した特徴量を結合</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">def</span> <span class="function">get_features_for_predict</span>(dfs, code, start_dt=<span class="string"><span class="delimiter">&quot;</span><span class="content">2016-01-01</span><span class="delimiter">&quot;</span></span>):
    <span class="docstring"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
</span><span class="content">    Args:</span><span class="content">
</span><span class="content">        dfs (dict)  : dict of pd.DataFrame include stock_fin, stock_price</span><span class="content">
</span><span class="content">        code (int)  : A local code for a listed company</span><span class="content">
</span><span class="content">        start_dt (str): specify date range</span><span class="content">
</span><span class="content">    Returns:</span><span class="content">
</span><span class="content">        feature DataFrame (pd.DataFrame)</span><span class="content">
</span><span class="content">    </span><span class="delimiter">&quot;&quot;&quot;</span></span>
    <span class="comment"># おおまかな手順の1つ目</span>
    <span class="comment"># stock_finデータを読み込み</span>
    stock_fin = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_fin</span><span class="delimiter">&quot;</span></span>]

    <span class="comment"># 特定の銘柄コードのデータに絞る</span>
    fin_data = stock_fin[stock_fin[<span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>] == code]
    <span class="comment"># 特徴量の作成には過去60営業日のデータを使用しているため、</span>
    <span class="comment"># 予測対象日からバッファ含めて土日を除く過去90日遡った時点から特徴量を生成します</span>
    n = <span class="integer">90</span>
    <span class="comment"># 特徴量の生成対象期間を指定</span>
    fin_data = fin_data.loc[pd.Timestamp(start_dt) - pd.offsets.BDay(n) :]
    <span class="comment"># fin_dataのnp.float64のデータのみを取得</span>
    fin_data = fin_data.select_dtypes(include=[<span class="string"><span class="delimiter">&quot;</span><span class="content">float64</span><span class="delimiter">&quot;</span></span>])
    <span class="comment"># 欠損値処理</span>
    fin_feats = fin_data.fillna(<span class="integer">0</span>)

    <span class="comment"># おおまかな手順の2つ目</span>
    <span class="comment"># stock_priceデータを読み込む</span>
    price = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_price</span><span class="delimiter">&quot;</span></span>]
    <span class="comment"># 特定の銘柄コードのデータに絞る</span>
    price_data = price[price[<span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>] == code]
    <span class="comment"># 終値のみに絞る</span>
    feats = price_data[[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>]]
    <span class="comment"># 特徴量の生成対象期間を指定</span>
    feats = feats.loc[pd.Timestamp(start_dt) - pd.offsets.BDay(n) :].copy()

    <span class="comment"># 終値の20営業日リターン</span>
    feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">return_1month</span><span class="delimiter">&quot;</span></span>] = feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].pct_change(<span class="integer">20</span>)
    <span class="comment"># 終値の40営業日リターン</span>
    feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">return_2month</span><span class="delimiter">&quot;</span></span>] = feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].pct_change(<span class="integer">40</span>)
    <span class="comment"># 終値の60営業日リターン</span>
    feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">return_3month</span><span class="delimiter">&quot;</span></span>] = feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].pct_change(<span class="integer">60</span>)
    <span class="comment"># 終値の20営業日ボラティリティ</span>
    feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">volatility_1month</span><span class="delimiter">&quot;</span></span>] = (
        np.log(feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>]).diff().rolling(<span class="integer">20</span>).std()
    )
    <span class="comment"># 終値の40営業日ボラティリティ</span>
    feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">volatility_2month</span><span class="delimiter">&quot;</span></span>] = (
        np.log(feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>]).diff().rolling(<span class="integer">40</span>).std()
    )
    <span class="comment"># 終値の60営業日ボラティリティ</span>
    feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">volatility_3month</span><span class="delimiter">&quot;</span></span>] = (
        np.log(feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>]).diff().rolling(<span class="integer">60</span>).std()
    )
    <span class="comment"># 終値と20営業日の単純移動平均線の乖離</span>
    feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">MA_gap_1month</span><span class="delimiter">&quot;</span></span>] = feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>] / (
        feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].rolling(<span class="integer">20</span>).mean()
    )
    <span class="comment"># 終値と40営業日の単純移動平均線の乖離</span>
    feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">MA_gap_2month</span><span class="delimiter">&quot;</span></span>] = feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>] / (
        feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].rolling(<span class="integer">40</span>).mean()
    )
    <span class="comment"># 終値と60営業日の単純移動平均線の乖離</span>
    feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">MA_gap_3month</span><span class="delimiter">&quot;</span></span>] = feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>] / (
        feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].rolling(<span class="integer">60</span>).mean()
    )

    <span class="comment"># おおまかな手順の3つ目</span>
    <span class="comment"># 欠損値処理</span>
    feats = feats.fillna(<span class="integer">0</span>)
    <span class="comment"># 元データのカラムを削除</span>
    feats = feats.drop([<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>], axis=<span class="integer">1</span>)

    <span class="comment"># 財務データの特徴量とマーケットデータの特徴量のインデックスを合わせる</span>
    feats = feats.loc[feats.index.isin(fin_feats.index)]
    fin_feats = fin_feats.loc[fin_feats.index.isin(feats.index)]

    <span class="comment"># データを結合</span>
    feats = pd.concat([feats, fin_feats], axis=<span class="integer">1</span>).dropna()

    <span class="comment"># 欠損値処理を行います。</span>
    feats = feats.replace([np.inf, -np.inf], <span class="integer">0</span>)

    <span class="comment"># 銘柄コードを設定</span>
    feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span>] = code

    <span class="comment"># 生成対象日以降の特徴量に絞る</span>
    feats = feats.loc[pd.Timestamp(start_dt) :]

    <span class="keyword">return</span> feats</code></pre>
</div>
</div>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で、&#8203; <code>np.inf</code> &#8203;を&#8203;0&#8203;に&#8203;置&#8203;換&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す&#8203;が、&#8203;価&#8203;格&#8203;変&#8203;化&#8203;率&#8203;の&#8203;計&#8203;算&#8203;の&#8203;際&#8203;に&#8203;発&#8203;散&#8203;し&#8203;て&#8203;し&#8203;まっ&#8203;た&#8203;も&#8203;の&#8203;を、&#8203;0&#8203;と&#8203;定&#8203;義&#8203;し&#8203;直&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;こ&#8203;の&#8203;よ&#8203;う&#8203;に、&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;定&#8203;義&#8203;す&#8203;る&#8203;際&#8203;に、&#8203;特&#8203;徴&#8203;量&#8203;変&#8203;換&#8203;に&#8203;よ&#8203;り&#8203;発&#8203;散&#8203;し&#8203;て&#8203;し&#8203;まっ&#8203;た&#8203;時&#8203;や&#8203;nan&#8203;に&#8203;なっ&#8203;た&#8203;時&#8203;の&#8203;処&#8203;理&#8203;を、&#8203;あ&#8203;ら&#8203;か&#8203;じ&#8203;め&#8203;考&#8203;慮&#8203;し&#8203;て&#8203;お&#8203;く&#8203;こ&#8203;と&#8203;が&#8203;ス&#8203;ムー&#8203;ズ&#8203;に&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;を&#8203;構&#8203;築&#8203;す&#8203;る&#8203;上&#8203;で&#8203;重&#8203;要&#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p>次&#8203;に&#8203;こ&#8203;こ&#8203;ま&#8203;で&#8203;の&#8203;処&#8203;理&#8203;の&#8203;結&#8203;果&#8203;を&#8203;確&#8203;認&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">df = get_features_for_predict(dfs, <span class="integer">9984</span>)
df.T</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_目的変数の対応付け及び訓練データ評価データテストデータの分割">2.9.2. 目的変数の対応付け及び訓練データ、評価データ、テストデータの分割</h4>
<div class="paragraph">
<p>次&#8203;に&#8203;目&#8203;的&#8203;変&#8203;数&#8203;を&#8203;定&#8203;義&#8203;し&#8203;ま&#8203;す。&#8203;目&#8203;的&#8203;変&#8203;数&#8203;は、&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;の&#8203; <code>stock_labels</code> &#8203;内&#8203;に&#8203;あ&#8203;り、&#8203;利&#8203;用&#8203;す&#8203;る&#8203;際&#8203;は&#8203;先&#8203;ほ&#8203;ど&#8203;定&#8203;義&#8203;し&#8203;た&#8203;特&#8203;徴&#8203;量&#8203;の&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;に&#8203;対&#8203;し&#8203;て、&#8203;行&#8203;（日&#8203;付）&#8203;を&#8203;一&#8203;致&#8203;さ&#8203;せ&#8203;る&#8203;必&#8203;要&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>デー&#8203;タ&#8203;セッ&#8203;ト&#8203;の&#8203;訓&#8203;練&#8203;期&#8203;間、&#8203;評&#8203;価&#8203;期&#8203;間、&#8203;テ&#8203;ス&#8203;ト&#8203;期&#8203;間&#8203;へ&#8203;の&#8203;分&#8203;割&#8203;処&#8203;理&#8203;も&#8203;合&#8203;わ&#8203;せ&#8203;て&#8203;実&#8203;施&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">def</span> <span class="function">get_features_and_label</span>(dfs, codes, feature, label):
    <span class="docstring"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
</span><span class="content">    Args:</span><span class="content">
</span><span class="content">        dfs (dict[pd.DataFrame]): loaded data</span><span class="content">
</span><span class="content">        codes  (array) : target codes</span><span class="content">
</span><span class="content">        feature (pd.DataFrame): features</span><span class="content">
</span><span class="content">        label (str) : label column name</span><span class="content">
</span><span class="content">    Returns:</span><span class="content">
</span><span class="content">        train_X (pd.DataFrame): training data</span><span class="content">
</span><span class="content">        train_y (pd.DataFrame): label for train_X</span><span class="content">
</span><span class="content">        val_X (pd.DataFrame): validation data</span><span class="content">
</span><span class="content">        val_y (pd.DataFrame): label for val_X</span><span class="content">
</span><span class="content">        test_X (pd.DataFrame): test data</span><span class="content">
</span><span class="content">        test_y (pd.DataFrame): label for test_X</span><span class="content">
</span><span class="content">    </span><span class="delimiter">&quot;&quot;&quot;</span></span>
    <span class="comment"># 分割データ用の変数を定義</span>
    trains_X, vals_X, tests_X = [], [], []
    trains_y, vals_y, tests_y = [], [], []

    <span class="comment"># 銘柄コード毎に特徴量を作成</span>
    <span class="keyword">for</span> code <span class="keyword">in</span> tqdm(codes):
        <span class="comment"># 特徴量取得</span>
        feats = feature[feature[<span class="string"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span>] == code]

        <span class="comment"># stock_labelデータを読み込み</span>
        stock_labels = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_labels</span><span class="delimiter">&quot;</span></span>]
        <span class="comment"># 特定の銘柄コードのデータに絞る</span>
        stock_labels = stock_labels[stock_labels[<span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>] == code]

        <span class="comment"># 特定の目的変数に絞る</span>
        labels = stock_labels[label]
        <span class="comment"># nanを削除</span>
        labels.dropna(inplace=<span class="predefined-constant">True</span>)

        <span class="keyword">if</span> feats.shape[<span class="integer">0</span>] &gt; <span class="integer">0</span> <span class="keyword">and</span> labels.shape[<span class="integer">0</span>] &gt; <span class="integer">0</span>:
            <span class="comment"># 特徴量と目的変数のインデックスを合わせる</span>
            labels = labels.loc[labels.index.isin(feats.index)]
            feats = feats.loc[feats.index.isin(labels.index)]
            labels.index = feats.index

            <span class="comment"># データを分割（ホールドアウト法）</span>
            _train_X = feats[: TRAIN_END]
            _val_X = feats[VAL_START : VAL_END]
            _test_X = feats[TEST_START :]

            _train_y = labels[: TRAIN_END]
            _val_y = labels[VAL_START : VAL_END]
            _test_y = labels[TEST_START :]

            <span class="comment"># データを配列に格納 (後ほど結合するため)</span>
            trains_X.append(_train_X)
            vals_X.append(_val_X)
            tests_X.append(_test_X)

            trains_y.append(_train_y)
            vals_y.append(_val_y)
            tests_y.append(_test_y)

    <span class="comment"># 銘柄毎に作成した説明変数データを結合します。</span>
    train_X = pd.concat(trains_X)
    val_X = pd.concat(vals_X)
    test_X = pd.concat(tests_X)
    <span class="comment"># 銘柄毎に作成した目的変数データを結合します。</span>
    train_y = pd.concat(trains_y)
    val_y = pd.concat(vals_y)
    test_y = pd.concat(tests_y)

    <span class="keyword">return</span> train_X, train_y, val_X, val_y, test_X, test_y</code></pre>
</div>
</div>
<div class="paragraph">
<p>次&#8203;に、&#8203;こ&#8203;こ&#8203;ま&#8203;で&#8203;の&#8203;結&#8203;果&#8203;を&#8203;確&#8203;認&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># 対象銘柄コードを定義</span>
codes = [<span class="integer">9984</span>]
<span class="comment"># 対象の目的変数を定義</span>
label = <span class="string"><span class="delimiter">&quot;</span><span class="content">label_high_20</span><span class="delimiter">&quot;</span></span>
<span class="comment"># 特徴量を取得</span>
feat = get_features_for_predict(dfs, codes[<span class="integer">0</span>])
<span class="comment"># 特徴量と目的変数を入力し、分割データを取得</span>
ret = get_features_and_label(dfs, codes, feat, label)
<span class="keyword">for</span> v <span class="keyword">in</span> ret:
    print(v.T)</code></pre>
</div>
</div>
<div class="paragraph">
<p>こ&#8203;こ&#8203;ま&#8203;で&#8203;は&#8203;一&#8203;つ&#8203;の&#8203;銘&#8203;柄&#8203;に&#8203;対&#8203;し&#8203;て&#8203;処&#8203;理&#8203;を&#8203;し&#8203;て&#8203;き&#8203;ま&#8203;し&#8203;た&#8203;が、&#8203;こ&#8203;こ&#8203;か&#8203;ら&#8203;は&#8203;全&#8203;て&#8203;の&#8203;予&#8203;測&#8203;対&#8203;象&#8203;銘&#8203;柄&#8203;に&#8203;対&#8203;し&#8203;て&#8203;上&#8203;記&#8203;の&#8203;処&#8203;理&#8203;を&#8203;実&#8203;施&#8203;す&#8203;る&#8203;た&#8203;め&#8203;に、&#8203;予&#8203;測&#8203;対&#8203;象&#8203;の&#8203;銘&#8203;柄&#8203;コー&#8203;ド&#8203;を&#8203;以&#8203;下&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;取&#8203;得&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">def</span> <span class="function">get_codes</span>(dfs):
    <span class="docstring"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
</span><span class="content">    Args:</span><span class="content">
</span><span class="content">        dfs (dict[pd.DataFrame]): loaded data</span><span class="content">
</span><span class="content">    Returns:</span><span class="content">
</span><span class="content">        array: list of stock codes</span><span class="content">
</span><span class="content">    </span><span class="delimiter">&quot;&quot;&quot;</span></span>
    stock_list = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_list</span><span class="delimiter">&quot;</span></span>].copy()
    <span class="comment"># 予測対象の銘柄コードを取得</span>
    codes = stock_list[stock_list[<span class="string"><span class="delimiter">&quot;</span><span class="content">prediction_target</span><span class="delimiter">&quot;</span></span>] == <span class="predefined-constant">True</span>][
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>
    ].values
    <span class="keyword">return</span> codes</code></pre>
</div>
</div>
<div class="paragraph">
<p>次&#8203;に、&#8203;目&#8203;的&#8203;変&#8203;数&#8203;毎&#8203;に&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;を&#8203;作&#8203;成&#8203;し&#8203;ま&#8203;す。&#8203;今&#8203;回&#8203;は&#8203;全&#8203;て&#8203;の&#8203;目&#8203;的&#8203;変&#8203;数&#8203;に&#8203;同&#8203;一&#8203;の&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;使&#8203;用&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す&#8203;が、&#8203;目&#8203;的&#8203;変&#8203;数&#8203;に&#8203;応&#8203;じ&#8203;て&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;チュー&#8203;ニ&#8203;ン&#8203;グ&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で&#8203;よ&#8203;り&#8203;精&#8203;度&#8203;の&#8203;高&#8203;い&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;作&#8203;成&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># 対象の目的変数を定義</span>
labels = {
    <span class="string"><span class="delimiter">&quot;</span><span class="content">label_high_5</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">label_high_10</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">label_high_20</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">label_low_5</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">label_low_10</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">label_low_20</span><span class="delimiter">&quot;</span></span>,
}
<span class="comment"># 目的変数毎にデータを保存するための変数</span>
train_X, val_X, test_X = {}, {}, {}
train_y, val_y, test_y = {}, {}, {}

<span class="comment"># 予測対象銘柄を取得</span>
codes = get_codes(dfs)

<span class="comment"># 特徴量を作成</span>
buff = []
<span class="keyword">for</span> code <span class="keyword">in</span> tqdm(codes):
    feat = get_features_for_predict(dfs, code)
    buff.append(feat)
feature = pd.concat(buff)

<span class="comment"># 目的変数毎に処理</span>
<span class="keyword">for</span> label <span class="keyword">in</span> tqdm(labels):
    <span class="comment"># 特徴量と目的変数を取得</span>
    _train_X, _train_y, _val_X, _val_y, _test_X, _test_y = get_features_and_label(dfs, codes, feature, label)
    <span class="comment"># 目的変数をキーとして値を保存</span>
    train_X[label] = _train_X
    val_X[label] = _val_X
    test_X[label] = _test_X
    train_y[label] = _train_y
    val_y[label] = _val_y
    test_y[label] = _test_y</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_モデル学習の実行方法">2.9.3. <strong>モデル学習の実行方法</strong></h4>
<div class="paragraph">
<p>デー&#8203;タ&#8203;の&#8203;準&#8203;備&#8203;が&#8203;完&#8203;了&#8203;し&#8203;た&#8203;の&#8203;で、&#8203;い&#8203;よ&#8203;い&#8203;よ&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;学&#8203;習&#8203;を&#8203;実&#8203;行&#8203;し&#8203;ま&#8203;す。&#8203;こ&#8203;こ&#8203;で&#8203;は、&#8203;sklearn&#8203;ラ&#8203;イ&#8203;ブ&#8203;ラ&#8203;リ&#8203;の&#8203;RandomForestRegressor&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;使&#8203;用&#8203;し&#8203;ま&#8203;す。&#8203;モ&#8203;デ&#8203;ル&#8203;に&#8203;設&#8203;定&#8203;す&#8203;る&#8203;各&#8203;種&#8203;パ&#8203;ラ&#8203;メー&#8203;タ&#8203;は、&#8203;こ&#8203;こ&#8203;で&#8203;は&#8203;と&#8203;く&#8203;に&#8203;指&#8203;定&#8203;せ&#8203;ず&#8203;に&#8203;ラ&#8203;イ&#8203;ブ&#8203;ラ&#8203;リ&#8203;の&#8203;デ&#8203;フォ&#8203;ル&#8203;ト&#8203;パ&#8203;ラ&#8203;メー&#8203;タ&#8203;を&#8203;使&#8203;用&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>RandomForest&#8203;の&#8203;回&#8203;帰&#8203;モ&#8203;デ&#8203;ル&#8203;で&#8203;あ&#8203;る&#8203;RandomForestRegressor&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;利&#8203;用&#8203;す&#8203;る&#8203;理&#8203;由&#8203;は、&#8203;予&#8203;測&#8203;す&#8203;る&#8203;目&#8203;的&#8203;変&#8203;数&#8203;が&#8203;連&#8203;続&#8203;値&#8203;で&#8203;あ&#8203;る&#8203;か&#8203;ら&#8203;で&#8203;す。&#8203;RandomForest&#8203;モ&#8203;デ&#8203;ル&#8203;は&#8203;決&#8203;定&#8203;木&#8203;を&#8203;ベー&#8203;ス&#8203;と&#8203;す&#8203;る&#8203;モ&#8203;デ&#8203;ル&#8203;で&#8203;あ&#8203;る&#8203;た&#8203;め、&#8203;以&#8203;下&#8203;の&#8203;理&#8203;由&#8203;か&#8203;ら&#8203;最&#8203;初&#8203;に&#8203;選&#8203;択&#8203;す&#8203;る&#8203;モ&#8203;デ&#8203;ル&#8203;と&#8203;し&#8203;て&#8203;扱&#8203;い&#8203;や&#8203;す&#8203;い&#8203;で&#8203;す。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>RandomForest&#8203;内&#8203;部&#8203;で&#8203;利&#8203;用&#8203;す&#8203;る&#8203;決&#8203;定&#8203;木&#8203;は、&#8203;特&#8203;徴&#8203;量&#8203;の&#8203;大&#8203;小&#8203;関&#8203;係&#8203;の&#8203;み&#8203;に&#8203;着&#8203;目&#8203;し&#8203;て&#8203;お&#8203;り、&#8203;値&#8203;自&#8203;体&#8203;に&#8203;は&#8203;意&#8203;味&#8203;が&#8203;な&#8203;い&#8203;の&#8203;で&#8203;正&#8203;規&#8203;化&#8203;処&#8203;理&#8203;の&#8203;必&#8203;要&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;せ&#8203;ん</p>
</li>
<li>
<p>特&#8203;徴&#8203;量&#8203;の&#8203;重&#8203;要&#8203;度&#8203;を&#8203;取&#8203;得&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き、&#8203;次&#8203;に&#8203;実&#8203;施&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;の&#8203;道&#8203;筋&#8203;を&#8203;立&#8203;て&#8203;や&#8203;す&#8203;い</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># 目的変数を指定</span>
label = <span class="string"><span class="delimiter">&quot;</span><span class="content">label_high_20</span><span class="delimiter">&quot;</span></span>
<span class="comment"># モデルの初期化</span>
pred_model = RandomForestRegressor(random_state=<span class="integer">0</span>)
<span class="comment"># モデルの学習</span>
pred_model.fit(train_X[label], train_y[label])</code></pre>
</div>
</div>
<div class="paragraph">
<p>一&#8203;方、&#8203;サ&#8203;ポー&#8203;ト&#8203;ベ&#8203;ク&#8203;ター&#8203;マ&#8203;シ&#8203;ン&#8203;や&#8203;ニュー&#8203;ラ&#8203;ル&#8203;ネッ&#8203;ト&#8203;ワー&#8203;ク&#8203;を&#8203;利&#8203;用&#8203;す&#8203;る&#8203;際&#8203;は、&#8203;デー&#8203;タ&#8203;の&#8203;前&#8203;処&#8203;理&#8203;に&#8203;お&#8203;け&#8203;る&#8203;注&#8203;意&#8203;点&#8203;が&#8203;増&#8203;え&#8203;ま&#8203;す。&#8203;選&#8203;択&#8203;す&#8203;る&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;特&#8203;性&#8203;に&#8203;応&#8203;じ&#8203;た&#8203;正&#8203;規&#8203;化&#8203;処&#8203;理&#8203;と&#8203;特&#8203;徴&#8203;量&#8203;設&#8203;計&#8203;が&#8203;重&#8203;要&#8203;で&#8203;す。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_モデルの推論">2.10. モデルの推論</h3>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で&#8203;は&#8203;構&#8203;築&#8203;し&#8203;た&#8203;モ&#8203;デ&#8203;ル&#8203;か&#8203;ら&#8203;予&#8203;測&#8203;結&#8203;果&#8203;を&#8203;出&#8203;力&#8203;し、&#8203;可&#8203;視&#8203;化&#8203;な&#8203;ど&#8203;に&#8203;よ&#8203;る&#8203;分&#8203;析&#8203;を&#8203;実&#8203;施&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="sect3">
<h4 id="_予測結果の出力方法">2.10.1. 予測結果の出力方法</h4>
<div class="paragraph">
<p>こ&#8203;こ&#8203;ま&#8203;で、&#8203;そ&#8203;れ&#8203;ぞ&#8203;れ&#8203;の&#8203;目&#8203;的&#8203;変&#8203;数&#8203;に&#8203;対&#8203;し&#8203;て、&#8203;訓&#8203;練&#8203;デー&#8203;タ、&#8203;評&#8203;価&#8203;デー&#8203;タ、&#8203;テ&#8203;ス&#8203;ト&#8203;デー&#8203;タ&#8203;に&#8203;分&#8203;割&#8203;し&#8203;ま&#8203;し&#8203;た。&#8203;こ&#8203;こ&#8203;か&#8203;ら&#8203;は、&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;学&#8203;習&#8203;完&#8203;了&#8203;後&#8203;に、&#8203;テ&#8203;ス&#8203;ト&#8203;デー&#8203;タ&#8203;を&#8203;入&#8203;力&#8203;と&#8203;し&#8203;て&#8203;予&#8203;測&#8203;を&#8203;出&#8203;力&#8203;し、&#8203;pandas.DataFrame&#8203;形&#8203;式&#8203;に&#8203;変&#8203;換&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># モデルを定義</span>
models = {
    <span class="string"><span class="delimiter">&quot;</span><span class="content">rf</span><span class="delimiter">&quot;</span></span>: RandomForestRegressor,
}

<span class="comment"># モデルを選択</span>
model = <span class="string"><span class="delimiter">&quot;</span><span class="content">rf</span><span class="delimiter">&quot;</span></span>

<span class="comment"># 目的変数を指定</span>
label = <span class="string"><span class="delimiter">&quot;</span><span class="content">label_high_20</span><span class="delimiter">&quot;</span></span>

<span class="comment"># 学習用データセット定義</span>
<span class="comment"># ファンダメンタル情報</span>
fundamental_cols = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_fin</span><span class="delimiter">&quot;</span></span>].select_dtypes(<span class="string"><span class="delimiter">&quot;</span><span class="content">float64</span><span class="delimiter">&quot;</span></span>).columns
fundamental_cols = fundamental_cols[fundamental_cols != <span class="string"><span class="delimiter">&quot;</span><span class="content">Result_Dividend DividendPayableDate</span><span class="delimiter">&quot;</span></span>]
fundamental_cols = fundamental_cols[fundamental_cols != <span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>]
<span class="comment"># 価格変化率</span>
returns_cols = [x <span class="keyword">for</span> x <span class="keyword">in</span> train_X[label].columns <span class="keyword">if</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">return</span><span class="delimiter">&quot;</span></span> <span class="keyword">in</span> x]
<span class="comment"># テクニカル</span>
technical_cols = [x <span class="keyword">for</span> x <span class="keyword">in</span> train_X[label].columns <span class="keyword">if</span> (x <span class="keyword">not</span> <span class="keyword">in</span> fundamental_cols) <span class="keyword">and</span> (x != <span class="string"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span>)]

columns = {
    <span class="string"><span class="delimiter">&quot;</span><span class="content">fundamental_only</span><span class="delimiter">&quot;</span></span>: fundamental_cols,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">return_only</span><span class="delimiter">&quot;</span></span>: returns_cols,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">technical_only</span><span class="delimiter">&quot;</span></span>: technical_cols,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">fundamental+technical</span><span class="delimiter">&quot;</span></span>: <span class="predefined">list</span>(fundamental_cols) + <span class="predefined">list</span>(technical_cols),
}
<span class="comment"># 学習用データセットを指定</span>
col = <span class="string"><span class="delimiter">&quot;</span><span class="content">fundamental_only</span><span class="delimiter">&quot;</span></span>

<span class="comment"># 学習</span>
pred_model = models[model](random_state=<span class="integer">0</span>)
pred_model.fit(train_X[label][columns[col]].values, train_y[label])

<span class="comment"># 予測</span>
result = {}
result[label] = pd.DataFrame(
    pred_model.predict(val_X[label][columns[col]]), columns=[<span class="string"><span class="delimiter">&quot;</span><span class="content">predict</span><span class="delimiter">&quot;</span></span>]
)

<span class="comment"># 予測結果に日付と銘柄コードを追加</span>
result[label][<span class="string"><span class="delimiter">&quot;</span><span class="content">datetime</span><span class="delimiter">&quot;</span></span>] = val_X[label][columns[col]].index
result[label][<span class="string"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span>] = val_X[label][<span class="string"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span>].values

<span class="comment"># 予測の符号を取得</span>
result[label][<span class="string"><span class="delimiter">&quot;</span><span class="content">predict_dir</span><span class="delimiter">&quot;</span></span>] = np.sign(result[label][<span class="string"><span class="delimiter">&quot;</span><span class="content">predict</span><span class="delimiter">&quot;</span></span>])

<span class="comment"># 実際の値を追加</span>
result[label][<span class="string"><span class="delimiter">&quot;</span><span class="content">actual</span><span class="delimiter">&quot;</span></span>] = val_y[label].values</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_予測結果の可視化方法">2.10.2. 予測結果の可視化方法</h4>
<div class="paragraph">
<p>予&#8203;測&#8203;結&#8203;果&#8203;の&#8203;確&#8203;認&#8203;と&#8203;し&#8203;て、&#8203;実&#8203;際&#8203;に&#8203;決&#8203;算&#8203;開&#8203;示&#8203;等&#8203;の&#8203;あっ&#8203;た&#8203;銘&#8203;柄&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;基&#8203;準&#8203;日&#8203;付&#8203;の&#8203;終&#8203;値&#8203;か&#8203;ら&#8203;最&#8203;高&#8203;値&#8203;へ&#8203;の&#8203;変&#8203;化&#8203;率&#8203;(actual)&#8203;と&#8203;予&#8203;測&#8203;ス&#8203;コ&#8203;ア&#8203;(predict)&#8203;の&#8203;散&#8203;布&#8203;図&#8203;を&#8203;見&#8203;ま&#8203;す。&#8203;こ&#8203;こ&#8203;で&#8203;散&#8203;布&#8203;図&#8203;を&#8203;選&#8203;択&#8203;す&#8203;る&#8203;理&#8203;由&#8203;は、&#8203;予&#8203;測&#8203;対&#8203;象&#8203;に&#8203;対&#8203;し&#8203;て&#8203;予&#8203;測&#8203;ス&#8203;コ&#8203;ア&#8203;が&#8203;ど&#8203;の&#8203;よ&#8203;う&#8203;な&#8203;分&#8203;布&#8203;を&#8203;とっ&#8203;て&#8203;い&#8203;る&#8203;か&#8203;を&#8203;見&#8203;る&#8203;こ&#8203;と&#8203;が、&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;挙&#8203;動&#8203;を&#8203;理&#8203;解&#8203;す&#8203;る&#8203;わ&#8203;か&#8203;り&#8203;や&#8203;す&#8203;い&#8203;可&#8203;視&#8203;化&#8203;で&#8203;あ&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;挙&#8203;げ&#8203;ら&#8203;れ&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">sns.jointplot(data=result[label], x=<span class="string"><span class="delimiter">&quot;</span><span class="content">predict</span><span class="delimiter">&quot;</span></span>, y=<span class="string"><span class="delimiter">&quot;</span><span class="content">actual</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/actual_pred.png" alt="scatter_plot_actual_predict">
</div>
</div>
<div class="paragraph">
<p>こ&#8203;の&#8203;図&#8203;で&#8203;は、&#8203;横&#8203;軸&#8203;が&#8203;予&#8203;測&#8203;値&#8203;で、&#8203;縦&#8203;軸&#8203;が&#8203;真&#8203;の&#8203;値&#8203;で&#8203;す。&#8203;予&#8203;測&#8203;と&#8203;真&#8203;の&#8203;値&#8203;に&#8203;は、&#8203;正&#8203;の&#8203;相&#8203;関&#8203;(0.144192)&#8203;が&#8203;見&#8203;受&#8203;け&#8203;ら&#8203;れ&#8203;る&#8203;の&#8203;で、&#8203;あ&#8203;る&#8203;程&#8203;度&#8203;の&#8203;相&#8203;関&#8203;関&#8203;係&#8203;が&#8203;発&#8203;生&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;一&#8203;般&#8203;的&#8203;な&#8203;デー&#8203;タ&#8203;で&#8203;0.144&#8203;と&#8203;い&#8203;う&#8203;数&#8203;字&#8203;が&#8203;出&#8203;て&#8203;も&#8203;ほ&#8203;ぼ&#8203;無&#8203;相&#8203;関&#8203;に&#8203;見&#8203;え&#8203;ま&#8203;す&#8203;が、&#8203;金&#8203;融&#8203;デー&#8203;タ&#8203;で&#8203;は&#8203;0.144&#8203;と&#8203;い&#8203;う&#8203;ス&#8203;コ&#8203;ア&#8203;は&#8203;高&#8203;い&#8203;部&#8203;類&#8203;に&#8203;入&#8203;り&#8203;ま&#8203;す。&#8203;こ&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;視&#8203;覚&#8203;化&#8203;す&#8203;る&#8203;と、&#8203;予&#8203;測&#8203;値&#8203;と&#8203;真&#8203;の&#8203;値&#8203;の&#8203;関&#8203;係&#8203;性&#8203;を&#8203;可&#8203;視&#8203;化&#8203;で&#8203;き&#8203;ま&#8203;す。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_予測結果に対する分析の道筋">2.11. 予測結果に対する分析の道筋</h3>
<div class="paragraph">
<p>予&#8203;測&#8203;精&#8203;度&#8203;を&#8203;向&#8203;上&#8203;さ&#8203;せ&#8203;る&#8203;た&#8203;め&#8203;に&#8203;は、&#8203;特&#8203;徴&#8203;量&#8203;と&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;分&#8203;析&#8203;を&#8203;集&#8203;中&#8203;的&#8203;に&#8203;行&#8203;う&#8203;必&#8203;要&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;特&#8203;徴&#8203;量&#8203;の&#8203;分&#8203;析&#8203;で&#8203;は、&#8203;さ&#8203;ま&#8203;ざ&#8203;ま&#8203;な&#8203;手&#8203;法&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す&#8203;が、&#8203;こ&#8203;こ&#8203;で&#8203;は&#8203;特&#8203;徴&#8203;量&#8203;の&#8203;重&#8203;要&#8203;度&#8203;の&#8203;分&#8203;析&#8203;と&#8203;SHAP&#8203;と&#8203;い&#8203;う&#8203;手&#8203;法&#8203;を&#8203;紹&#8203;介&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="sect3">
<h4 id="_特徴量の重要度">2.11.1. 特徴量の重要度</h4>
<div class="paragraph">
<p>特&#8203;徴&#8203;量&#8203;の&#8203;重&#8203;要&#8203;度&#8203;は、&#8203;Random Forest&#8203;や&#8203;Gradient Boosting&#8203;な&#8203;ど&#8203;の&#8203;い&#8203;く&#8203;つ&#8203;か&#8203;の&#8203;機&#8203;械&#8203;学&#8203;習&#8203;モ&#8203;デ&#8203;ル&#8203;で&#8203;取&#8203;得&#8203;で&#8203;き、&#8203;モ&#8203;デ&#8203;ル&#8203;内&#8203;で&#8203;ど&#8203;の&#8203;程&#8203;度&#8203;そ&#8203;れ&#8203;ぞ&#8203;れ&#8203;の&#8203;説&#8203;明&#8203;変&#8203;数&#8203;が、&#8203;目&#8203;的&#8203;変&#8203;数&#8203;に&#8203;対&#8203;し&#8203;て&#8203;重&#8203;要&#8203;で&#8203;あ&#8203;る&#8203;か&#8203;を&#8203;判&#8203;断&#8203;す&#8203;る&#8203;た&#8203;め&#8203;に&#8203;参&#8203;考&#8203;に&#8203;な&#8203;る&#8203;指&#8203;標&#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p>重&#8203;要&#8203;度&#8203;が&#8203;極&#8203;端&#8203;に&#8203;低&#8203;い&#8203;も&#8203;の&#8203;は、&#8203;そ&#8203;も&#8203;そ&#8203;も&#8203;説&#8203;明&#8203;変&#8203;数&#8203;か&#8203;ら&#8203;除&#8203;外&#8203;し&#8203;た&#8203;り、&#8203;重&#8203;要&#8203;度&#8203;が&#8203;高&#8203;い&#8203;も&#8203;の&#8203;は&#8203;更&#8203;に&#8203;分&#8203;析&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で、&#8203;性&#8203;能&#8203;の&#8203;向&#8203;上&#8203;が&#8203;期&#8203;待&#8203;で&#8203;き&#8203;な&#8203;い&#8203;か、&#8203;な&#8203;ど&#8203;分&#8203;析&#8203;の&#8203;道&#8203;筋&#8203;を&#8203;つ&#8203;け&#8203;る&#8203;上&#8203;で&#8203;も&#8203;役&#8203;に&#8203;立&#8203;ち&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で&#8203;は&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;情&#8203;報&#8203;を&#8203;用&#8203;い&#8203;て、&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;訓&#8203;練&#8203;デー&#8203;タ&#8203;(2016&#8203;年&#8203;初&#8203;か&#8203;ら&#8203;2017&#8203;年&#8203;末&#8203;ま&#8203;で&#8203;)&#8203;に&#8203;お&#8203;け&#8203;る&#8203;特&#8203;徴&#8203;量&#8203;の&#8203;重&#8203;要&#8203;度&#8203;を&#8203;調&#8203;査&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>次&#8203;の&#8203;方&#8203;法&#8203;に&#8203;従っ&#8203;て、&#8203;特&#8203;徴&#8203;量&#8203;の&#8203;重&#8203;要&#8203;度&#8203;を&#8203;プ&#8203;ロッ&#8203;ト&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># 学習済みモデルを指定</span>
rf = pred_model

<span class="comment"># 重要度順を取得</span>
sorted_idx = rf.feature_importances_.argsort()
<span class="comment"># プロット</span>
fig, ax = plt.subplots(figsize=(<span class="integer">8</span>, <span class="integer">8</span>))
ax.barh(fundamental_cols[sorted_idx], rf.feature_importances_[sorted_idx])
ax.set_xlabel(<span class="string"><span class="delimiter">&quot;</span><span class="content">Random Forest Feature Importance</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/feature_importance.png" alt="ファンダメンタル情報の特徴量重要度">
</div>
</div>
<div class="paragraph">
<p>上&#8203;記&#8203;の&#8203;可&#8203;視&#8203;化&#8203;に&#8203;よ&#8203;り、&#8203; &#8203;一&#8203;番&#8203;上&#8203;に&#8203;あ&#8203;る&#8203; <code>NetAssets(&#8203;純&#8203;資&#8203;産&#8203;)</code> &#8203;に&#8203;モ&#8203;デ&#8203;ル&#8203;が&#8203;注&#8203;目&#8203;し&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;わ&#8203;か&#8203;り&#8203;ま&#8203;す。&#8203;純&#8203;資&#8203;産&#8203;は&#8203;資&#8203;本&#8203;金&#8203;や&#8203;利&#8203;益&#8203;剰&#8203;余&#8203;金&#8203;な&#8203;ど&#8203;を&#8203;合&#8203;算&#8203;し&#8203;た&#8203;指&#8203;標&#8203;で、&#8203;次&#8203;に&#8203;登&#8203;場&#8203;す&#8203;る&#8203; <code>TotalAssets(&#8203;総&#8203;資&#8203;産&#8203;)</code> &#8203;か&#8203;ら&#8203;負&#8203;債&#8203;を&#8203;引&#8203;い&#8203;た&#8203;も&#8203;の&#8203;と&#8203;な&#8203;り&#8203;ま&#8203;す。&#8203; <code>TotalAssets(&#8203;総&#8203;資&#8203;産&#8203;)</code> &#8203;は、&#8203;流&#8203;動&#8203;資&#8203;産&#8203;や&#8203;固&#8203;定&#8203;資&#8203;産、&#8203;繰&#8203;延&#8203;資&#8203;産&#8203;な&#8203;ど、&#8203;会&#8203;社&#8203;の&#8203;全&#8203;て&#8203;の&#8203;資&#8203;産&#8203;を&#8203;合&#8203;算&#8203;し&#8203;た&#8203;も&#8203;の&#8203;を&#8203;示&#8203;す&#8203;指&#8203;標&#8203;で&#8203;す。&#8203;<br>
こ&#8203;の&#8203;2&#8203;つ&#8203;は&#8203;会&#8203;社&#8203;の&#8203;規&#8203;模&#8203;を&#8203;示&#8203;す&#8203;代&#8203;表&#8203;的&#8203;な&#8203;指&#8203;標&#8203;と&#8203;なっ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;<br>
Random Forest&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;内&#8203;部&#8203;で、&#8203;こ&#8203;の&#8203;2&#8203;つ&#8203;を&#8203;利&#8203;用&#8203;し&#8203;た&#8203;分&#8203;岐&#8203;が&#8203;多&#8203;数&#8203;存&#8203;在&#8203;し&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;を&#8203;示&#8203;し&#8203;て&#8203;お&#8203;り、&#8203;会&#8203;社&#8203;規&#8203;模&#8203;が&#8203;重&#8203;要&#8203;な&#8203;指&#8203;標&#8203;で&#8203;あ&#8203;る&#8203;可&#8203;能&#8203;性&#8203;を&#8203;示&#8203;唆&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
</div>
<div class="sect3">
<h4 id="_shap">2.11.2. SHAP</h4>
<div class="paragraph">
<p>SHAP&#8203;は、&#8203;学&#8203;習&#8203;済&#8203;み&#8203;モ&#8203;デ&#8203;ル&#8203;に&#8203;お&#8203;い&#8203;て、&#8203;各&#8203;特&#8203;徴&#8203;量&#8203;が&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;出&#8203;力&#8203;す&#8203;る&#8203;予&#8203;測&#8203;値&#8203;に&#8203;与&#8203;え&#8203;た&#8203;影&#8203;響&#8203;度&#8203;を&#8203;算&#8203;出&#8203;し&#8203;て&#8203;く&#8203;れ&#8203;る&#8203;も&#8203;の&#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で&#8203;は、&#8203;サ&#8203;ン&#8203;プ&#8203;ル&#8203;モ&#8203;デ&#8203;ル&#8203;と&#8203;し&#8203;て&#8203;XGBoost&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;利&#8203;用&#8203;し、&#8203; <code>label_high_20</code> &#8203;と&#8203;い&#8203;う&#8203;目&#8203;的&#8203;変&#8203;数&#8203;に&#8203;対&#8203;し&#8203;て、&#8203;ど&#8203;の&#8203;特&#8203;徴&#8203;量&#8203;が&#8203;学&#8203;習&#8203;に&#8203;効&#8203;果&#8203;的&#8203;な&#8203;特&#8203;徴&#8203;量&#8203;な&#8203;の&#8203;か&#8203;を&#8203;見&#8203;て&#8203;み&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># モデルを定義します</span>
sample_model = xgboost.train({<span class="string"><span class="delimiter">&quot;</span><span class="content">learning_rate</span><span class="delimiter">&quot;</span></span>: <span class="float">0.01</span>}, xgboost.DMatrix(train_X[<span class="string"><span class="delimiter">&quot;</span><span class="content">label_high_20</span><span class="delimiter">&quot;</span></span>], label=train_y[<span class="string"><span class="delimiter">&quot;</span><span class="content">label_high_20</span><span class="delimiter">&quot;</span></span>]), <span class="integer">100</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>次&#8203;に&#8203;shap&#8203;値&#8203;を&#8203;求&#8203;め&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">shap.initjs()
explainer = shap.TreeExplainer(model=sample_model, feature_perturbation=<span class="string"><span class="delimiter">'</span><span class="content">tree_path_dependent</span><span class="delimiter">'</span></span>, model_output=<span class="string"><span class="delimiter">'</span><span class="content">margin</span><span class="delimiter">'</span></span>)
<span class="comment"># SHAP値</span>
shap_values = explainer.shap_values(X=train_X[<span class="string"><span class="delimiter">&quot;</span><span class="content">label_high_20</span><span class="delimiter">&quot;</span></span>])
<span class="comment"># プロット</span>
shap.summary_plot(shap_values, train_X[<span class="string"><span class="delimiter">&quot;</span><span class="content">label_high_20</span><span class="delimiter">&quot;</span></span>], plot_type=<span class="string"><span class="delimiter">&quot;</span><span class="content">bar</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/shap_bar.png" alt="shap importance">
</div>
</div>
<div class="paragraph">
<p>次&#8203;に&#8203;shap&#8203;の&#8203;summary_plot&#8203;を&#8203;確&#8203;認&#8203;し&#8203;ま&#8203;す。&#8203;こ&#8203;れ&#8203;は&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;少&#8203;し&#8203;変&#8203;化&#8203;さ&#8203;せ&#8203;た&#8203;時&#8203;の&#8203;学&#8203;習&#8203;の&#8203;イ&#8203;ン&#8203;パ&#8203;ク&#8203;ト&#8203;を&#8203;表&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">shap.summary_plot(shap_values, train_X[<span class="string"><span class="delimiter">&quot;</span><span class="content">label_high_20</span><span class="delimiter">&quot;</span></span>])</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/shap_graph.png" alt="shap summary plot">
</div>
</div>
<div class="paragraph">
<p>こ&#8203;の&#8203;図&#8203;の&#8203;見&#8203;方&#8203;で&#8203;す&#8203;が、&#8203;上&#8203;に&#8203;あ&#8203;る&#8203;特&#8203;徴&#8203;量&#8203;ほ&#8203;ど&#8203;モ&#8203;デ&#8203;ル&#8203;に&#8203;とっ&#8203;て&#8203;重&#8203;要&#8203;で&#8203;あ&#8203;る&#8203;こ&#8203;と&#8203;を&#8203;意&#8203;味&#8203;し&#8203;ま&#8203;す。&#8203;色&#8203;が&#8203;赤&#8203;い&#8203;の&#8203;が&#8203;そ&#8203;の&#8203;特&#8203;徴&#8203;量&#8203;が&#8203;高&#8203;い&#8203;時、&#8203;青&#8203;い&#8203;の&#8203;が&#8203;そ&#8203;の&#8203;特&#8203;徴&#8203;量&#8203;が&#8203;低&#8203;い&#8203;時&#8203;の&#8203;SHAP&#8203;値&#8203;に&#8203;な&#8203;り&#8203;ま&#8203;す。&#8203;図&#8203;か&#8203;ら&#8203;は&#8203;例&#8203;え&#8203;ば&#8203;以&#8203;下&#8203;の&#8203;よ&#8203;う&#8203;な&#8203;こ&#8203;と&#8203;が&#8203;読&#8203;み&#8203;取&#8203;れ&#8203;ま&#8203;す。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Total Assets</code> &#8203;が&#8203;1&#8203;番&#8203;目&#8203;に&#8203;モ&#8203;デ&#8203;ル&#8203;に&#8203;影&#8203;響&#8203;を&#8203;与&#8203;え&#8203;る&#8203;特&#8203;徴&#8203;量&#8203;で&#8203;あ&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;わ&#8203;か&#8203;り&#8203;ま&#8203;す。&#8203;プ&#8203;ラ&#8203;ス&#8203;方&#8203;向、&#8203;マ&#8203;イ&#8203;ナ&#8203;ス&#8203;方&#8203;向&#8203;に&#8203;関&#8203;わ&#8203;ら&#8203;ず&#8203;青&#8203;い&#8203;色&#8203;が&#8203;多&#8203;い&#8203;の&#8203;で、&#8203;モ&#8203;デ&#8203;ル&#8203;が&#8203; <code>Total Assets</code> &#8203;が&#8203;小&#8203;さ&#8203;い&#8203;場&#8203;合&#8203;に&#8203;こ&#8203;の&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;活&#8203;用&#8203;し&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;わ&#8203;か&#8203;り&#8203;ま&#8203;す。&#8203; <code>Net Assets</code> &#8203;も&#8203;同&#8203;様&#8203;の&#8203;傾&#8203;向&#8203;が&#8203;観&#8203;測&#8203;さ&#8203;れ&#8203;ま&#8203;す</p>
</li>
<li>
<p><code>volatility_1month</code> &#8203;が&#8203;モ&#8203;デ&#8203;ル&#8203;に&#8203;大&#8203;き&#8203;な&#8203;影&#8203;響&#8203;を&#8203;与&#8203;え&#8203;る&#8203;特&#8203;徴&#8203;量&#8203;で&#8203;あ&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;わ&#8203;か&#8203;り&#8203;ま&#8203;す。&#8203;こ&#8203;の&#8203;特&#8203;徴&#8203;量&#8203;は&#8203;赤&#8203;い&#8203;時&#8203;に&#8203;プ&#8203;ラ&#8203;ス&#8203;方&#8203;向&#8203;(&#8203;高&#8203;値&#8203;が&#8203;大&#8203;き&#8203;く&#8203;な&#8203;る&#8203;)&#8203;の&#8203;影&#8203;響&#8203;が&#8203;大&#8203;き&#8203;い&#8203;こ&#8203;と&#8203;が&#8203;わ&#8203;か&#8203;り&#8203;ま&#8203;す。&#8203;こ&#8203;れ&#8203;は&#8203;ボ&#8203;ラ&#8203;ティ&#8203;リ&#8203;ティ&#8203;が&#8203;上&#8203;昇&#8203;す&#8203;る&#8203;と&#8203;高&#8203;値&#8203;が&#8203;高&#8203;く&#8203;な&#8203;る&#8203;と&#8203;い&#8203;う&#8203;こ&#8203;と&#8203;を&#8203;意&#8203;味&#8203;す&#8203;る&#8203;の&#8203;で&#8203;直&#8203;感&#8203;に&#8203;合&#8203;致&#8203;し&#8203;ま&#8203;す。</p>
</li>
<li>
<p><code>MA_gap_1_month</code> &#8203;が&#8203;小&#8203;さ&#8203;い&#8203;時&#8203;に&#8203;プ&#8203;ラ&#8203;ス&#8203;方&#8203;向&#8203;(&#8203;高&#8203;値&#8203;が&#8203;大&#8203;き&#8203;く&#8203;な&#8203;る&#8203;)&#8203;に&#8203;影&#8203;響&#8203;を&#8203;与&#8203;え&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;移&#8203;動&#8203;平&#8203;均&#8203;乖&#8203;離&#8203;率&#8203;が&#8203;小&#8203;さ&#8203;い&#8203;と&#8203;き&#8203;は&#8203;移&#8203;動&#8203;平&#8203;均&#8203;線&#8203;が&#8203;そ&#8203;の&#8203;時&#8203;点&#8203;の&#8203;株&#8203;価&#8203;よ&#8203;り&#8203;も&#8203;下&#8203;に&#8203;い&#8203;る&#8203;期&#8203;間&#8203;な&#8203;の&#8203;で、&#8203;そ&#8203;の&#8203;時&#8203;に&#8203;高&#8203;値&#8203;が&#8203;伸&#8203;び&#8203;る&#8203;の&#8203;は&#8203;株&#8203;価&#8203;が&#8203;反&#8203;転&#8203;し&#8203;て&#8203;い&#8203;る&#8203;可&#8203;能&#8203;性&#8203;が&#8203;高&#8203;い&#8203;の&#8203;か&#8203;も&#8203;し&#8203;れ&#8203;ま&#8203;せ&#8203;ん。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>上&#8203;記&#8203;の&#8203;よ&#8203;う&#8203;な&#8203;考&#8203;察&#8203;を&#8203;行&#8203;い&#8203;な&#8203;が&#8203;ら、&#8203;さ&#8203;ま&#8203;ざ&#8203;ま&#8203;な&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;考&#8203;え、&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;改&#8203;善&#8203;し&#8203;て&#8203;い&#8203;く&#8203;こ&#8203;と&#8203;が&#8203;重&#8203;要&#8203;で&#8203;す。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_モデルの評価">2.12. モデルの評価</h3>
<div class="sect3">
<h4 id="_複数モデルの学習及び結果をまとめる">2.12.1. 複数モデルの学習及び結果をまとめる</h4>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で&#8203;は、&#8203;複&#8203;数&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;用&#8203;い&#8203;て、&#8203;予&#8203;測&#8203;及&#8203;び&#8203;結&#8203;果&#8203;の&#8203;比&#8203;較&#8203;を&#8203;行&#8203;い&#8203;た&#8203;い&#8203;と&#8203;思&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>今&#8203;回&#8203;は&#8203;シ&#8203;ン&#8203;プ&#8203;ル&#8203;な&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;複&#8203;数&#8203;用&#8203;い&#8203;ま&#8203;す。</p>
</div>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;モ&#8203;デ&#8203;ル&#8203;名&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;パ&#8203;ラ&#8203;メー&#8203;ター&#8203;</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RandomForestRegressor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">random_state = 0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ExtraTreesRegressor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">random_state = 0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GradientBoostingRegressor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">random_state = 0</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>次&#8203;は&#8203;学&#8203;習&#8203;用&#8203;の&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;も&#8203;複&#8203;数&#8203;用&#8203;意&#8203;し&#8203;ま&#8203;す。</p>
</div>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;学&#8203;習&#8203;用&#8203;デー&#8203;タ&#8203;セッ&#8203;ト&#8203;名&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;説&#8203;明&#8203;</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fundamental_only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">財&#8203;務&#8203;諸&#8203;表&#8203;デー&#8203;タ&#8203;の&#8203;み</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">return_only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">価&#8203;格&#8203;変&#8203;化&#8203;率&#8203;の&#8203;デー&#8203;タ&#8203;の&#8203;み</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">technical_only</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;指&#8203;標&#8203;の&#8203;み</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fundamental+technical</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">財&#8203;務&#8203;諸&#8203;表&#8203;と&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;指&#8203;標&#8203;の&#8203;両&#8203;方</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># モデルを定義</span>
models = {
    <span class="string"><span class="delimiter">&quot;</span><span class="content">rf</span><span class="delimiter">&quot;</span></span>: RandomForestRegressor,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">extraTree</span><span class="delimiter">&quot;</span></span>: ExtraTreesRegressor,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">gbr</span><span class="delimiter">&quot;</span></span>: GradientBoostingRegressor,
}

<span class="comment"># 学習用データセット定義</span>
columns = {
    <span class="string"><span class="delimiter">&quot;</span><span class="content">fundamental_only</span><span class="delimiter">&quot;</span></span>: fundamental_cols,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">return_only</span><span class="delimiter">&quot;</span></span>: returns_cols,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">technical_only</span><span class="delimiter">&quot;</span></span>: technical_cols,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">fundamental+technical</span><span class="delimiter">&quot;</span></span>: <span class="predefined">list</span>(fundamental_cols) + <span class="predefined">list</span>(technical_cols),
}

<span class="comment"># 学習済みモデル保存用</span>
trained_models = <span class="predefined">dict</span>()
<span class="comment"># 結果保存用</span>
all_results = <span class="predefined">dict</span>()
<span class="comment"># モデル毎に処理</span>
<span class="keyword">for</span> model <span class="keyword">in</span> tqdm(models.keys()):
    all_results[model] = <span class="predefined">dict</span>()
    trained_models[model] = <span class="predefined">dict</span>()
    <span class="comment"># データセット毎に処理</span>
    <span class="keyword">for</span> col <span class="keyword">in</span> tqdm(columns.keys()):
        result = <span class="predefined">dict</span>()
        trained_models[model][col] = <span class="predefined">dict</span>()
        <span class="comment"># 目的変数毎に処理</span>
        <span class="keyword">for</span> label <span class="keyword">in</span> tqdm(labels):
            <span class="keyword">if</span> <span class="predefined">len</span>(test_X[label][columns[col]]) &gt; <span class="integer">0</span>:
                <span class="comment"># モデル取得</span>
                pred_model = models[model](random_state=<span class="integer">0</span>)
                <span class="comment"># 学習</span>
                pred_model.fit(train_X[label][columns[col]].values, train_y[label])
                <span class="comment"># 学習済みモデル保存</span>
                trained_models[model][col][label] = pred_model
                <span class="comment"># 結果データ作成</span>
                result[label] = test_X[label][[<span class="string"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span>]].copy()
                result[label][<span class="string"><span class="delimiter">&quot;</span><span class="content">datetime</span><span class="delimiter">&quot;</span></span>] = test_X[label][columns[col]].index
                <span class="comment"># 予測</span>
                result[label][<span class="string"><span class="delimiter">&quot;</span><span class="content">predict</span><span class="delimiter">&quot;</span></span>] = pred_model.predict(test_X[label][columns[col]])
                result[label][<span class="string"><span class="delimiter">&quot;</span><span class="content">predict_dir</span><span class="delimiter">&quot;</span></span>] = np.sign(result[label][<span class="string"><span class="delimiter">&quot;</span><span class="content">predict</span><span class="delimiter">&quot;</span></span>])
                <span class="comment"># 実際の結果</span>
                result[label][<span class="string"><span class="delimiter">&quot;</span><span class="content">actual</span><span class="delimiter">&quot;</span></span>] = test_y[label].values
                result[label][<span class="string"><span class="delimiter">&quot;</span><span class="content">actual_dir</span><span class="delimiter">&quot;</span></span>] = np.sign(result[label][<span class="string"><span class="delimiter">&quot;</span><span class="content">actual</span><span class="delimiter">&quot;</span></span>])
                result[label].dropna(inplace=<span class="predefined-constant">True</span>)

        all_results[model][col] = result</code></pre>
</div>
</div>
<div class="paragraph">
<p>次&#8203;に&#8203;デー&#8203;タ&#8203;を&#8203;ま&#8203;と&#8203;め&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">results = []
<span class="keyword">for</span> model <span class="keyword">in</span> all_results.keys():
    <span class="keyword">for</span> col <span class="keyword">in</span> all_results[model]:
        tmp = pd.concat(all_results[model][col])
        tmp[<span class="string"><span class="delimiter">&quot;</span><span class="content">model</span><span class="delimiter">&quot;</span></span>] = model
        tmp[<span class="string"><span class="delimiter">&quot;</span><span class="content">feature</span><span class="delimiter">&quot;</span></span>] = col
        results.append(tmp)
results = pd.concat(results)
results[<span class="string"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>] = [x[<span class="integer">0</span>] <span class="keyword">for</span> x <span class="keyword">in</span> results.index]
results.head(<span class="integer">5</span>)</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/multiple_data_results.png" alt="データのフォーマット">
</div>
</div>
<div class="paragraph">
<p>で&#8203;は、&#8203;次&#8203;に&#8203;評&#8203;価&#8203;し&#8203;て&#8203;い&#8203;き&#8203;ま&#8203;す。</p>
</div>
</div>
<div class="sect3">
<h4 id="_モデルの性能を示す評価関数の紹介">2.12.2. モデルの性能を示す評価関数の紹介</h4>
<div class="paragraph">
<p>ま&#8203;ず&#8203;は、&#8203;今&#8203;回&#8203;用&#8203;い&#8203;る&#8203;評&#8203;価&#8203;関&#8203;数&#8203;の&#8203;リ&#8203;ス&#8203;ト&#8203;を&#8203;紹&#8203;介&#8203;し&#8203;ま&#8203;す。</p>
</div>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;評&#8203;価&#8203;関&#8203;数&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;説&#8203;明&#8203;</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RMSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">二&#8203;乗&#8203;平&#8203;均&#8203;平&#8203;方&#8203;根</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">accuracy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">目&#8203;的&#8203;変&#8203;数&#8203;の&#8203;符&#8203;号&#8203;と&#8203;予&#8203;測&#8203;し&#8203;た&#8203;目&#8203;的&#8203;変&#8203;数&#8203;の&#8203;符&#8203;号&#8203;の&#8203;精&#8203;度</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">spearman_corr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ス&#8203;ピ&#8203;ア&#8203;マ&#8203;ン&#8203;の&#8203;順&#8203;位&#8203;相&#8203;関</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">corr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ピ&#8203;ア&#8203;ソ&#8203;ン&#8203;の&#8203;相&#8203;関&#8203;係&#8203;数</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">R^2 score</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">単&#8203;回&#8203;帰&#8203;し&#8203;た&#8203;時&#8203;の&#8203;直&#8203;線&#8203;と&#8203;観&#8203;測&#8203;値&#8203;の&#8203;バ&#8203;ラ&#8203;つ&#8203;き</p></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># 結果保存用変数</span>
all_metrics = []

<span class="comment"># データセット毎に処理</span>
<span class="keyword">for</span> feature <span class="keyword">in</span> columns:
    matrix = <span class="predefined">dict</span>()
    <span class="comment"># モデル毎に処理</span>
    <span class="keyword">for</span> model <span class="keyword">in</span> models:
        <span class="comment"># 目的変数毎に処理</span>
        <span class="keyword">for</span> label <span class="keyword">in</span> labels:
            <span class="comment"># 処理対象データに絞り込み</span>
            tmp_df = results[(results[<span class="string"><span class="delimiter">&quot;</span><span class="content">model</span><span class="delimiter">&quot;</span></span>] == model) &amp; (results[<span class="string"><span class="delimiter">&quot;</span><span class="content">label</span><span class="delimiter">&quot;</span></span>] == label) &amp; (results[<span class="string"><span class="delimiter">&quot;</span><span class="content">feature</span><span class="delimiter">&quot;</span></span>] == feature)]
            <span class="comment"># RMSE</span>
            rmse = np.sqrt(mean_squared_error(tmp_df[<span class="string"><span class="delimiter">&quot;</span><span class="content">predict</span><span class="delimiter">&quot;</span></span>], tmp_df[<span class="string"><span class="delimiter">&quot;</span><span class="content">actual</span><span class="delimiter">&quot;</span></span>]))
            <span class="comment"># 精度</span>
            accuracy = accuracy_score(tmp_df[<span class="string"><span class="delimiter">&quot;</span><span class="content">predict_dir</span><span class="delimiter">&quot;</span></span>], tmp_df[<span class="string"><span class="delimiter">&quot;</span><span class="content">actual_dir</span><span class="delimiter">&quot;</span></span>])
            <span class="comment"># 相関係数</span>
            corr = np.corrcoef(tmp_df[<span class="string"><span class="delimiter">&quot;</span><span class="content">actual</span><span class="delimiter">&quot;</span></span>], tmp_df[<span class="string"><span class="delimiter">&quot;</span><span class="content">predict</span><span class="delimiter">&quot;</span></span>])[<span class="integer">0</span>, <span class="integer">1</span>]
            <span class="comment"># 順位相関</span>
            spearman_corr = spearmanr(tmp_df[<span class="string"><span class="delimiter">&quot;</span><span class="content">actual</span><span class="delimiter">&quot;</span></span>], tmp_df[<span class="string"><span class="delimiter">&quot;</span><span class="content">predict</span><span class="delimiter">&quot;</span></span>])[<span class="integer">0</span>]
            <span class="comment"># 結果を保存</span>
            matrix[label] = [rmse, accuracy, spearman_corr,corr, corr**<span class="integer">2</span>, feature, model, tmp_df.shape[<span class="integer">0</span>]]
        res = pd.DataFrame.from_dict(matrix).T
        res.columns = [<span class="string"><span class="delimiter">&quot;</span><span class="content">RMSE</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">accuracy</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">spearman_corr</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">corr</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">R^2 score</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">feature</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">model</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content"># of samples</span><span class="delimiter">&quot;</span></span>]
        all_metrics.append(res)
all_metrics = pd.concat(all_metrics)
all_metrics.reset_index()</code></pre>
</div>
</div>
<div class="paragraph">
<p>こ&#8203;の&#8203;ま&#8203;ま&#8203;だ&#8203;と&#8203;出&#8203;力&#8203;が&#8203;多&#8203;す&#8203;ぎ&#8203;る&#8203;た&#8203;め、&#8203;集&#8203;計&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">numeric_cols = [<span class="string"><span class="delimiter">&quot;</span><span class="content">RMSE</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">accuracy</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">spearman_corr</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">corr</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">R^2 score</span><span class="delimiter">&quot;</span></span>]
<span class="keyword">for</span> col <span class="keyword">in</span> numeric_cols:
    all_metrics[col] = all_metrics[col].astype(<span class="predefined">float</span>)
<span class="comment"># indexとデータセット毎に平均を計算</span>
agg = all_metrics.reset_index().groupby([<span class="string"><span class="delimiter">&quot;</span><span class="content">index</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">feature</span><span class="delimiter">&quot;</span></span>]).agg(<span class="string"><span class="delimiter">&quot;</span><span class="content">mean</span><span class="delimiter">&quot;</span></span>)
agg</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="Chapter02/images/agg_mutiple_models.png" alt="agg mutiple models">
</div>
</div>
<div class="paragraph">
<p>こ&#8203;の&#8203;表&#8203;の&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;（technical_only）&#8203;と&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;デー&#8203;タ&#8203;（fundamental_only）&#8203;に&#8203;そ&#8203;れ&#8203;ぞ&#8203;れ&#8203;着&#8203;目&#8203;す&#8203;る&#8203;と、&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;の&#8203;み&#8203;を&#8203;用&#8203;い&#8203;た&#8203;特&#8203;徴&#8203;量&#8203;の&#8203;方&#8203;が、&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;デー&#8203;タ&#8203;よ&#8203;り&#8203;も&#8203;精&#8203;度&#8203;（accuracy）&#8203;と&#8203;い&#8203;う&#8203;観&#8203;点&#8203;で&#8203;若&#8203;干&#8203;優&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;分&#8203;か&#8203;り&#8203;ま&#8203;す。&#8203;<br>
ま&#8203;た、&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;と&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;デー&#8203;タ&#8203;の&#8203;両&#8203;方&#8203;を&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;用&#8203;い&#8203;た&#8203;場&#8203;合&#8203;の&#8203;結&#8203;果&#8203;に&#8203;関&#8203;し&#8203;て&#8203;は、&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;よ&#8203;り&#8203;も&#8203;若&#8203;干&#8203;全&#8203;体&#8203;正&#8203;解&#8203;率&#8203;が&#8203;高&#8203;く&#8203;なっ&#8203;て&#8203;い&#8203;ま&#8203;す&#8203;が、&#8203;誤&#8203;差&#8203;の&#8203;範&#8203;囲&#8203;内&#8203;で&#8203;す。&#8203;相&#8203;関&#8203;係&#8203;数&#8203;（corr）&#8203;に&#8203;関&#8203;し、&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;と&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;デー&#8203;タ&#8203;を&#8203;両&#8203;方&#8203;用&#8203;い&#8203;た&#8203;場&#8203;合&#8203;は、&#8203;用&#8203;い&#8203;て&#8203;い&#8203;な&#8203;い&#8203;場&#8203;合&#8203;に&#8203;比&#8203;べ&#8203;て、&#8203;優&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;分&#8203;か&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>こ&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;選&#8203;択&#8203;し&#8203;な&#8203;が&#8203;ら&#8203;複&#8203;数&#8203;の&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;つ&#8203;く&#8203;り、&#8203;複&#8203;数&#8203;の&#8203;評&#8203;価&#8203;関&#8203;数&#8203;で&#8203;評&#8203;価&#8203;を&#8203;行&#8203;う&#8203;こ&#8203;と&#8203;で、&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;と&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;デー&#8203;タ&#8203;を&#8203;組&#8203;み&#8203;合&#8203;わ&#8203;せ&#8203;た&#8203;ア&#8203;プ&#8203;ロー&#8203;チ&#8203;の&#8203;ポ&#8203;テ&#8203;ン&#8203;シャ&#8203;ル&#8203;が&#8203;高&#8203;い&#8203;こ&#8203;と&#8203;が&#8203;わ&#8203;か&#8203;り&#8203;ま&#8203;す。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_モデルの提出">2.13. モデルの提出</h3>
<div class="paragraph">
<p>本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;で&#8203;は、&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;予&#8203;測&#8203;の&#8203;提&#8203;出&#8203;方&#8203;法&#8203;は&#8203;モ&#8203;デ&#8203;ル&#8203;提&#8203;出&#8203;方&#8203;式&#8203;に&#8203;な&#8203;り&#8203;ま&#8203;す。&#8203;以&#8203;下&#8203;で&#8203;は&#8203;こ&#8203;の&#8203;方&#8203;式&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;簡&#8203;単&#8203;に&#8203;説&#8203;明&#8203;し&#8203;ま&#8203;す&#8203;が、&#8203;詳&#8203;し&#8203;く&#8203;は&#8203; <a href="https://signate.jp/features/runtime/detail">SIGNATE: Runtime &#8203;投&#8203;稿&#8203;方&#8203;法&#8203;</a>&#8203;を&#8203;ご&#8203;参&#8203;照&#8203;く&#8203;だ&#8203;さ&#8203;い。</p>
</div>
<div class="sect3">
<h4 id="_runtimeの概要">2.13.1. Runtimeの概要</h4>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>学&#8203;習&#8203;済&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;投&#8203;稿&#8203;す&#8203;る&#8203;と、&#8203;ア&#8203;ル&#8203;ゴ&#8203;リ&#8203;ズ&#8203;ム&#8203; (&#8203;推&#8203;論&#8203;プ&#8203;ロ&#8203;グ&#8203;ラ&#8203;ム&#8203;) &#8203;が&#8203;実&#8203;行&#8203;さ&#8203;れ、&#8203;推&#8203;論&#8203;時&#8203;間・&#8203;推&#8203;論&#8203;結&#8203;果&#8203;が&#8203;出&#8203;力&#8203;さ&#8203;れ&#8203;ま&#8203;す。
出&#8203;力&#8203;さ&#8203;れ&#8203;た&#8203;推&#8203;論&#8203;結&#8203;果&#8203;は、&#8203;評&#8203;価&#8203;関&#8203;数&#8203;（既&#8203;存&#8203;の&#8203;投&#8203;稿&#8203;機&#8203;能）&#8203;に&#8203;自&#8203;動&#8203;で&#8203;投&#8203;稿&#8203;さ&#8203;れ&#8203;ま&#8203;す。</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Runtime 機能でできること<br>
<cite><a href="https://signate.jp/features/runtime/detail">SIGNATE: Runtime 投稿方法</a></cite>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_提出ファイルの作成">2.13.2. 提出ファイルの作成</h4>
<div class="sect4">
<h5 id="_1_提出ファイルのテンプレートをダウンロード">1.提出ファイルのテンプレートをダウンロード</h5>
<div class="paragraph">
<p><a href="https://signate-prd-public.s3.ap-northeast-1.amazonaws.com/features/runtime/archive.zip">こちら</a>&#8203;か&#8203;ら&#8203;ダ&#8203;ウ&#8203;ン&#8203;ロー&#8203;ド</p>
</div>
</div>
<div class="sect4">
<h5 id="_2_ディレクトリの構造を確認する">2.ディレクトリの構造を確認する</h5>
<div class="paragraph">
<p>アッ&#8203;プ&#8203;ロー&#8203;ド&#8203;す&#8203;る&#8203;ディ&#8203;レ&#8203;ク&#8203;ト&#8203;リ&#8203;構&#8203;造&#8203;は&#8203;次&#8203;の&#8203;と&#8203;お&#8203;り&#8203;で&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>.
├── model                  必須 学習済モデルを置くディレクトリ
│   └── ...
├── src                    必須 Python のプログラムを置くディレクトリ
│   ├── predictor.py       必須 最初のプログラムが呼び出すファイル
│   └── ...                その他のファイル (ディレクトリ作成可能)
└── requirements.txt       任意</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_3_学習済みモデルの作成">3.学習済みモデルの作成</h5>
<div class="paragraph">
<p>以&#8203;下&#8203;の&#8203;環&#8203;境&#8203;で&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;構&#8203;築&#8203;し&#8203;て&#8203;く&#8203;だ&#8203;さ&#8203;い。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Python3 Anaconda3-2019.03 &#8203;イ&#8203;ン&#8203;ス&#8203;トー&#8203;ル&#8203;ガ&#8203;イ&#8203;ド&#8203;は&#8203;次&#8203;の&#8203;と&#8203;お&#8203;り&#8203;で&#8203;す。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>&#8203;一&#8203;般&#8203;的&#8203;な&#8203;ケー&#8203;ス&#8203;</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>https://repo.continuum.io/archive/ からバージョン2019.03をダウンロードしてください</pre>
</div>
</div>
<div class="paragraph">
<p><strong>pyenv</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>pyenv install anaconda3-2019.03</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Docker</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>docker pull continuumio/anaconda3:2019.03</pre>
</div>
</div>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で、&#8203;学&#8203;習&#8203;済&#8203;み&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;保&#8203;存&#8203;方&#8203;法&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;説&#8203;明&#8203;し&#8203;ま&#8203;す。
学&#8203;習&#8203;済&#8203;み&#8203;モ&#8203;デ&#8203;ル&#8203;は&#8203; <code>pickle</code> &#8203;で&#8203;保&#8203;存&#8203;し&#8203;ま&#8203;す。&#8203;保&#8203;存&#8203;場&#8203;所&#8203;は&#8203;Chapter 2.13.2&#8203;で&#8203;説&#8203;明&#8203;し&#8203;た&#8203;ディ&#8203;レ&#8203;ク&#8203;ト&#8203;リ&#8203;構&#8203;造&#8203;の&#8203;学&#8203;習&#8203;済&#8203;み&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;配&#8203;置&#8203;先&#8203;で&#8203;あ&#8203;る&#8203; <code>model</code> &#8203;ディ&#8203;レ&#8203;ク&#8203;ト&#8203;リ&#8203;に&#8203;な&#8203;り&#8203;ま&#8203;す。&#8203;任&#8203;意&#8203;の&#8203;ファ&#8203;イ&#8203;ル&#8203;名&#8203;を&#8203;設&#8203;定&#8203;可&#8203;能&#8203;な&#8203;の&#8203;で、&#8203;今&#8203;回&#8203;は&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;対&#8203;象&#8203;と&#8203;し&#8203;て&#8203;い&#8203;る&#8203;目&#8203;的&#8203;変&#8203;数&#8203;が&#8203;わ&#8203;か&#8203;る&#8203;よ&#8203;う&#8203;に&#8203; <code>my_model_{label}.pkl</code> &#8203;と&#8203;い&#8203;う&#8203;名&#8203;前&#8203;で&#8203;保&#8203;存&#8203;し&#8203;ま&#8203;す。&#8203;具&#8203;体&#8203;的&#8203;に&#8203;は&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;保&#8203;存&#8203;は&#8203;以&#8203;下&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;行&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># モデル保存用にメソッドを定義します</span>
<span class="keyword">def</span> <span class="function">save_model</span>(model, label, model_path=<span class="string"><span class="delimiter">&quot;</span><span class="content">../model</span><span class="delimiter">&quot;</span></span>):
    <span class="comment"># モデル保存先ディレクトリを作成</span>
    os.makedirs(model_path, exist_ok=<span class="predefined-constant">True</span>)
    <span class="keyword">with</span> <span class="predefined">open</span>(os.path.join(model_path, f<span class="string"><span class="delimiter">&quot;</span><span class="content">my_model_{label}.pkl</span><span class="delimiter">&quot;</span></span>), <span class="string"><span class="delimiter">&quot;</span><span class="content">wb</span><span class="delimiter">&quot;</span></span>) <span class="keyword">as</span> f:
        <span class="comment"># モデルをpickle形式で保存</span>
        pickle.dump(model, f)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># 保存した学習済みモデルから、提出するモデルを選択してpickle形式で保存します。</span>
<span class="comment"># 使用するモデルや特徴量を変更する際は、学習時と推論時で同一の特徴量をモデルに</span>
<span class="comment"># 入力するために提出用のpredictor.pyについても変更する必要があることにご注意ください。</span>

<span class="comment"># モデルの保存先を指定します。</span>
model_path = <span class="string"><span class="delimiter">&quot;</span><span class="content">archive/model</span><span class="delimiter">&quot;</span></span>
<span class="comment"># モデルの種類</span>
models = [<span class="string"><span class="delimiter">&quot;</span><span class="content">rf</span><span class="delimiter">&quot;</span></span>]
<span class="comment"># 使用する特徴量カラム</span>
columns = [<span class="string"><span class="delimiter">&quot;</span><span class="content">fundamental+technical</span><span class="delimiter">&quot;</span></span>]
<span class="comment"># 目的変数</span>
labels = [
    <span class="string"><span class="delimiter">&quot;</span><span class="content">label_high_20</span><span class="delimiter">&quot;</span></span>,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">label_low_20</span><span class="delimiter">&quot;</span></span>,
]

<span class="comment"># モデル毎に処理</span>
<span class="keyword">for</span> model <span class="keyword">in</span> models:
    <span class="comment"># 特徴量毎に処理</span>
    <span class="keyword">for</span> col <span class="keyword">in</span> columns:
        <span class="comment"># 目的変数毎に処理</span>
        <span class="keyword">for</span> label <span class="keyword">in</span> labels:
            <span class="comment"># 学習済みモデルを取得</span>
            pred_model = trained_models[model][col][label]
            <span class="comment"># モデルを保存</span>
            save_model(pred_model, label, model_path=model_path)</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_4_predictor_py_を記述する">4.predictor.py を記述する</h5>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で&#8203;は、&#8203;提&#8203;出&#8203;す&#8203;る&#8203;予&#8203;測&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;読&#8203;み&#8203;込&#8203;み、&#8203;当&#8203;該&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;用&#8203;い&#8203;て&#8203;予&#8203;測&#8203;を&#8203;出&#8203;力&#8203;さ&#8203;せ&#8203;る&#8203;コー&#8203;ド&#8203;の&#8203;書&#8203;き&#8203;方&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;説&#8203;明&#8203;し&#8203;ま&#8203;す。
<code>predictor.py</code> &#8203;ファ&#8203;イ&#8203;ル&#8203;に&#8203;は、&#8203;少&#8203;な&#8203;く&#8203;と&#8203;も&#8203;以&#8203;下&#8203;の&#8203;ク&#8203;ラ&#8203;ス&#8203;及&#8203;び&#8203;メ&#8203;ソッ&#8203;ド&#8203;を&#8203;作&#8203;成&#8203;す&#8203;る&#8203;必&#8203;要&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ScoringService
推論実行のためのクラスです。
以下のメソッドを実装してください。

get_model
モデルを取得するメソッドです。以下の条件があります。
- クラスメソッドであること
- 引数 model_path (str 型) を指定すること
- 正常終了時は返り値を true (bool 型) とすること

predict
推論を実行するメソッドです。以下の条件があります。
- クラスメソッドであること
- 引数 input (dict[str] 型) を指定すること
※ 詳しくはテンプレート内の、predictor.pyファイルをご確認ください。</pre>
</div>
</div>
<div class="paragraph">
<p>本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;に&#8203;お&#8203;け&#8203;る&#8203;predict&#8203;メ&#8203;ソッ&#8203;ド&#8203;の&#8203;返&#8203;り&#8203;値&#8203;の&#8203;定&#8203;義&#8203;は&#8203;以&#8203;下&#8203;と&#8203;な&#8203;り&#8203;ま&#8203;す。&#8203;詳&#8203;細&#8203;は&#8203;以&#8203;下&#8203;に&#8203;記&#8203;載&#8203;し&#8203;た&#8203;コー&#8203;ド&#8203;を&#8203;ご&#8203;参&#8203;照&#8203;く&#8203;だ&#8203;さ&#8203;い。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>結果を以下のcsv形式の文字列として出力する。
１列目:datetimeとcodeをつなげたもの(Ex 2016-05-09-1301)
２列目:label_high_20　終値→最高値への変化率
３列目:label_low_20　終値→最安値への変化率
headerはなし、B列C列はfloat64</code></pre>
</div>
</div>
<div class="paragraph">
<p>以&#8203;下&#8203;は、&#8203;本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;で&#8203;説&#8203;明&#8203;し&#8203;た&#8203;内&#8203;容&#8203;を&#8203;こ&#8203;の&#8203;規&#8203;約&#8203;に&#8203;合&#8203;わ&#8203;せ&#8203;て&#8203;記&#8203;載&#8203;し&#8203;た&#8203;predictor.py&#8203;で&#8203;す。
本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;Public LB&#8203;の&#8203;評&#8203;価&#8203;期&#8203;間&#8203;と&#8203;一&#8203;致&#8203;す&#8203;る&#8203;よ&#8203;う&#8203;に&#8203;デー&#8203;タ&#8203;の&#8203;分&#8203;割&#8203;期&#8203;間&#8203;を&#8203;調&#8203;整&#8203;し&#8203;て&#8203;あ&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># -*- coding: utf-8 -*-</span>
<span class="keyword">import</span> <span class="include">io</span>
<span class="keyword">import</span> <span class="include">os</span>
<span class="keyword">import</span> <span class="include">pickle</span>

<span class="keyword">import</span> <span class="include">numpy</span> <span class="keyword">as</span> np
<span class="keyword">import</span> <span class="include">pandas</span> <span class="keyword">as</span> pd
<span class="keyword">from</span> <span class="include">sklearn.ensemble</span> <span class="keyword">import</span> <span class="include">RandomForestRegressor</span>
<span class="keyword">from</span> <span class="include">tqdm.auto</span> <span class="keyword">import</span> <span class="include">tqdm</span>


<span class="keyword">class</span> <span class="class">ScoringService</span>(<span class="predefined">object</span>):
    <span class="comment"># 訓練期間終了日</span>
    TRAIN_END = <span class="string"><span class="delimiter">&quot;</span><span class="content">2018-12-31</span><span class="delimiter">&quot;</span></span>
    <span class="comment"># 評価期間開始日</span>
    VAL_START = <span class="string"><span class="delimiter">&quot;</span><span class="content">2019-02-01</span><span class="delimiter">&quot;</span></span>
    <span class="comment"># 評価期間終了日</span>
    VAL_END = <span class="string"><span class="delimiter">&quot;</span><span class="content">2019-12-01</span><span class="delimiter">&quot;</span></span>
    <span class="comment"># テスト期間開始日</span>
    TEST_START = <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-01-01</span><span class="delimiter">&quot;</span></span>
    <span class="comment"># 目的変数</span>
    TARGET_LABELS = [<span class="string"><span class="delimiter">&quot;</span><span class="content">label_high_20</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">label_low_20</span><span class="delimiter">&quot;</span></span>]

    <span class="comment"># データをこの変数に読み込む</span>
    dfs = <span class="predefined-constant">None</span>
    <span class="comment"># モデルをこの変数に読み込む</span>
    models = <span class="predefined-constant">None</span>
    <span class="comment"># 対象の銘柄コードをこの変数に読み込む</span>
    codes = <span class="predefined-constant">None</span>

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_inputs</span>(cls, dataset_dir):
        <span class="docstring"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
</span><span class="content">        Args:</span><span class="content">
</span><span class="content">            dataset_dir (str)  : path to dataset directory</span><span class="content">
</span><span class="content">        Returns:</span><span class="content">
</span><span class="content">            dict[str]: path to dataset files</span><span class="content">
</span><span class="content">        </span><span class="delimiter">&quot;&quot;&quot;</span></span>
        inputs = {
            <span class="string"><span class="delimiter">&quot;</span><span class="content">stock_list</span><span class="delimiter">&quot;</span></span>: f<span class="string"><span class="delimiter">&quot;</span><span class="content">{dataset_dir}/stock_list.csv.gz</span><span class="delimiter">&quot;</span></span>,
            <span class="string"><span class="delimiter">&quot;</span><span class="content">stock_price</span><span class="delimiter">&quot;</span></span>: f<span class="string"><span class="delimiter">&quot;</span><span class="content">{dataset_dir}/stock_price.csv.gz</span><span class="delimiter">&quot;</span></span>,
            <span class="string"><span class="delimiter">&quot;</span><span class="content">stock_fin</span><span class="delimiter">&quot;</span></span>: f<span class="string"><span class="delimiter">&quot;</span><span class="content">{dataset_dir}/stock_fin.csv.gz</span><span class="delimiter">&quot;</span></span>,
            <span class="comment"># &quot;stock_fin_price&quot;: f&quot;{dataset_dir}/stock_fin_price.csv.gz&quot;,</span>
            <span class="string"><span class="delimiter">&quot;</span><span class="content">stock_labels</span><span class="delimiter">&quot;</span></span>: f<span class="string"><span class="delimiter">&quot;</span><span class="content">{dataset_dir}/stock_labels.csv.gz</span><span class="delimiter">&quot;</span></span>,
        }
        <span class="keyword">return</span> inputs

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_dataset</span>(cls, inputs):
        <span class="docstring"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
</span><span class="content">        Args:</span><span class="content">
</span><span class="content">            inputs (list[str]): path to dataset files</span><span class="content">
</span><span class="content">        Returns:</span><span class="content">
</span><span class="content">            dict[pd.DataFrame]: loaded data</span><span class="content">
</span><span class="content">        </span><span class="delimiter">&quot;&quot;&quot;</span></span>
        <span class="keyword">if</span> cls.dfs <span class="keyword">is</span> <span class="predefined-constant">None</span>:
            cls.dfs = {}
        <span class="keyword">for</span> k, v <span class="keyword">in</span> inputs.items():
            cls.dfs[k] = pd.read_csv(v)
            <span class="comment"># DataFrameのindexを設定します。</span>
            <span class="keyword">if</span> k == <span class="string"><span class="delimiter">&quot;</span><span class="content">stock_price</span><span class="delimiter">&quot;</span></span>:
                cls.dfs[k].loc[:, <span class="string"><span class="delimiter">&quot;</span><span class="content">datetime</span><span class="delimiter">&quot;</span></span>] = pd.to_datetime(
                    cls.dfs[k].loc[:, <span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote Date</span><span class="delimiter">&quot;</span></span>]
                )
                cls.dfs[k].set_index(<span class="string"><span class="delimiter">&quot;</span><span class="content">datetime</span><span class="delimiter">&quot;</span></span>, inplace=<span class="predefined-constant">True</span>)
            <span class="keyword">elif</span> k <span class="keyword">in</span> [<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_fin</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">stock_fin_price</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">stock_labels</span><span class="delimiter">&quot;</span></span>]:
                cls.dfs[k].loc[:, <span class="string"><span class="delimiter">&quot;</span><span class="content">datetime</span><span class="delimiter">&quot;</span></span>] = pd.to_datetime(
                    cls.dfs[k].loc[:, <span class="string"><span class="delimiter">&quot;</span><span class="content">base_date</span><span class="delimiter">&quot;</span></span>]
                )
                cls.dfs[k].set_index(<span class="string"><span class="delimiter">&quot;</span><span class="content">datetime</span><span class="delimiter">&quot;</span></span>, inplace=<span class="predefined-constant">True</span>)
        <span class="keyword">return</span> cls.dfs

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_codes</span>(cls, dfs):
        <span class="docstring"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
</span><span class="content">        Args:</span><span class="content">
</span><span class="content">            dfs (dict[pd.DataFrame]): loaded data</span><span class="content">
</span><span class="content">        Returns:</span><span class="content">
</span><span class="content">            array: list of stock codes</span><span class="content">
</span><span class="content">        </span><span class="delimiter">&quot;&quot;&quot;</span></span>
        stock_list = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_list</span><span class="delimiter">&quot;</span></span>].copy()
        <span class="comment"># 予測対象の銘柄コードを取得</span>
        cls.codes = stock_list[stock_list[<span class="string"><span class="delimiter">&quot;</span><span class="content">prediction_target</span><span class="delimiter">&quot;</span></span>] == <span class="predefined-constant">True</span>][
            <span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>
        ].values
        <span class="keyword">return</span> cls.codes

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_features_and_label</span>(cls, dfs, codes, feature, label):
        <span class="docstring"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
</span><span class="content">        Args:</span><span class="content">
</span><span class="content">            dfs (dict[pd.DataFrame]): loaded data</span><span class="content">
</span><span class="content">            codes  (array) : target codes</span><span class="content">
</span><span class="content">            feature (pd.DataFrame): features</span><span class="content">
</span><span class="content">            label (str) : label column name</span><span class="content">
</span><span class="content">        Returns:</span><span class="content">
</span><span class="content">            train_X (pd.DataFrame): training data</span><span class="content">
</span><span class="content">            train_y (pd.DataFrame): label for train_X</span><span class="content">
</span><span class="content">            val_X (pd.DataFrame): validation data</span><span class="content">
</span><span class="content">            val_y (pd.DataFrame): label for val_X</span><span class="content">
</span><span class="content">            test_X (pd.DataFrame): test data</span><span class="content">
</span><span class="content">            test_y (pd.DataFrame): label for test_X</span><span class="content">
</span><span class="content">        </span><span class="delimiter">&quot;&quot;&quot;</span></span>
        <span class="comment"># 分割データ用の変数を定義</span>
        trains_X, vals_X, tests_X = [], [], []
        trains_y, vals_y, tests_y = [], [], []

        <span class="comment"># 銘柄コード毎に特徴量を作成</span>
        <span class="keyword">for</span> code <span class="keyword">in</span> tqdm(codes):
            <span class="comment"># 特徴量取得</span>
            feats = feature[feature[<span class="string"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span>] == code]

            <span class="comment"># stock_labelデータを読み込み</span>
            stock_labels = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_labels</span><span class="delimiter">&quot;</span></span>]
            <span class="comment"># 特定の銘柄コードのデータに絞る</span>
            stock_labels = stock_labels[stock_labels[<span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>] == code]

            <span class="comment"># 特定の目的変数に絞る</span>
            labels = stock_labels[label].copy()
            <span class="comment"># nanを削除</span>
            labels.dropna(inplace=<span class="predefined-constant">True</span>)

            <span class="keyword">if</span> feats.shape[<span class="integer">0</span>] &gt; <span class="integer">0</span> <span class="keyword">and</span> labels.shape[<span class="integer">0</span>] &gt; <span class="integer">0</span>:
                <span class="comment"># 特徴量と目的変数のインデックスを合わせる</span>
                labels = labels.loc[labels.index.isin(feats.index)]
                feats = feats.loc[feats.index.isin(labels.index)]
                labels.index = feats.index

                <span class="comment"># データを分割</span>
                _train_X = feats[: cls.TRAIN_END]
                _val_X = feats[cls.VAL_START : cls.VAL_END]
                _test_X = feats[cls.TEST_START :]

                _train_y = labels[: cls.TRAIN_END]
                _val_y = labels[cls.VAL_START : cls.VAL_END]
                _test_y = labels[cls.TEST_START :]

                <span class="comment"># データを配列に格納 (後ほど結合するため)</span>
                trains_X.append(_train_X)
                vals_X.append(_val_X)
                tests_X.append(_test_X)

                trains_y.append(_train_y)
                vals_y.append(_val_y)
                tests_y.append(_test_y)
        <span class="comment"># 銘柄毎に作成した説明変数データを結合します。</span>
        train_X = pd.concat(trains_X)
        val_X = pd.concat(vals_X)
        test_X = pd.concat(tests_X)
        <span class="comment"># 銘柄毎に作成した目的変数データを結合します。</span>
        train_y = pd.concat(trains_y)
        val_y = pd.concat(vals_y)
        test_y = pd.concat(tests_y)

        <span class="keyword">return</span> train_X, train_y, val_X, val_y, test_X, test_y

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_features_for_predict</span>(cls, dfs, code, start_dt=<span class="string"><span class="delimiter">&quot;</span><span class="content">2016-01-01</span><span class="delimiter">&quot;</span></span>):
        <span class="docstring"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
</span><span class="content">        Args:</span><span class="content">
</span><span class="content">            dfs (dict)  : dict of pd.DataFrame include stock_fin, stock_price</span><span class="content">
</span><span class="content">            code (int)  : A local code for a listed company</span><span class="content">
</span><span class="content">            start_dt (str): specify date range</span><span class="content">
</span><span class="content">        Returns:</span><span class="content">
</span><span class="content">            feature DataFrame (pd.DataFrame)</span><span class="content">
</span><span class="content">        </span><span class="delimiter">&quot;&quot;&quot;</span></span>
        <span class="comment"># stock_finデータを読み込み</span>
        stock_fin = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_fin</span><span class="delimiter">&quot;</span></span>]

        <span class="comment"># 特定の銘柄コードのデータに絞る</span>
        fin_data = stock_fin[stock_fin[<span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>] == code]
        <span class="comment"># 特徴量の作成には過去60営業日のデータを使用しているため、</span>
        <span class="comment"># 予測対象日からバッファ含めて土日を除く過去90日遡った時点から特徴量を生成します</span>
        n = <span class="integer">90</span>
        <span class="comment"># 特徴量の生成対象期間を指定</span>
        fin_data = fin_data.loc[pd.Timestamp(start_dt) - pd.offsets.BDay(n) :]
        <span class="comment"># fin_dataのnp.float64のデータのみを取得</span>
        fin_data = fin_data.select_dtypes(include=[<span class="string"><span class="delimiter">&quot;</span><span class="content">float64</span><span class="delimiter">&quot;</span></span>])
        <span class="comment"># 欠損値処理</span>
        fin_feats = fin_data.fillna(<span class="integer">0</span>)

        <span class="comment"># stock_priceデータを読み込む</span>
        price = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_price</span><span class="delimiter">&quot;</span></span>]
        <span class="comment"># 特定の銘柄コードのデータに絞る</span>
        price_data = price[price[<span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>] == code]
        <span class="comment"># 終値のみに絞る</span>
        feats = price_data[[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>]]
        <span class="comment"># 特徴量の生成対象期間を指定</span>
        feats = feats.loc[pd.Timestamp(start_dt) - pd.offsets.BDay(n) :].copy()

        <span class="comment"># 終値の20営業日リターン</span>
        feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">return_1month</span><span class="delimiter">&quot;</span></span>] = feats[
            <span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>
        ].pct_change(<span class="integer">20</span>)
        <span class="comment"># 終値の40営業日リターン</span>
        feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">return_2month</span><span class="delimiter">&quot;</span></span>] = feats[
            <span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>
        ].pct_change(<span class="integer">40</span>)
        <span class="comment"># 終値の60営業日リターン</span>
        feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">return_3month</span><span class="delimiter">&quot;</span></span>] = feats[
            <span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>
        ].pct_change(<span class="integer">60</span>)
        <span class="comment"># 終値の20営業日ボラティリティ</span>
        feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">volatility_1month</span><span class="delimiter">&quot;</span></span>] = (
            np.log(feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>])
            .diff()
            .rolling(<span class="integer">20</span>)
            .std()
        )
        <span class="comment"># 終値の40営業日ボラティリティ</span>
        feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">volatility_2month</span><span class="delimiter">&quot;</span></span>] = (
            np.log(feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>])
            .diff()
            .rolling(<span class="integer">40</span>)
            .std()
        )
        <span class="comment"># 終値の60営業日ボラティリティ</span>
        feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">volatility_3month</span><span class="delimiter">&quot;</span></span>] = (
            np.log(feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>])
            .diff()
            .rolling(<span class="integer">60</span>)
            .std()
        )
        <span class="comment"># 終値と20営業日の単純移動平均線の乖離</span>
        feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">MA_gap_1month</span><span class="delimiter">&quot;</span></span>] = feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>] / (
            feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].rolling(<span class="integer">20</span>).mean()
        )
        <span class="comment"># 終値と40営業日の単純移動平均線の乖離</span>
        feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">MA_gap_2month</span><span class="delimiter">&quot;</span></span>] = feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>] / (
            feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].rolling(<span class="integer">40</span>).mean()
        )
        <span class="comment"># 終値と60営業日の単純移動平均線の乖離</span>
        feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">MA_gap_3month</span><span class="delimiter">&quot;</span></span>] = feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>] / (
            feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>].rolling(<span class="integer">60</span>).mean()
        )
        <span class="comment"># 欠損値処理</span>
        feats = feats.fillna(<span class="integer">0</span>)
        <span class="comment"># 元データのカラムを削除</span>
        feats = feats.drop([<span class="string"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>], axis=<span class="integer">1</span>)

        <span class="comment"># 財務データの特徴量とマーケットデータの特徴量のインデックスを合わせる</span>
        feats = feats.loc[feats.index.isin(fin_feats.index)]
        fin_feats = fin_feats.loc[fin_feats.index.isin(feats.index)]

        <span class="comment"># データを結合</span>
        feats = pd.concat([feats, fin_feats], axis=<span class="integer">1</span>).dropna()

        <span class="comment"># 欠損値処理を行います。</span>
        feats = feats.replace([np.inf, -np.inf], <span class="integer">0</span>)

        <span class="comment"># 銘柄コードを設定</span>
        feats[<span class="string"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span>] = code

        <span class="comment"># 生成対象日以降の特徴量に絞る</span>
        feats = feats.loc[pd.Timestamp(start_dt) :]

        <span class="keyword">return</span> feats

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_feature_columns</span>(cls, dfs, train_X, column_group=<span class="string"><span class="delimiter">&quot;</span><span class="content">fundamental+technical</span><span class="delimiter">&quot;</span></span>):
        <span class="comment"># 特徴量グループを定義</span>
        <span class="comment"># ファンダメンタル</span>
        fundamental_cols = dfs[<span class="string"><span class="delimiter">&quot;</span><span class="content">stock_fin</span><span class="delimiter">&quot;</span></span>].select_dtypes(<span class="string"><span class="delimiter">&quot;</span><span class="content">float64</span><span class="delimiter">&quot;</span></span>).columns
        fundamental_cols = fundamental_cols[
            fundamental_cols != <span class="string"><span class="delimiter">&quot;</span><span class="content">Result_Dividend DividendPayableDate</span><span class="delimiter">&quot;</span></span>
        ]
        fundamental_cols = fundamental_cols[fundamental_cols != <span class="string"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>]
        <span class="comment"># 価格変化率</span>
        returns_cols = [x <span class="keyword">for</span> x <span class="keyword">in</span> train_X.columns <span class="keyword">if</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">return</span><span class="delimiter">&quot;</span></span> <span class="keyword">in</span> x]
        <span class="comment"># テクニカル</span>
        technical_cols = [
            x <span class="keyword">for</span> x <span class="keyword">in</span> train_X.columns <span class="keyword">if</span> (x <span class="keyword">not</span> <span class="keyword">in</span> fundamental_cols) <span class="keyword">and</span> (x != <span class="string"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span>)
        ]
        columns = {
            <span class="string"><span class="delimiter">&quot;</span><span class="content">fundamental_only</span><span class="delimiter">&quot;</span></span>: fundamental_cols,
            <span class="string"><span class="delimiter">&quot;</span><span class="content">return_only</span><span class="delimiter">&quot;</span></span>: returns_cols,
            <span class="string"><span class="delimiter">&quot;</span><span class="content">technical_only</span><span class="delimiter">&quot;</span></span>: technical_cols,
            <span class="string"><span class="delimiter">&quot;</span><span class="content">fundamental+technical</span><span class="delimiter">&quot;</span></span>: <span class="predefined">list</span>(fundamental_cols) + <span class="predefined">list</span>(technical_cols),
        }
        <span class="keyword">return</span> columns[column_group]

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">create_model</span>(cls, dfs, codes, label):
        <span class="docstring"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
</span><span class="content">        Args:</span><span class="content">
</span><span class="content">            dfs (dict)  : dict of pd.DataFrame include stock_fin, stock_price</span><span class="content">
</span><span class="content">            codes (list[int]): A local code for a listed company</span><span class="content">
</span><span class="content">            label (str): prediction target label</span><span class="content">
</span><span class="content">        Returns:</span><span class="content">
</span><span class="content">            RandomForestRegressor</span><span class="content">
</span><span class="content">        </span><span class="delimiter">&quot;&quot;&quot;</span></span>
        <span class="comment"># 特徴量を取得</span>
        buff = []
        <span class="keyword">for</span> code <span class="keyword">in</span> codes:
            buff.append(cls.get_features_for_predict(cls.dfs, code))
        feature = pd.concat(buff)
        <span class="comment"># 特徴量と目的変数を一致させて、データを分割</span>
        train_X, train_y, _, _, _, _ = cls.get_features_and_label(
            dfs, codes, feature, label
        )
        <span class="comment"># 特徴量カラムを指定</span>
        feature_columns = cls.get_feature_columns(dfs, train_X)
        <span class="comment"># モデル作成</span>
        model = RandomForestRegressor(random_state=<span class="integer">0</span>)
        model.fit(train_X[feature_columns], train_y)

        <span class="keyword">return</span> model

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">save_model</span>(cls, model, label, model_path=<span class="string"><span class="delimiter">&quot;</span><span class="content">../model</span><span class="delimiter">&quot;</span></span>):
        <span class="docstring"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
</span><span class="content">        Args:</span><span class="content">
</span><span class="content">            model (RandomForestRegressor): trained model</span><span class="content">
</span><span class="content">            label (str): prediction target label</span><span class="content">
</span><span class="content">            model_path (str): path to save model</span><span class="content">
</span><span class="content">        Returns:</span><span class="content">
</span><span class="content">            -</span><span class="content">
</span><span class="content">        </span><span class="delimiter">&quot;&quot;&quot;</span></span>
        <span class="comment"># tag::save_model_partial[]</span>
        <span class="comment"># モデル保存先ディレクトリを作成</span>
        os.makedirs(model_path, exist_ok=<span class="predefined-constant">True</span>)
        <span class="keyword">with</span> <span class="predefined">open</span>(os.path.join(model_path, f<span class="string"><span class="delimiter">&quot;</span><span class="content">my_model_{label}.pkl</span><span class="delimiter">&quot;</span></span>), <span class="string"><span class="delimiter">&quot;</span><span class="content">wb</span><span class="delimiter">&quot;</span></span>) <span class="keyword">as</span> f:
            <span class="comment"># モデルをpickle形式で保存</span>
            pickle.dump(model, f)
        <span class="comment"># end::save_model_partial[]</span>

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">get_model</span>(cls, model_path=<span class="string"><span class="delimiter">&quot;</span><span class="content">../model</span><span class="delimiter">&quot;</span></span>, labels=<span class="predefined-constant">None</span>):
        <span class="docstring"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">Get model method</span><span class="content">
</span><span class="content">
</span><span class="content">        Args:</span><span class="content">
</span><span class="content">            model_path (str): Path to the trained model directory.</span><span class="content">
</span><span class="content">            labels (arrayt): list of prediction target labels</span><span class="content">
</span><span class="content">
</span><span class="content">        Returns:</span><span class="content">
</span><span class="content">            bool: The return value. True for success, False otherwise.</span><span class="content">
</span><span class="content">
</span><span class="content">        </span><span class="delimiter">&quot;&quot;&quot;</span></span>
        <span class="keyword">if</span> cls.models <span class="keyword">is</span> <span class="predefined-constant">None</span>:
            cls.models = {}
        <span class="keyword">if</span> labels <span class="keyword">is</span> <span class="predefined-constant">None</span>:
            labels = cls.TARGET_LABELS
        <span class="keyword">for</span> label <span class="keyword">in</span> labels:
            m = os.path.join(model_path, f<span class="string"><span class="delimiter">&quot;</span><span class="content">my_model_{label}.pkl</span><span class="delimiter">&quot;</span></span>)
            <span class="keyword">with</span> <span class="predefined">open</span>(m, <span class="string"><span class="delimiter">&quot;</span><span class="content">rb</span><span class="delimiter">&quot;</span></span>) <span class="keyword">as</span> f:
                <span class="comment"># pickle形式で保存されているモデルを読み込み</span>
                cls.models[label] = pickle.load(f)

        <span class="keyword">return</span> <span class="predefined-constant">True</span>

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">train_and_save_model</span>(
        cls, inputs, labels=<span class="predefined-constant">None</span>, codes=<span class="predefined-constant">None</span>, model_path=<span class="string"><span class="delimiter">&quot;</span><span class="content">../model</span><span class="delimiter">&quot;</span></span>
    ):
        <span class="docstring"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">Predict method</span><span class="content">
</span><span class="content">
</span><span class="content">        Args:</span><span class="content">
</span><span class="content">            inputs (str)   : paths to the dataset files</span><span class="content">
</span><span class="content">            labels (array) : labels which is used in prediction model</span><span class="content">
</span><span class="content">            codes  (array) : target codes</span><span class="content">
</span><span class="content">            model_path (str): Path to the trained model directory.</span><span class="content">
</span><span class="content">        Returns:</span><span class="content">
</span><span class="content">            Dict[pd.DataFrame]: Inference for the given input.</span><span class="content">
</span><span class="content">        </span><span class="delimiter">&quot;&quot;&quot;</span></span>
        <span class="keyword">if</span> cls.dfs <span class="keyword">is</span> <span class="predefined-constant">None</span>:
            cls.get_dataset(inputs)
            cls.get_codes(cls.dfs)
        <span class="keyword">if</span> codes <span class="keyword">is</span> <span class="predefined-constant">None</span>:
            codes = cls.codes
        <span class="keyword">if</span> labels <span class="keyword">is</span> <span class="predefined-constant">None</span>:
            labels = cls.TARGET_LABELS
        <span class="keyword">for</span> label <span class="keyword">in</span> labels:
            print(label)
            model = cls.create_model(cls.dfs, codes=codes, label=label)
            cls.save_model(model, label, model_path=model_path)

    <span class="decorator">@classmethod</span>
    <span class="keyword">def</span> <span class="function">predict</span>(cls, inputs, labels=<span class="predefined-constant">None</span>, codes=<span class="predefined-constant">None</span>, start_dt=TEST_START):
        <span class="docstring"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">Predict method</span><span class="content">
</span><span class="content">
</span><span class="content">        Args:</span><span class="content">
</span><span class="content">            inputs (dict[str]): paths to the dataset files</span><span class="content">
</span><span class="content">            labels (list[str]): target label names</span><span class="content">
</span><span class="content">            codes (list[int]): traget codes</span><span class="content">
</span><span class="content">            start_dt (str): specify date range</span><span class="content">
</span><span class="content">        Returns:</span><span class="content">
</span><span class="content">            str: Inference for the given input.</span><span class="content">
</span><span class="content">        </span><span class="delimiter">&quot;&quot;&quot;</span></span>

        <span class="comment"># データ読み込み</span>
        <span class="keyword">if</span> cls.dfs <span class="keyword">is</span> <span class="predefined-constant">None</span>:
            cls.get_dataset(inputs)
            cls.get_codes(cls.dfs)

        <span class="comment"># 予測対象の銘柄コードと目的変数を設定</span>
        <span class="keyword">if</span> codes <span class="keyword">is</span> <span class="predefined-constant">None</span>:
            codes = cls.codes
        <span class="keyword">if</span> labels <span class="keyword">is</span> <span class="predefined-constant">None</span>:
            labels = cls.TARGET_LABELS

        <span class="comment"># 特徴量を作成</span>
        buff = []
        <span class="keyword">for</span> code <span class="keyword">in</span> codes:
            buff.append(cls.get_features_for_predict(cls.dfs, code, start_dt))
        feats = pd.concat(buff)

        <span class="comment"># 結果を以下のcsv形式で出力する</span>
        <span class="comment"># １列目:datetimeとcodeをつなげたもの(Ex 2016-05-09-1301)</span>
        <span class="comment"># ２列目:label_high_20　終値→最高値への変化率</span>
        <span class="comment"># ３列目:label_low_20　終値→最安値への変化率</span>
        <span class="comment"># headerはなし、B列C列はfloat64</span>

        <span class="comment"># 日付と銘柄コードに絞り込み</span>
        df = feats.loc[:, [<span class="string"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span>]].copy()
        <span class="comment"># codeを出力形式の１列目と一致させる</span>
        df.loc[:, <span class="string"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span>] = df.index.strftime(<span class="string"><span class="delimiter">&quot;</span><span class="content">%Y-%m-%d-</span><span class="delimiter">&quot;</span></span>) + df.loc[:, <span class="string"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span>].astype(
            <span class="predefined">str</span>
        )

        <span class="comment"># 出力対象列を定義</span>
        output_columns = [<span class="string"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span>]

        <span class="comment"># 特徴量カラムを指定</span>
        feature_columns = cls.get_feature_columns(cls.dfs, feats)

        <span class="comment"># 目的変数毎に予測</span>
        <span class="keyword">for</span> label <span class="keyword">in</span> labels:
            <span class="comment"># 予測実施</span>
            df[label] = cls.models[label].predict(feats[feature_columns])
            <span class="comment"># 出力対象列に追加</span>
            output_columns.append(label)

        out = io.StringIO()
        df.to_csv(out, header=<span class="predefined-constant">False</span>, index=<span class="predefined-constant">False</span>, columns=output_columns)

        <span class="keyword">return</span> out.getvalue()</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="_モジュールの追加">モジュールの追加</h6>
<div class="paragraph">
<p><a href="https://docs.anaconda.com/anaconda/packages/py3.7_linux-64/" class="bare">https://docs.anaconda.com/anaconda/packages/py3.7_linux-64/</a>
こ&#8203;の&#8203;表&#8203;の&#8203; [In Installer] &#8203;に&#8203;チェッ&#8203;ク&#8203;が&#8203;入っ&#8203;て&#8203;い&#8203;る&#8203;も&#8203;の&#8203;が、&#8203;す&#8203;で&#8203;に&#8203;イ&#8203;ン&#8203;ス&#8203;トー&#8203;ル&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す&#8203;（た&#8203;だ&#8203;し&#8203;バー&#8203;ジョ&#8203;ン&#8203;は&#8203;異&#8203;な&#8203;り&#8203;ま&#8203;す）。</p>
</div>
<div class="paragraph">
<p>Runtime&#8203;環&#8203;境&#8203;に&#8203;モ&#8203;ジュー&#8203;ル&#8203;を&#8203;追&#8203;加&#8203;す&#8203;る&#8203;た&#8203;め&#8203;に&#8203;は&#8203; <code>requirements.txt</code> &#8203;に&#8203;追&#8203;記&#8203;し&#8203;ま&#8203;す。&#8203;requirements.txt&#8203;に&#8203;記&#8203;載&#8203;し&#8203;た&#8203;モ&#8203;ジュー&#8203;ル&#8203;は&#8203;実&#8203;行&#8203;時&#8203;に&#8203;pip&#8203;で&#8203;イ&#8203;ン&#8203;ス&#8203;トー&#8203;ル&#8203;さ&#8203;れ&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>モ&#8203;ジュー&#8203;ル&#8203;を&#8203;追&#8203;加&#8203;す&#8203;る&#8203;際&#8203;は&#8203;Runtime&#8203;環&#8203;境&#8203;で&#8203;イ&#8203;ン&#8203;ス&#8203;トー&#8203;ル&#8203;及&#8203;び&#8203;使&#8203;用&#8203;可&#8203;能&#8203;か&#8203;を&#8203;ご&#8203;確&#8203;認&#8203;く&#8203;だ&#8203;さ&#8203;い。&#8203;本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;で&#8203;評&#8203;価&#8203;の&#8203;た&#8203;め&#8203;に&#8203;使&#8203;用&#8203;し&#8203;た&#8203;SHAP&#8203;の&#8203;よ&#8203;う&#8203;に、&#8203;一&#8203;部&#8203;の&#8203;モ&#8203;ジュー&#8203;ル&#8203;は&#8203;イ&#8203;ン&#8203;ス&#8203;トー&#8203;ル&#8203;時&#8203;に&#8203;ビ&#8203;ル&#8203;ド&#8203;が&#8203;必&#8203;要&#8203;と&#8203;な&#8203;る&#8203;も&#8203;の&#8203;も&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;そ&#8203;の&#8203;た&#8203;め&#8203;Runtime&#8203;環&#8203;境&#8203;で&#8203;は&#8203;使&#8203;用&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;の&#8203;で&#8203;き&#8203;な&#8203;い&#8203;モ&#8203;ジュー&#8203;ル&#8203;も&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;以&#8203;下&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;実&#8203;行&#8203;環&#8203;境&#8203;の&#8203;docker container&#8203;内&#8203;で&#8203;イ&#8203;ン&#8203;ス&#8203;トー&#8203;ル&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で&#8203;確&#8203;認&#8203;可&#8203;能&#8203;で&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ docker run --rm -it continuumio/anaconda3:2019.03 bash
# pip install tensorflow==2.4.0</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>requirements.txt</code> &#8203;に&#8203;は&#8203;以&#8203;下&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;モ&#8203;ジュー&#8203;ル&#8203;の&#8203;バー&#8203;ジョ&#8203;ン&#8203;を&#8203;指&#8203;定&#8203;し&#8203;て&#8203;記&#8203;載&#8203;し&#8203;ま&#8203;す。&#8203;こ&#8203;れ&#8203;は、&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;提&#8203;出&#8203;し&#8203;て&#8203;か&#8203;ら&#8203;全&#8203;て&#8203;の&#8203;評&#8203;価&#8203;が&#8203;完&#8203;了&#8203;す&#8203;る&#8203;ま&#8203;で&#8203;数ヶ&#8203;月&#8203;か&#8203;か&#8203;る&#8203;た&#8203;め&#8203;そ&#8203;の&#8203;間&#8203;に&#8203;モ&#8203;ジュー&#8203;ル&#8203;の&#8203;最&#8203;新&#8203;バー&#8203;ジョ&#8203;ン&#8203;が&#8203;リ&#8203;リー&#8203;ス&#8203;さ&#8203;れ&#8203;て&#8203;も&#8203;影&#8203;響&#8203;を&#8203;受&#8203;け&#8203;な&#8203;い&#8203;よ&#8203;う&#8203;に&#8203;す&#8203;る&#8203;た&#8203;め&#8203;で&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>tensorflow==2.4.0</pre>
</div>
</div>
<div class="paragraph">
<p><code>requirements.txt</code> &#8203;の&#8203;作&#8203;成&#8203;に&#8203;は&#8203; <code>pip freeze</code> &#8203;コ&#8203;マ&#8203;ン&#8203;ド&#8203;を&#8203;使&#8203;用&#8203;す&#8203;る&#8203;と&#8203;便&#8203;利&#8203;で&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ docker run --rm -it continuumio/anaconda3:2019.03 bash
# pip install [インストールするモジュール]
# pip freeze</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_デバッグ方法">デバッグ方法</h6>
<div class="paragraph">
<p>通&#8203;常</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ pip install -r requirements.txt   # モジュールが必要な場合は pip でインストールします
$ cd src    # ソースディレクトリに移動
$ python    # python の実行
Python 3.7.3 (default, Mar 27 2019, 16:54:48)
[Clang 4.0.1 (tags/RELEASE_401/final)] :: Anaconda, Inc. on darwin
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; DATASET_DIR= "/path/to" # データ保存先ディレクトリ
&gt;&gt;&gt; from predictor import ScoringService  # モジュール読み込み
&gt;&gt;&gt; inputs = ScoringService.get_inputs(DATASET_DIR)  # 推論入力データ取得
&gt;&gt;&gt; ScoringService.get_model()  # モデルの取得
True
&gt;&gt;&gt; ScoringService.predict(inputs)  # 推論の実行
'[推論結果]'</pre>
</div>
</div>
<div class="paragraph">
<p>pyenv&#8203;を&#8203;使&#8203;用</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ pyenv local anaconda3-2019.03</pre>
</div>
</div>
<div class="paragraph">
<p>以&#8203;降&#8203; &#8203;通&#8203;常&#8203;の&#8203;イ&#8203;ン&#8203;ス&#8203;トー&#8203;ル&#8203;の&#8203;場&#8203;合&#8203;と&#8203;同&#8203;様&#8203;の&#8203;デ&#8203;バッ&#8203;グ&#8203;方&#8203;法&#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p>Docker &#8203;を&#8203;使&#8203;用</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ docker run -it -v $(pwd):/opt/ml continuumio/anaconda3:2019.03 /bin/bash
$ cd /opt/ml</pre>
</div>
</div>
<div class="paragraph">
<p>以&#8203;降&#8203;は、&#8203;通&#8203;常&#8203;の&#8203;イ&#8203;ン&#8203;ス&#8203;トー&#8203;ル&#8203;の&#8203;場&#8203;合&#8203;と&#8203;同&#8203;様&#8203;の&#8203;デ&#8203;バッ&#8203;グ&#8203;方&#8203;法&#8203;に&#8203;な&#8203;り&#8203;ま&#8203;す。</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_5_zip_で圧縮して提出する">5.zip で圧縮して提出する。</h5>
<div class="paragraph">
<p>指&#8203;定&#8203;さ&#8203;れ&#8203;た&#8203;ディ&#8203;レ&#8203;ク&#8203;ト&#8203;リ&#8203;構&#8203;成&#8203;で&#8203;学&#8203;習&#8203;済&#8203;み&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;保&#8203;存&#8203;し&#8203;た&#8203;上&#8203;で、&#8203;predictor.py&#8203;を&#8203;作&#8203;成&#8203;し&#8203;た&#8203;ら、&#8203;以&#8203;下&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;zip&#8203;で&#8203;圧&#8203;縮&#8203;し&#8203;て&#8203;提&#8203;出&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ ls
model  requirements.txt  src
$ zip -v submit.zip requirements.txt src/*.py model/*.pkl
updating: requirements.txt	(in=0) (out=0) (stored 0%)
updating: src/predictor.py	(in=11408) (out=2417) (deflated 79%)
updating: model/my_model_label_high_20.pkl .	(in=18919345) (out=5071005) (deflated 73%)
updating: model/my_model_label_low_20.pkl .	(in=18704305) (out=5006613) (deflated 73%)
total bytes=37635058, compressed=10080035 -&gt; 73% savings</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ランタイム環境に関して">2.13.3. ランタイム環境に関して</h4>
<div class="paragraph">
<p>■&#8203;ラ&#8203;ン&#8203;タ&#8203;イ&#8203;ム&#8203;環&#8203;境&#8203;で&#8203;の&#8203;利&#8203;用&#8203;可&#8203;能&#8203;な&#8203;デー&#8203;タ&#8203;に&#8203;つ&#8203;い&#8203;て</p>
</div>
<div class="paragraph">
<p>・&#8203;ラ&#8203;ン&#8203;タ&#8203;イ&#8203;ム&#8203;環&#8203;境&#8203;に&#8203;提&#8203;出&#8203;し&#8203;た&#8203;モ&#8203;デ&#8203;ル&#8203;は、&#8203;各&#8203;銘&#8203;柄&#8203;の&#8203;株&#8203;価&#8203;の&#8203;最&#8203;高&#8203;値&#8203;及&#8203;び&#8203;最&#8203;安&#8203;値&#8203;を&#8203;予&#8203;測&#8203;す&#8203;る&#8203;際、&#8203;評&#8203;価&#8203;対&#8203;象&#8203;と&#8203;な&#8203;る&#8203;決&#8203;算&#8203;短&#8203;信&#8203;の&#8203;開&#8203;示&#8203;日&#8203;以&#8203;前&#8203;の&#8203;デー&#8203;タ&#8203;（銘&#8203;柄、&#8203;株&#8203;価、&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;情&#8203;報）&#8203;を&#8203;利&#8203;用&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>・&#8203;た&#8203;だ&#8203;し、&#8203;ラ&#8203;ン&#8203;タ&#8203;イ&#8203;ム&#8203;環&#8203;境&#8203;で&#8203;は、&#8203;評&#8203;価&#8203;対&#8203;象&#8203;と&#8203;な&#8203;る&#8203;決&#8203;算&#8203;短&#8203;信&#8203;の&#8203;開&#8203;示&#8203;日&#8203;の&#8203;期&#8203;間&#8203;の&#8203;デー&#8203;タ&#8203;を&#8203;全&#8203;て&#8203;格&#8203;納&#8203;し&#8203;て&#8203;い&#8203;る&#8203;た&#8203;め、&#8203;予&#8203;測&#8203;時&#8203;に&#8203;開&#8203;示&#8203;日&#8203;よ&#8203;り&#8203;未&#8203;来&#8203;の&#8203;デー&#8203;タ&#8203;を&#8203;利&#8203;用&#8203;す&#8203;る&#8203;と、&#8203;リー&#8203;ク&#8203;が&#8203;生&#8203;じ&#8203;る&#8203;こ&#8203;と&#8203;に&#8203;な&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>・&#8203;ラ&#8203;ン&#8203;タ&#8203;イ&#8203;ム&#8203;環&#8203;境&#8203;で&#8203;こ&#8203;れ&#8203;ら&#8203;の&#8203;デー&#8203;タ&#8203;を&#8203;用&#8203;い&#8203;て&#8203;特&#8203;徴&#8203;量&#8203;生&#8203;成&#8203;や&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;再&#8203;学&#8203;習&#8203;を&#8203;行&#8203;う&#8203;際&#8203;は、&#8203;リー&#8203;ク&#8203;が&#8203;含&#8203;ま&#8203;れ&#8203;な&#8203;い&#8203;よ&#8203;う&#8203;ご&#8203;留&#8203;意&#8203;く&#8203;だ&#8203;さ&#8203;い。</p>
</div>
<div class="paragraph">
<p>以&#8203;下、&#8203;ラ&#8203;ン&#8203;タ&#8203;イ&#8203;ム&#8203;実&#8203;行&#8203;日&#8203;が&#8203;5&#8203;月&#8203;10&#8203;日&#8203;の&#8203;ケー&#8203;ス&#8203;（Private 1st）&#8203;を&#8203;例&#8203;と&#8203;し&#8203;て&#8203;取&#8203;り&#8203;上&#8203;げ&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>・ランタイム環境には、2016年1月1日から2021年4月5日までのデータが配置されています
・提出モデルは、3月29日に開示された決算短信について翌営業日より20営業日間の最高値及び最安値を予測する際、3月29日までのデータを利用できます。3月30日以降のデータを利用するとリークとなり、入賞資格を失います
・同様に、4月1日に開示された決算短信について予測する際には、4月2日以降のデータは利用できません</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ニュースでポートフォリオを構築しよう">3. ニュースでポートフォリオを構築しよう</h2>
<div class="sectionbody">
<div class="paragraph">
<p>本&#8203;章&#8203;は&#8203;問&#8203;題&#8203;２&#8203;の&#8203;公&#8203;開&#8203;時&#8203;に&#8203;公&#8203;開&#8203;を&#8203;予&#8203;定&#8203;し&#8203;て&#8203;お&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p><strong>&#8203;ス&#8203;ケ&#8203;ジュー&#8203;ル&#8203;</strong></p>
</div>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;日&#8203;時&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;内&#8203;容&#8203;</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2021&#8203;年&#8203;3&#8203;月&#8203;ご&#8203;ろ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;開&#8203;始</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_tips集">4. tips集</h2>
<div class="sectionbody">
<div class="paragraph">
<p>本&#8203;章&#8203;で&#8203;は、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;に&#8203;関&#8203;連&#8203;す&#8203;る&#8203;金&#8203;融・&#8203;デー&#8203;タ&#8203;解&#8203;析&#8203;一&#8203;般&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;の&#8203;tips&#8203;を&#8203;紹&#8203;介&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="sect2">
<h3 id="_コンペティションフォーラムの紹介">4.1. コンペティションフォーラムの紹介</h3>
<div class="paragraph">
<p>J-Quants&#8203;で&#8203;は、&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;に&#8203;関&#8203;連&#8203;し&#8203;て&#8203;執&#8203;筆&#8203;さ&#8203;れ&#8203;た&#8203;記&#8203;事&#8203;の&#8203;投&#8203;稿&#8203;や&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;へ&#8203;の&#8203;ご&#8203;質&#8203;問&#8203;を&#8203;フォー&#8203;ラ&#8203;ム&#8203;（ "https://signate.jp/competitions/423/discussions" ）&#8203;に&#8203;て&#8203;募&#8203;集&#8203;し&#8203;て&#8203;お&#8203;り&#8203;ま&#8203;す&#8203;（コ&#8203;ン&#8203;ペ&#8203;の&#8203;登&#8203;録&#8203;が&#8203;必&#8203;要）。&#8203;ま&#8203;た、&#8203;下&#8203;記&#8203;内&#8203;容&#8203;以&#8203;外&#8203;に&#8203;も&#8203;有&#8203;志&#8203;の&#8203;方&#8203;に&#8203;よ&#8203;る&#8203;素&#8203;晴&#8203;ら&#8203;し&#8203;い&#8203;ス&#8203;レッ&#8203;ド&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す&#8203;の&#8203;で、&#8203;ぜ&#8203;ひ&#8203;ご&#8203;確&#8203;認&#8203;く&#8203;だ&#8203;さ&#8203;い。</p>
</div>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;タ&#8203;イ&#8203;ト&#8203;ル&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>URL</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">参&#8203;考&#8203;書&#8203;籍・&#8203;記&#8203;事・&#8203;知&#8203;見&#8203;共&#8203;有&#8203;ス&#8203;レッ&#8203;ド</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://signate.jp/competitions/423/discussions/jpx-1" class="bare">https://signate.jp/competitions/423/discussions/jpx-1</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web&#8203;記&#8203;事&#8203;投&#8203;稿&#8203;ス&#8203;レッ&#8203;ド</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://signate.jp/competitions/423/discussions/jpx-web" class="bare">https://signate.jp/competitions/423/discussions/jpx-web</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;質&#8203;問&#8203;用&#8203;ス&#8203;レッ&#8203;ド</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://signate.jp/competitions/423/discussions/jpx" class="bare">https://signate.jp/competitions/423/discussions/jpx</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_金融用語集">4.2. 金融用語集</h3>
<div class="paragraph">
<p>本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;で&#8203;必&#8203;要&#8203;と&#8203;な&#8203;る&#8203;専&#8203;門&#8203;用&#8203;語&#8203;を&#8203;解&#8203;説&#8203;し&#8203;て&#8203;く&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;サ&#8203;イ&#8203;ト&#8203;を&#8203;ご&#8203;紹&#8203;介&#8203;し&#8203;ま&#8203;す。&#8203;<br>
も&#8203;し、&#8203;専&#8203;門&#8203;用&#8203;語&#8203;で&#8203;困っ&#8203;た&#8203;場&#8203;合&#8203;は、&#8203;下&#8203;記&#8203;リ&#8203;ン&#8203;ク&#8203;先&#8203;の&#8203;コ&#8203;ン&#8203;テ&#8203;ン&#8203;ツ&#8203;を&#8203;確&#8203;認&#8203;し&#8203;て&#8203;い&#8203;た&#8203;だ&#8203;け&#8203;れ&#8203;ば&#8203;幸&#8203;い&#8203;で&#8203;す。</p>
</div>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;タ&#8203;イ&#8203;ト&#8203;ル&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;運&#8203;営&#8203;元&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>URL</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">証&#8203;券&#8203;用&#8203;語&#8203;解&#8203;説&#8203;集</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">野&#8203;村&#8203;證&#8203;券</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.nomura.co.jp/terms/" class="bare">https://www.nomura.co.jp/terms/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">金&#8203;融・&#8203;証&#8203;券&#8203;用&#8203;語&#8203;解&#8203;説&#8203;集</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">大&#8203;和&#8203;証&#8203;券</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.daiwa.jp/glossary/" class="bare">https://www.daiwa.jp/glossary/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ファ&#8203;イ&#8203;ナ&#8203;ン&#8203;ス&#8203;用&#8203;語&#8203;集</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">み&#8203;ず&#8203;ほ&#8203;証&#8203;券</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://glossary.mizuho-sc.com/" class="bare">https://glossary.mizuho-sc.com/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">初&#8203;め&#8203;て&#8203;で&#8203;も&#8203;わ&#8203;か&#8203;り&#8203;や&#8203;す&#8203;い&#8203;用&#8203;語&#8203;集</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ＳＭＢＣ&#8203;日&#8203;興&#8203;証&#8203;券</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.smbcnikko.co.jp/terms/index.html" class="bare">https://www.smbcnikko.co.jp/terms/index.html</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用&#8203;語&#8203;解&#8203;説</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">三&#8203;菱&#8203;UFJ&#8203;モ&#8203;ル&#8203;ガ&#8203;ン・&#8203;ス&#8203;タ&#8203;ン&#8203;レー&#8203;証&#8203;券&#8203;株&#8203;式&#8203;会&#8203;社</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.sc.mufg.jp/learn/terms/index.html" class="bare">https://www.sc.mufg.jp/learn/terms/index.html</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">金&#8203;融&#8203;用&#8203;語&#8203;解&#8203;説&#8203;(&#8203;知&#8203;る&#8203;ぽ&#8203;る&#8203;と&#8203;)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">金&#8203;融&#8203;広&#8203;報&#8203;中&#8203;央&#8203;委&#8203;員&#8203;会</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.shiruporuto.jp/public/document/container/yogo/" class="bare">https://www.shiruporuto.jp/public/document/container/yogo/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">金&#8203;融・&#8203;証&#8203;券&#8203;用&#8203;語&#8203;集</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">日&#8203;本&#8203;証&#8203;券&#8203;業&#8203;協&#8203;会</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.jsda.or.jp/jikan/word/" class="bare">https://www.jsda.or.jp/jikan/word/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用&#8203;語&#8203;集</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EY&#8203;新&#8203;日&#8203;本&#8203;有&#8203;限&#8203;責&#8203;任&#8203;監&#8203;査&#8203;法&#8203;人</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.shinnihon.or.jp/corporate-accounting/glossary/" class="bare">https://www.shinnihon.or.jp/corporate-accounting/glossary/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">会&#8203;計&#8203;監&#8203;査&#8203;用&#8203;語&#8203;解&#8203;説&#8203;集</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">日&#8203;本&#8203;公&#8203;認&#8203;会&#8203;計&#8203;士&#8203;協&#8203;会</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://jicpa.or.jp/cpainfo/introduction/keyword/" class="bare">https://jicpa.or.jp/cpainfo/introduction/keyword/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">財&#8203;務&#8203;諸&#8203;表&#8203;等&#8203;の&#8203;用&#8203;語、&#8203;様&#8203;式&#8203;及&#8203;び&#8203;作&#8203;成&#8203;方&#8203;法&#8203;に&#8203;関&#8203;す&#8203;る&#8203;規&#8203;則</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e-GOV</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://elaws.e-gov.go.jp/document?lawid=338M50000040059" class="bare">https://elaws.e-gov.go.jp/document?lawid=338M50000040059</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用&#8203;語&#8203;集</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">野&#8203;村&#8203;ア&#8203;セッ&#8203;ト&#8203;マ&#8203;ネ&#8203;ジ&#8203;メ&#8203;ン&#8203;ト</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.nomura-am.co.jp/basicknowledge/word/" class="bare">https://www.nomura-am.co.jp/basicknowledge/word/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用&#8203;語&#8203;集</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ア&#8203;セッ&#8203;ト&#8203;マ&#8203;ネ&#8203;ジ&#8203;メ&#8203;ン&#8203;ト&#8203;One</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.am-one.co.jp/shisankeisei/glossary/" class="bare">http://www.am-one.co.jp/shisankeisei/glossary/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">用&#8203;語&#8203;集</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">大&#8203;和&#8203;ア&#8203;セッ&#8203;ト&#8203;マ&#8203;ネ&#8203;ジ&#8203;メ&#8203;ン&#8203;ト</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.daiwa-am.co.jp/guide/term/" class="bare">https://www.daiwa-am.co.jp/guide/term/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">わ&#8203;か&#8203;り&#8203;や&#8203;す&#8203;い&#8203;用&#8203;語&#8203;集</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">三&#8203;井&#8203;住&#8203;友&#8203;DS&#8203;ア&#8203;セッ&#8203;ト&#8203;マ&#8203;ネ&#8203;ジ&#8203;メ&#8203;ン&#8203;ト</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.smd-am.co.jp/learning/glossary/" class="bare">https://www.smd-am.co.jp/learning/glossary/</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_東証マネ部">4.3. 東証マネ部</h3>
<div class="paragraph">
<p>「東&#8203;証&#8203; &#8203;マ&#8203;ネ&#8203;部！」&#8203;は&#8203;身&#8203;近&#8203;な&#8203;お&#8203;金&#8203;の&#8203;話&#8203;か&#8203;ら、&#8203;プ&#8203;ロ&#8203;が&#8203;教&#8203;え&#8203;る&#8203;資&#8203;産&#8203;運&#8203;用&#8203;の&#8203;ノ&#8203;ウ&#8203;ハ&#8203;ウ&#8203;ま&#8203;で&#8203; 、&#8203;資&#8203;産&#8203;形&#8203;成&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;わ&#8203;か&#8203;り&#8203;や&#8203;す&#8203;く&#8203;解&#8203;説&#8203;す&#8203;る&#8203;サ&#8203;イ&#8203;ト&#8203;で&#8203;す。
今&#8203;回&#8203;は、&#8203;コ&#8203;ン&#8203;ペ&#8203;に&#8203;関&#8203;係&#8203;が&#8203;あ&#8203;り&#8203;そ&#8203;う&#8203;な&#8203;記&#8203;事&#8203;を&#8203;ピッ&#8203;ク&#8203;アッ&#8203;プ&#8203;し&#8203;て&#8203;み&#8203;ま&#8203;し&#8203;た。&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;息&#8203;抜&#8203;き&#8203;に&#8203;ぜ&#8203;ひ&#8203;ご&#8203;確&#8203;認&#8203;く&#8203;だ&#8203;さ&#8203;い。</p>
</div>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;タ&#8203;イ&#8203;ト&#8203;ル&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;リ&#8203;ン&#8203;ク&#8203;</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">投&#8203;資&#8203;に&#8203;不&#8203;可&#8203;欠&#8203;な&#8203;財&#8203;務&#8203;三&#8203;表&#8203;の&#8203;見&#8203;方</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://money-bu-jpx.com/news/article022723/" class="bare">https://money-bu-jpx.com/news/article022723/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">財&#8203;務&#8203;ニュー&#8203;ス&#8203;を&#8203;読&#8203;む</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://money-bu-jpx.com/news/article028193/" class="bare">https://money-bu-jpx.com/news/article028193/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">長&#8203;期&#8203;投&#8203;資&#8203;に&#8203;欠&#8203;か&#8203;せ&#8203;な&#8203;い&#8203;運&#8203;用&#8203;コ&#8203;ス&#8203;ト&#8203;を&#8203;意&#8203;識&#8203;し&#8203;よ&#8203;う</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://money-bu-jpx.com/news/article004555/" class="bare">https://money-bu-jpx.com/news/article004555/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">プ&#8203;ロ&#8203;の&#8203;投&#8203;資&#8203;家&#8203;が&#8203;注&#8203;目&#8203;す&#8203;る&#8203;指&#8203;標&#8203;「ROE」&#8203;と&#8203;は？</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://money-bu-jpx.com/news/article005169/" class="bare">https://money-bu-jpx.com/news/article005169/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ディー&#8203;プ&#8203;ラー&#8203;ニ&#8203;ン&#8203;グ&#8203;が&#8203;拓&#8203;く&#8203;「AI&#8203;投&#8203;資」&#8203;の&#8203;可&#8203;能&#8203;性</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://money-bu-jpx.com/news/article008127/" class="bare">https://money-bu-jpx.com/news/article008127/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AI&#8203;が&#8203;導&#8203;く&#8203;金&#8203;融&#8203;市&#8203;場&#8203;の&#8203;未&#8203;来</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://money-bu-jpx.com/news/article008332/" class="bare">https://money-bu-jpx.com/news/article008332/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">４&#8203;大&#8203;投&#8203;資&#8203;指&#8203;標&#8203;の&#8203;ワ&#8203;ナ&#8203;～&#8203;解&#8203;析&#8203;力&#8203;の&#8203;鍛&#8203;錬&#8203;～</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://money-bu-jpx.com/news/article012308/" class="bare">https://money-bu-jpx.com/news/article012308/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AI&#8203;を&#8203;使っ&#8203;た&#8203;市&#8203;場&#8203;の&#8203;予&#8203;測&#8203;に&#8203;挑&#8203;む&#8203;「AlpacaJapan」</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://money-bu-jpx.com/news/article015448/" class="bare">https://money-bu-jpx.com/news/article015448/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">「AI&#8203;と&#8203;資&#8203;産&#8203;運&#8203;用」</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://money-bu-jpx.com/news/article016485/" class="bare">https://money-bu-jpx.com/news/article016485/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">投&#8203;資&#8203;に&#8203;役&#8203;立&#8203;つ&#8203;「会&#8203;社&#8203;四&#8203;季&#8203;報」&#8203;活&#8203;用&#8203;の&#8203;ポ&#8203;イ&#8203;ン&#8203;ト</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://money-bu-jpx.com/news/article020860/" class="bare">https://money-bu-jpx.com/news/article020860/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">最&#8203;低&#8203;投&#8203;資&#8203;金&#8203;額&#8203;50&#8203;万&#8203;円&#8203;以&#8203;下&#8203;の&#8203;銘&#8203;柄&#8203;特&#8203;集</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://money-bu-jpx.com/news/article022924/" class="bare">https://money-bu-jpx.com/news/article022924/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ク&#8203;チ&#8203;コ&#8203;ミ&#8203;で&#8203;投&#8203;資&#8203;を&#8203;楽&#8203;し&#8203;め&#8203;る&#8203;ア&#8203;プ&#8203;リ&#8203;「ferci&#8203;（フェ&#8203;ル&#8203;シー&#8203;)」</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://money-bu-jpx.com/news/article023550/" class="bare">https://money-bu-jpx.com/news/article023550/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">コ&#8203;ロ&#8203;ナ&#8203;後&#8203;の&#8203;世&#8203;界</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://money-bu-jpx.com/news/article024736/" class="bare">https://money-bu-jpx.com/news/article024736/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">株&#8203;式&#8203;場&#8203;況&#8203;を&#8203;読&#8203;む&#8203;～&#8203;専&#8203;門&#8203;用&#8203;語&#8203;の&#8203;理&#8203;解&#8203;～</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://money-bu-jpx.com/news/article026712/" class="bare">https://money-bu-jpx.com/news/article026712/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">決&#8203;算&#8203;ニュー&#8203;ス&#8203;を&#8203;読&#8203;む&#8203;～&#8203;会&#8203;計&#8203;用&#8203;語&#8203;の&#8203;理&#8203;解&#8203;～</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://money-bu-jpx.com/news/article027285/" class="bare">https://money-bu-jpx.com/news/article027285/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">公&#8203;的&#8203;統&#8203;計&#8203;を&#8203;補&#8203;完&#8203;す&#8203;る&#8203;「オ&#8203;ル&#8203;タ&#8203;ナ&#8203;ティ&#8203;ブ&#8203;デー&#8203;タ」&#8203;と&#8203;は？</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://money-bu-jpx.com/news/article028023/" class="bare">https://money-bu-jpx.com/news/article028023/</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_参考になる書籍">4.4. 参考になる書籍</h3>
<div class="paragraph">
<p>本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;に&#8203;参&#8203;考&#8203;に&#8203;な&#8203;る&#8203;書&#8203;籍&#8203;を&#8203;紹&#8203;介&#8203;致&#8203;し&#8203;ま&#8203;す。</p>
</div>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;タ&#8203;イ&#8203;ト&#8203;ル&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;著&#8203;者&#8203;</strong>　</th>
<th class="tableblock halign-left valign-top"><strong>&#8203;概&#8203;要&#8203;</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ファ&#8203;イ&#8203;ナ&#8203;ン&#8203;ス&#8203;機&#8203;械&#8203;学&#8203;習&#8203;―&#8203;金&#8203;融&#8203;市&#8203;場&#8203;分&#8203;析&#8203;を&#8203;変&#8203;え&#8203;る&#8203;機&#8203;械&#8203;学&#8203;習&#8203;ア&#8203;ル&#8203;ゴ&#8203;リ&#8203;ズ&#8203;ム&#8203;の&#8203;理&#8203;論&#8203;と&#8203;実&#8203;践</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">マ&#8203;ル&#8203;コ&#8203;ス・&#8203;ロ&#8203;ペ&#8203;ス・&#8203;デ・&#8203;プ&#8203;ラ&#8203;ド</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">機&#8203;械&#8203;学&#8203;習&#8203;を&#8203;用&#8203;い&#8203;て&#8203;金&#8203;融&#8203;デー&#8203;タ&#8203;を&#8203;分&#8203;析&#8203;す&#8203;る&#8203;上&#8203;で&#8203;の&#8203;知&#8203;識&#8203;を&#8203;網&#8203;羅&#8203;的&#8203;に&#8203;学&#8203;ぶ&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;る。&#8203;金&#8203;融&#8203;の&#8203;ド&#8203;メ&#8203;イ&#8203;ン&#8203;知&#8203;識&#8203;を&#8203;デー&#8203;タ&#8203;サ&#8203;イ&#8203;エ&#8203;ン&#8203;ティ&#8203;ス&#8203;ト&#8203;が&#8203;学&#8203;ぶ&#8203;に&#8203;は&#8203;最&#8203;適&#8203;な&#8203;本。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ア&#8203;セッ&#8203;ト&#8203;マ&#8203;ネー&#8203;ジャー&#8203;の&#8203;た&#8203;め&#8203;の&#8203;ファ&#8203;イ&#8203;ナ&#8203;ン&#8203;ス&#8203;機&#8203;械&#8203;学&#8203;習</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">マ&#8203;ル&#8203;コ&#8203;ス・&#8203;ロ&#8203;ペ&#8203;ス・&#8203;デ・&#8203;プ&#8203;ラ&#8203;ド</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ファ&#8203;イ&#8203;ナ&#8203;ン&#8203;ス&#8203;機&#8203;械&#8203;学&#8203;習&#8203;に&#8203;続&#8203;き、&#8203;ノ&#8203;イ&#8203;ズ&#8203;除&#8203;去、&#8203;ク&#8203;ラ&#8203;ス&#8203;タ&#8203;リ&#8203;ン&#8203;グ、&#8203;ラ&#8203;ベ&#8203;リ&#8203;ン&#8203;グ、&#8203;特&#8203;徴&#8203;量&#8203;の&#8203;重&#8203;要&#8203;度&#8203;分&#8203;析&#8203;な&#8203;ど&#8203;の&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;で&#8203;も&#8203;関&#8203;連&#8203;の&#8203;深&#8203;い&#8203;ト&#8203;ピッ&#8203;ク&#8203;を&#8203;学&#8203;ぶ&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;る。&#8203;た&#8203;だ&#8203;し、&#8203;「ファ&#8203;イ&#8203;ナ&#8203;ン&#8203;ス&#8203;機&#8203;械&#8203;学&#8203;習」&#8203;と&#8203;比&#8203;較&#8203;す&#8203;る&#8203;と&#8203;網&#8203;羅&#8203;性&#8203;は&#8203;な&#8203;い&#8203;の&#8203;で、&#8203;2&#8203;冊&#8203;目&#8203;と&#8203;し&#8203;て&#8203;読&#8203;む&#8203;こ&#8203;と&#8203;を&#8203;推&#8203;奨。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kaggle&#8203;で&#8203;勝&#8203;つ&#8203;デー&#8203;タ&#8203;分&#8203;析&#8203;の&#8203;技&#8203;術</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">門&#8203;脇&#8203; &#8203;大&#8203;輔&#8203; &#8203;他</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">モ&#8203;デ&#8203;ル&#8203;の&#8203;チュー&#8203;ニ&#8203;ン&#8203;グ・&#8203;ア&#8203;ン&#8203;サ&#8203;ン&#8203;ブ&#8203;ル&#8203;な&#8203;ど&#8203;機&#8203;械&#8203;学&#8203;習&#8203;の&#8203;コ&#8203;ン&#8203;ペ&#8203;に&#8203;関&#8203;連&#8203;す&#8203;る&#8203;テ&#8203;ク&#8203;ニッ&#8203;ク&#8203;を&#8203;効&#8203;率&#8203;的&#8203;に&#8203;学&#8203;ぶ&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;る。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">株&#8203;を&#8203;買&#8203;う&#8203;な&#8203;ら&#8203;最&#8203;低&#8203;限&#8203;知っ&#8203;て&#8203;お&#8203;き&#8203;た&#8203;い&#8203; &#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;投&#8203;資&#8203;の&#8203;教&#8203;科&#8203;書&#8203; &#8203;改&#8203;訂&#8203;版</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">足&#8203;立&#8203; &#8203;武&#8203;志</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;分&#8203;析&#8203;に&#8203;必&#8203;要&#8203;な&#8203;基&#8203;礎&#8203;知&#8203;識&#8203;を&#8203;学&#8203;ぶ&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;る。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">経&#8203;済・&#8203;ファ&#8203;イ&#8203;ナ&#8203;ン&#8203;ス&#8203;デー&#8203;タ&#8203;の&#8203;計&#8203;量&#8203;時&#8203;系&#8203;列&#8203;分&#8203;析</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">沖&#8203;本&#8203;竜&#8203;義</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ARIMA&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;ベー&#8203;ス&#8203;と&#8203;し&#8203;た&#8203;古&#8203;典&#8203;的&#8203;な&#8203;時&#8203;系&#8203;列&#8203;解&#8203;析&#8203;を&#8203;学&#8203;ぶ&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;る。&#8203;ARIMA&#8203;モ&#8203;デ&#8203;ル&#8203;自&#8203;体&#8203;を&#8203;予&#8203;測&#8203;モ&#8203;デ&#8203;ル&#8203;と&#8203;し&#8203;て&#8203;使&#8203;う&#8203;こ&#8203;と&#8203;は、&#8203;コ&#8203;ン&#8203;ペ&#8203;で&#8203;は&#8203;ま&#8203;れ&#8203;だ&#8203;が、&#8203;金&#8203;融&#8203;デー&#8203;タ&#8203;に&#8203;対&#8203;し&#8203;て&#8203;時&#8203;系&#8203;列&#8203;分&#8203;析&#8203;を&#8203;実&#8203;施&#8203;す&#8203;る&#8203;上&#8203;で&#8203;の&#8203;実&#8203;務&#8203;上&#8203;の&#8203;課&#8203;題&#8203;な&#8203;ど&#8203;も&#8203;学&#8203;ぶ&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;る。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">金&#8203;融・&#8203;経&#8203;済&#8203;分&#8203;析&#8203;の&#8203;た&#8203;め&#8203;の&#8203;テ&#8203;キ&#8203;ス&#8203;ト&#8203;マ&#8203;イ&#8203;ニ&#8203;ン&#8203;グ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">和&#8203;泉&#8203; &#8203;潔&#8203;他</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">市&#8203;場&#8203;レ&#8203;ポー&#8203;ト&#8203;や&#8203;経&#8203;済&#8203;ニュー&#8203;ス&#8203;な&#8203;ど&#8203;の&#8203;テ&#8203;キ&#8203;ス&#8203;ト&#8203;デー&#8203;タ&#8203;を&#8203;分&#8203;析&#8203;し、&#8203;資&#8203;産&#8203;運&#8203;用&#8203;や&#8203;市&#8203;場&#8203;分&#8203;析&#8203;に&#8203;活&#8203;か&#8203;す&#8203;手&#8203;法&#8203;を&#8203;解&#8203;説&#8203;し&#8203;て&#8203;い&#8203;る。&#8203;数&#8203;式&#8203;は&#8203;少&#8203;な&#8203;く、&#8203;金&#8203;融&#8203;テ&#8203;キ&#8203;ス&#8203;ト&#8203;マ&#8203;イ&#8203;ニ&#8203;ン&#8203;グ&#8203;の&#8203;独&#8203;特&#8203;な&#8203;注&#8203;意&#8203;点&#8203;や&#8203;思&#8203;考&#8203;法&#8203;を&#8203;中&#8203;心&#8203;に&#8203;整&#8203;理&#8203;し&#8203;て&#8203;お&#8203;り、&#8203;初&#8203;め&#8203;て&#8203;金&#8203;融&#8203;分&#8203;野&#8203;の&#8203;テ&#8203;キ&#8203;ス&#8203;ト&#8203;マ&#8203;イ&#8203;ニ&#8203;ン&#8203;グ&#8203;を&#8203;す&#8203;る&#8203;人&#8203;に&#8203;は&#8203;助&#8203;か&#8203;る&#8203;一&#8203;冊。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">統&#8203;計&#8203;学&#8203;入&#8203;門</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">東&#8203;京&#8203;大&#8203;学&#8203;教&#8203;養&#8203;学&#8203;部&#8203;統&#8203;計&#8203;学&#8203;教&#8203;室&#8203; &#8203;編</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">文&#8203;科&#8203;と&#8203;理&#8203;科&#8203;両&#8203;方&#8203;の&#8203;学&#8203;生&#8203;の&#8203;た&#8203;め&#8203;に，&#8203;統&#8203;計&#8203;的&#8203;な&#8203;も&#8203;の&#8203;の&#8203;考&#8203;え&#8203;方&#8203;の&#8203;基&#8203;礎&#8203;が&#8203;や&#8203;さ&#8203;し&#8203;く&#8203;解&#8203;説&#8203;さ&#8203;れ&#8203;て&#8203;お&#8203;り、&#8203;統&#8203;計&#8203;学&#8203;の&#8203;体&#8203;系&#8203;的&#8203;な&#8203;知&#8203;識&#8203;を&#8203;与&#8203;え&#8203;る&#8203;よ&#8203;う&#8203;に，&#8203;編&#8203;集・&#8203;執&#8203;筆&#8203;さ&#8203;れ&#8203;た&#8203;一&#8203;冊。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Python&#8203;デー&#8203;タ&#8203;サ&#8203;イ&#8203;エ&#8203;ン&#8203;ス&#8203;ハ&#8203;ン&#8203;ド&#8203;ブッ&#8203;ク</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jake VanderPlas &#8203;著、&#8203;菊&#8203;池&#8203; &#8203;彰&#8203; &#8203;訳</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;に&#8203;お&#8203;い&#8203;て&#8203;も&#8203;利&#8203;用&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;Jupyter、&#8203;NumPy、&#8203;pandas、&#8203;Matplotlib、&#8203;scikit-learn&#8203;等&#8203;を&#8203;カ&#8203;バー&#8203;し&#8203;て&#8203;い&#8203;る&#8203;一&#8203;冊。&#8203;そ&#8203;れ&#8203;ぞ&#8203;れ&#8203;の&#8203;ト&#8203;ピッ&#8203;ク&#8203;に&#8203;つ&#8203;い&#8203;て、&#8203;押&#8203;さ&#8203;え&#8203;て&#8203;お&#8203;く&#8203;べ&#8203;き&#8203;基&#8203;本、&#8203;tips、&#8203;便&#8203;利&#8203;な&#8203;コ&#8203;マ&#8203;ン&#8203;ド&#8203;な&#8203;ど&#8203;が&#8203;紹&#8203;介&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;る。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_参考になるコンペティション">4.5. 参考になるコンペティション</h3>
<div class="paragraph">
<p>本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;に&#8203;関&#8203;連&#8203;し&#8203;た&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;を&#8203;紹&#8203;介&#8203;い&#8203;た&#8203;し&#8203;ま&#8203;す。</p>
</div>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;タ&#8203;イ&#8203;ト&#8203;ル&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;概&#8203;要&#8203;</strong>　</th>
<th class="tableblock halign-left valign-top"><strong>URL</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Two Sigma: Using News to Predict Stock Movements</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ニュー&#8203;ス&#8203;デー&#8203;タ&#8203;を&#8203;用&#8203;い&#8203;た&#8203;株&#8203;価&#8203;の&#8203;予&#8203;測</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.kaggle.com/c/two-sigma-financial-news" class="bare">https://www.kaggle.com/c/two-sigma-financial-news</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fintech Data Championship</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">日&#8203;本&#8203;株&#8203;式&#8203;の&#8203;ポー&#8203;ト&#8203;フォ&#8203;リ&#8203;オ&#8203;で&#8203;次&#8203;の&#8203;1&#8203;カ&#8203;月&#8203;後&#8203;に、&#8203;最&#8203;も&#8203;上&#8203;昇&#8203;す&#8203;る&#8203;組&#8203;み&#8203;合&#8203;わ&#8203;せ&#8203;を&#8203;検&#8203;討</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://compass.labbase.jp/articles/296" class="bare">https://compass.labbase.jp/articles/296</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Algorithmic Trading Challenge　</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">投&#8203;資&#8203;戦&#8203;略&#8203;に&#8203;関&#8203;す&#8203;る&#8203;収&#8203;益&#8203;率・&#8203;取&#8203;引&#8203;高&#8203;等&#8203;の&#8203;デー&#8203;タ&#8203;か&#8203;ら、&#8203;各&#8203;戦&#8203;略&#8203;へ&#8203;の&#8203;資&#8203;金&#8203;の&#8203;割&#8203;り&#8203;当&#8203;て&#8203;の&#8203;重&#8203;み&#8203;を&#8203;最&#8203;適&#8203;化</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://signate.jp/competitions/146" class="bare">https://signate.jp/competitions/146</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">大&#8203;手&#8203;ヘッ&#8203;ジ&#8203;ファ&#8203;ン&#8203;ド&#8203;X: &#8203;金&#8203;融&#8203;モ&#8203;デ&#8203;リ&#8203;ン&#8203;グ&#8203;チャ&#8203;レ&#8203;ン&#8203;ジ&#8203;　</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">独&#8203;自&#8203;に&#8203;導&#8203;出&#8203;し&#8203;た&#8203;様々&#8203;な&#8203;特&#8203;徴&#8203;量&#8203;か&#8203;ら&#8203;将&#8203;来&#8203;の&#8203;動&#8203;き&#8203;を&#8203;予&#8203;想</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://signate.jp/competitions/53" class="bare">https://signate.jp/competitions/53</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">財&#8203;務・&#8203;非&#8203;財&#8203;務&#8203;情&#8203;報&#8203;を&#8203;活&#8203;用&#8203;し&#8203;た&#8203;株&#8203;主&#8203;価&#8203;値&#8203;予&#8203;測&#8203;　</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">会&#8203;計&#8203;年&#8203;度&#8203;2014-2017&#8203;年&#8203;の&#8203;各&#8203;企&#8203;業&#8203;の&#8203;財&#8203;務・&#8203;非&#8203;財&#8203;務&#8203;情&#8203;報&#8203;か&#8203;ら、&#8203;会&#8203;計&#8203;年&#8203;度&#8203;2018&#8203;年&#8203;の&#8203;期&#8203;末&#8203;時&#8203;価&#8203;総&#8203;額&#8203;を&#8203;予&#8203;測</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.nishika.com/competitions/4/summary" class="bare">https://www.nishika.com/competitions/4/summary</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Winton Stock Market Challenge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">過&#8203;去&#8203;の&#8203;株&#8203;価&#8203;と&#8203;マ&#8203;ス&#8203;ク&#8203;さ&#8203;れ&#8203;た&#8203;特&#8203;徴&#8203;量&#8203;か&#8203;ら&#8203;将&#8203;来&#8203;の&#8203;株&#8203;価&#8203;を&#8203;予&#8203;想</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.kaggle.com/c/the-winton-stock-market-challenge" class="bare">https://www.kaggle.com/c/the-winton-stock-market-challenge</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Numerai</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">マ&#8203;ス&#8203;ク&#8203;さ&#8203;れ&#8203;た&#8203;銘&#8203;柄・&#8203;特&#8203;徴&#8203;量&#8203;か&#8203;ら&#8203;週&#8203;次&#8203;で&#8203;予&#8203;測&#8203;結&#8203;果&#8203;を&#8203;提&#8203;出</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://numer.ai/" class="bare">https://numer.ai/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quantconnect</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">条&#8203;件&#8203;を&#8203;満&#8203;た&#8203;し&#8203;た&#8203;モ&#8203;デ&#8203;ル&#8203;で&#8203;リ&#8203;ター&#8203;ン&#8203;を&#8203;追&#8203;求</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.quantconnect.com/competitions" class="bare">https://www.quantconnect.com/competitions</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bloomberg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ESG&#8203;要&#8203;素&#8203;を&#8203;効&#8203;果&#8203;的&#8203;に&#8203;投&#8203;資&#8203;判&#8203;断&#8203;に&#8203;組&#8203;み&#8203;込&#8203;ん&#8203;で&#8203;い&#8203;る&#8203;か&#8203;な&#8203;ど&#8203;の&#8203;評&#8203;価</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.bloomberg.co.jp/company/stories/investment_contest_2020/" class="bare">https://www.bloomberg.co.jp/company/stories/investment_contest_2020/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jane Street Market Prediction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">株&#8203;の&#8203;取&#8203;引&#8203;戦&#8203;略&#8203;を&#8203;採&#8203;用&#8203;す&#8203;る&#8203;か&#8203;ど&#8203;う&#8203;か&#8203;を&#8203;予&#8203;測</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.kaggle.com/c/jane-street-market-prediction/" class="bare">https://www.kaggle.com/c/jane-street-market-prediction/</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_ファンダメンタルズ分析の活用方法">4.6. ファンダメンタルズ分析の活用方法</h3>
<div class="paragraph">
<p>ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;ズ&#8203;分&#8203;析&#8203;と&#8203;は、&#8203;企&#8203;業&#8203;の&#8203;成&#8203;長&#8203;性、&#8203;収&#8203;益&#8203;性、&#8203;割&#8203;安&#8203;性、&#8203;安&#8203;定&#8203;性、&#8203;効&#8203;率&#8203;性&#8203;な&#8203;ど&#8203;を&#8203;分&#8203;析&#8203;し、&#8203;投&#8203;資&#8203;判&#8203;断&#8203;な&#8203;ど&#8203;に&#8203;活&#8203;用&#8203;す&#8203;る&#8203;手&#8203;法&#8203;で&#8203;す。&#8203;こ&#8203;こ&#8203;で&#8203;は&#8203;成&#8203;長&#8203;性、&#8203;収&#8203;益&#8203;性、&#8203;割&#8203;安&#8203;性、&#8203;安&#8203;定&#8203;性、&#8203;効&#8203;率&#8203;性&#8203;の&#8203;代&#8203;表&#8203;的&#8203;な&#8203;指&#8203;標&#8203;を&#8203;紹&#8203;介&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>（<strong>&#8203;成&#8203;長&#8203;性&#8203;</strong>）&#8203;<br>
成&#8203;長&#8203;性&#8203;と&#8203;は、&#8203;売&#8203;上&#8203;や&#8203;利&#8203;益&#8203;の&#8203;増&#8203;加&#8203;が&#8203;継&#8203;続&#8203;し&#8203;て&#8203;い&#8203;る&#8203;か&#8203;を&#8203;指&#8203;し、&#8203;企&#8203;業&#8203;価&#8203;値&#8203;の&#8203;増&#8203;大&#8203;に&#8203;直&#8203;結&#8203;す&#8203;る&#8203;指&#8203;標&#8203;で&#8203;す。&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;の&#8203;デー&#8203;タ&#8203;で&#8203;は、&#8203;純&#8203;資&#8203;産&#8203;や&#8203;営&#8203;業&#8203;利&#8203;益&#8203;の&#8203;上&#8203;昇&#8203;率&#8203;に&#8203;着&#8203;目&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で、&#8203;そ&#8203;の&#8203;銘&#8203;柄&#8203;の&#8203;成&#8203;長&#8203;性&#8203;を&#8203;測&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;出&#8203;来&#8203;ま&#8203;す。&#8203;営&#8203;業&#8203;利&#8203;益&#8203;の&#8203;上&#8203;昇&#8203;率&#8203;を&#8203;計&#8203;算&#8203;す&#8203;る&#8203;場&#8203;合&#8203;は、&#8203;季&#8203;節&#8203;性&#8203;を&#8203;考&#8203;慮&#8203;し、&#8203;前&#8203;年&#8203;同&#8203;期&#8203;比&#8203;と&#8203;比&#8203;較&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;多&#8203;い&#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p>ま&#8203;た、&#8203;年&#8203;間&#8203;を&#8203;通&#8203;し&#8203;て&#8203;同&#8203;一&#8203;の&#8203;指&#8203;標&#8203;で&#8203;評&#8203;価&#8203;を&#8203;行&#8203;い&#8203;た&#8203;い&#8203;と&#8203;き&#8203;は、&#8203;直&#8203;近&#8203;の&#8203;四&#8203;半&#8203;期&#8203;の&#8203;デー&#8203;タ&#8203;で&#8203;移&#8203;動&#8203;平&#8203;均&#8203;な&#8203;ど&#8203;を&#8203;取&#8203;る&#8203;方&#8203;法&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;成&#8203;長&#8203;性&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;利&#8203;用&#8203;さ&#8203;れ&#8203;る&#8203;様々&#8203;な&#8203;指&#8203;標&#8203;と&#8203;し&#8203;て&#8203;売&#8203;上&#8203;高&#8203;増&#8203;加&#8203;率、&#8203;営&#8203;業&#8203;利&#8203;益&#8203;増&#8203;加&#8203;率、&#8203;経&#8203;常&#8203;利&#8203;益&#8203;増&#8203;加&#8203;率、&#8203;総&#8203;資&#8203;本&#8203;増&#8203;加&#8203;率、&#8203;純&#8203;資&#8203;本&#8203;増&#8203;加&#8203;率、&#8203;従&#8203;業&#8203;員&#8203;増&#8203;加&#8203;率、&#8203;一&#8203;株&#8203;当&#8203;た&#8203;り&#8203;当&#8203;期&#8203;純&#8203;利&#8203;益&#8203;（EPS）&#8203;(&#8203;成&#8203;長&#8203;性&#8203;分&#8203;析&#8203;で&#8203;企&#8203;業&#8203;の&#8203;成&#8203;長&#8203;度&#8203;を&#8203;測&#8203;る&#8203; &#8203;知っ&#8203;て&#8203;お&#8203;く&#8203;べ&#8203;き&#8203;指&#8203;標&#8203;や&#8203;分&#8203;析&#8203;方&#8203;法&#8203; &#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://keiei.freee.co.jp/articles/c0201686" class="bare">https://keiei.freee.co.jp/articles/c0201686</a> )&#8203;な&#8203;ど&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>な&#8203;お、&#8203;過&#8203;去&#8203;の&#8203;成&#8203;長&#8203;性&#8203;を&#8203;解&#8203;析&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;は&#8203;で&#8203;き&#8203;ま&#8203;す&#8203;が、&#8203;そ&#8203;の&#8203;成&#8203;長&#8203;性&#8203;が&#8203;長&#8203;期&#8203;間&#8203;に&#8203;渡っ&#8203;て&#8203;継&#8203;続&#8203;す&#8203;る&#8203;か&#8203;を&#8203;予&#8203;測&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;は、&#8203;様々&#8203;な&#8203;要&#8203;因&#8203;が&#8203;関&#8203;係&#8203;す&#8203;る&#8203;た&#8203;め&#8203;難&#8203;し&#8203;い&#8203;問&#8203;題&#8203;で&#8203;す。&#8203;ま&#8203;た、&#8203;株&#8203;価&#8203;そ&#8203;の&#8203;も&#8203;の&#8203;で&#8203;は&#8203;な&#8203;く&#8203;成&#8203;長&#8203;性&#8203;自&#8203;体&#8203;を&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;予&#8203;測&#8203;対&#8203;象&#8203;に&#8203;し&#8203;て、&#8203;そ&#8203;の&#8203;予&#8203;測&#8203;に&#8203;基&#8203;づ&#8203;き&#8203;投&#8203;資&#8203;を&#8203;行&#8203;う&#8203;ス&#8203;タ&#8203;イ&#8203;ル&#8203;も&#8203;存&#8203;在&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>（<strong>&#8203;収&#8203;益&#8203;性&#8203;</strong>）&#8203;<br>
収&#8203;益&#8203;性&#8203;は、&#8203;営&#8203;業&#8203;利&#8203;益&#8203;率&#8203;や&#8203;経&#8203;常&#8203;利&#8203;益&#8203;率&#8203;等&#8203;を&#8203;指&#8203;し、&#8203;そ&#8203;れ&#8203;ぞ&#8203;れ&#8203;営&#8203;業&#8203;利&#8203;益、&#8203;経&#8203;常&#8203;利&#8203;益&#8203;を&#8203;売&#8203;上&#8203;高&#8203;で&#8203;割&#8203;る&#8203;こ&#8203;と&#8203;で&#8203;計&#8203;算&#8203;さ&#8203;れ&#8203;ま&#8203;す。&#8203;営&#8203;業&#8203;利&#8203;益&#8203;率&#8203;や&#8203;経&#8203;常&#8203;利&#8203;益&#8203;率&#8203;が&#8203;高&#8203;い&#8203;企&#8203;業&#8203;は&#8203;優&#8203;れ&#8203;た&#8203;ビ&#8203;ジ&#8203;ネ&#8203;ス&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;保&#8203;持&#8203;し&#8203;て&#8203;い&#8203;た&#8203;り、&#8203;販&#8203;管&#8203;費&#8203;を&#8203;低&#8203;く&#8203;保&#8203;つ&#8203;オ&#8203;ペ&#8203;レー&#8203;ショ&#8203;ン&#8203;が&#8203;徹&#8203;底&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;た&#8203;り&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;多&#8203;く、&#8203;優&#8203;良&#8203;企&#8203;業&#8203;を&#8203;判&#8203;断&#8203;す&#8203;る&#8203;上&#8203;で&#8203;の&#8203;指&#8203;標&#8203;と&#8203;なっ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;そ&#8203;し&#8203;て、&#8203;こ&#8203;の&#8203;収&#8203;益&#8203;性&#8203;の&#8203;変&#8203;化&#8203;率&#8203;を&#8203;成&#8203;長&#8203;性&#8203;と&#8203;扱&#8203;う&#8203;こ&#8203;と&#8203;も&#8203;で&#8203;き&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>一&#8203;般&#8203;的&#8203;に&#8203;投&#8203;資&#8203;家&#8203;が&#8203;期&#8203;待&#8203;す&#8203;る&#8203;収&#8203;益&#8203;性&#8203;は、&#8203;業&#8203;種&#8203;に&#8203;お&#8203;い&#8203;て&#8203;大&#8203;き&#8203;く&#8203;異&#8203;な&#8203;る&#8203;こ&#8203;と&#8203;に&#8203;注&#8203;意&#8203;が&#8203;必&#8203;要&#8203;で&#8203;す。&#8203;<br>
例&#8203;え&#8203;ば、&#8203;様々&#8203;あ&#8203;る&#8203;業&#8203;種&#8203;の&#8203;う&#8203;ち、&#8203;情&#8203;報&#8203;通&#8203;信&#8203;と&#8203;食&#8203;品&#8203;に&#8203;期&#8203;待&#8203;さ&#8203;れ&#8203;る&#8203;営&#8203;業&#8203;利&#8203;益&#8203;率&#8203;は&#8203;大&#8203;き&#8203;く&#8203;異&#8203;な&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;想&#8203;定&#8203;さ&#8203;れ&#8203;ま&#8203;す。&#8203;こ&#8203;の&#8203;場&#8203;合、&#8203;銘&#8203;柄&#8203;情&#8203;報&#8203;に&#8203;は&#8203;セ&#8203;ク&#8203;ター&#8203;情&#8203;報&#8203;が&#8203;含&#8203;ま&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;た&#8203;め、&#8203;セ&#8203;ク&#8203;ター&#8203;平&#8203;均&#8203;の&#8203;営&#8203;業&#8203;利&#8203;益&#8203;率&#8203;を&#8203;計&#8203;算&#8203;し、&#8203;そ&#8203;の&#8203;差&#8203;分&#8203;を&#8203;計&#8203;算&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で、&#8203;セ&#8203;ク&#8203;ター&#8203;平&#8203;均&#8203;か&#8203;ら&#8203;の&#8203;上&#8203;振&#8203;れ&#8203;や&#8203;下&#8203;振&#8203;れ&#8203;を&#8203;特&#8203;徴&#8203;量&#8203;に&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>（<strong>&#8203;割&#8203;安&#8203;性&#8203;</strong>）&#8203;<br>
株&#8203;式&#8203;が&#8203;割&#8203;安&#8203;で&#8203;あ&#8203;る&#8203;と&#8203;は、&#8203;そ&#8203;の&#8203;企&#8203;業&#8203;の&#8203;株&#8203;価&#8203;が&#8203;企&#8203;業&#8203;価&#8203;値&#8203;と&#8203;比&#8203;較&#8203;し&#8203;て&#8203;安&#8203;い&#8203;と&#8203;い&#8203;う&#8203;こ&#8203;と&#8203;で&#8203;す。&#8203;代&#8203;表&#8203;的&#8203;な&#8203;指&#8203;標&#8203;と&#8203;し&#8203;て&#8203;は&#8203;PBR&#8203;が&#8203;挙&#8203;げ&#8203;ら&#8203;れ&#8203;ま&#8203;す。&#8203;こ&#8203;の&#8203;指&#8203;標&#8203;は、&#8203;企&#8203;業&#8203;の&#8203;純&#8203;資&#8203;産&#8203;と&#8203;発&#8203;行&#8203;済&#8203;み&#8203;株&#8203;式&#8203;数&#8203;を&#8203;割っ&#8203;て、&#8203;1&#8203;株&#8203;当&#8203;た&#8203;り&#8203;の&#8203;純&#8203;資&#8203;産&#8203;を&#8203;計&#8203;算&#8203;し&#8203;ま&#8203;す。&#8203;そ&#8203;し&#8203;て、&#8203;現&#8203;在&#8203;の&#8203;株&#8203;価&#8203;を&#8203;こ&#8203;の&#8203;1&#8203;株&#8203;当&#8203;た&#8203;り&#8203;の&#8203;純&#8203;資&#8203;産&#8203;で&#8203;割っ&#8203;て&#8203;PBR&#8203;を&#8203;求&#8203;め&#8203;ま&#8203;す。&#8203;こ&#8203;の&#8203;指&#8203;標&#8203;が&#8203;1&#8203;を&#8203;割っ&#8203;て&#8203;い&#8203;る&#8203;場&#8203;合&#8203;は、&#8203;そ&#8203;の&#8203;企&#8203;業&#8203;の&#8203;本&#8203;来&#8203;の&#8203;価&#8203;値&#8203;よ&#8203;り&#8203;も&#8203;安&#8203;い&#8203;値&#8203;段&#8203;で&#8203;株&#8203;を&#8203;買&#8203;え&#8203;る&#8203;こ&#8203;と&#8203;に&#8203;な&#8203;る&#8203;の&#8203;で、&#8203;割&#8203;安&#8203;で&#8203;あ&#8203;る&#8203;と&#8203;考&#8203;え&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;ま&#8203;す。&#8203;PBR&#8203;が&#8203;高&#8203;い&#8203;銘&#8203;柄&#8203;を&#8203;グ&#8203;ロー&#8203;ス&#8203;銘&#8203;柄、&#8203;低&#8203;い&#8203;銘&#8203;柄&#8203;を&#8203;バ&#8203;リュー&#8203;銘&#8203;柄&#8203;と&#8203;し&#8203;て&#8203;扱&#8203;い&#8203;そ&#8203;れ&#8203;ぞ&#8203;れ&#8203;異&#8203;な&#8203;る&#8203;特&#8203;性&#8203;を&#8203;持っ&#8203;た&#8203;銘&#8203;柄&#8203;と&#8203;し&#8203;て&#8203;分&#8203;析&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;も&#8203;あ&#8203;り、&#8203;企&#8203;業&#8203;の&#8203;状&#8203;態&#8203;を&#8203;知&#8203;る&#8203;上&#8203;で&#8203;重&#8203;要&#8203;な&#8203;指&#8203;標&#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p>現&#8203;状&#8203;の&#8203;日&#8203;本&#8203;マー&#8203;ケッ&#8203;ト&#8203;に&#8203;お&#8203;い&#8203;て&#8203;は、&#8203;PBR&#8203;が&#8203;1&#8203;未&#8203;満&#8203;の&#8203;銘&#8203;柄&#8203;が&#8203;数&#8203;多&#8203;く&#8203;あ&#8203;り&#8203;ま&#8203;す&#8203;(Yahoo&#8203;ファ&#8203;イ&#8203;ナ&#8203;ン&#8203;ス&#8203; &#8203;低&#8203;PBR&#8203;ラ&#8203;ン&#8203;キ&#8203;ン&#8203;グ&#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://info.finance.yahoo.co.jp/ranking/?kd=12" class="bare">https://info.finance.yahoo.co.jp/ranking/?kd=12</a> )。
こ&#8203;れ&#8203;ら&#8203;の&#8203;極&#8203;め&#8203;て&#8203;割&#8203;安&#8203;な&#8203;銘&#8203;柄&#8203;は&#8203;ディー&#8203;プ&#8203;バ&#8203;リュー&#8203;株&#8203;と&#8203;呼&#8203;ば&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;PBR&#8203;が&#8203;低&#8203;い&#8203;理&#8203;由&#8203;と&#8203;し&#8203;て&#8203;以&#8203;下&#8203;の&#8203;よ&#8203;う&#8203;な&#8203;理&#8203;由&#8203;も&#8203;考&#8203;え&#8203;ら&#8203;れ&#8203;ま&#8203;す&#8203;の&#8203;で、&#8203;PBR&#8203;を&#8203;もっ&#8203;て&#8203;一&#8203;概&#8203;に&#8203;割&#8203;安&#8203;銘&#8203;柄&#8203;と&#8203;す&#8203;る&#8203;の&#8203;で&#8203;は&#8203;な&#8203;く、&#8203;各&#8203;企&#8203;業&#8203;の&#8203;そ&#8203;の&#8203;他&#8203;の&#8203;決&#8203;算&#8203;情&#8203;報&#8203;を&#8203;参&#8203;照&#8203;す&#8203;る&#8203;な&#8203;ど、&#8203;複&#8203;数&#8203;の&#8203;情&#8203;報&#8203;を&#8203;考&#8203;慮&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;も&#8203;重&#8203;要&#8203;で&#8203;す。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>株&#8203;式&#8203;市&#8203;場&#8203;全&#8203;体&#8203;が&#8203;調&#8203;整&#8203;局&#8203;面&#8203;に&#8203;あ&#8203;る&#8203;な&#8203;ど&#8203;の&#8203;理&#8203;由&#8203;に&#8203;よ&#8203;り、&#8203;企&#8203;業&#8203;実&#8203;態&#8203;よ&#8203;り&#8203;株&#8203;価&#8203;が&#8203;売&#8203;り&#8203;込&#8203;ま&#8203;れ&#8203;て&#8203;い&#8203;る。</p>
</li>
<li>
<p>含&#8203;み&#8203;損&#8203;の&#8203;実&#8203;現&#8203;や&#8203;業&#8203;績&#8203;の&#8203;悪&#8203;化&#8203;に&#8203;よ&#8203;る&#8203;純&#8203;資&#8203;産&#8203;の&#8203;減&#8203;少&#8203;を&#8203;株&#8203;価&#8203;が&#8203;先&#8203;取&#8203;り&#8203;し&#8203;て&#8203;織&#8203;り&#8203;込&#8203;ん&#8203;で&#8203;下&#8203;落&#8203;し&#8203;て&#8203;い&#8203;る。</p>
</li>
<li>
<p>不&#8203;人&#8203;気&#8203;の&#8203;た&#8203;め&#8203;安&#8203;値&#8203;に&#8203;放&#8203;置&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;る。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>（<strong>&#8203;安&#8203;定&#8203;性&#8203;</strong>）&#8203;<br>
安&#8203;定&#8203;性&#8203;は、&#8203;大&#8203;型&#8203;株&#8203;や&#8203;安&#8203;定&#8203;性&#8203;が&#8203;重&#8203;視&#8203;さ&#8203;れ&#8203;る&#8203;金&#8203;融・&#8203;銀&#8203;行&#8203;の&#8203;よ&#8203;う&#8203;な&#8203;特&#8203;定&#8203;の&#8203;セ&#8203;ク&#8203;ター&#8203;で&#8203;重&#8203;視&#8203;さ&#8203;れ&#8203;る&#8203;指&#8203;標&#8203;で&#8203;す。&#8203;安&#8203;定&#8203;性&#8203;を&#8203;計&#8203;算&#8203;す&#8203;る&#8203;代&#8203;表&#8203;的&#8203;な&#8203;指&#8203;標&#8203;は&#8203;「自&#8203;己&#8203;資&#8203;本&#8203;比&#8203;率」&#8203;で&#8203;す。&#8203;<br>
「自&#8203;己&#8203;資&#8203;本&#8203;比&#8203;率」&#8203;は&#8203;総&#8203;資&#8203;本&#8203;に&#8203;お&#8203;け&#8203;る&#8203;自&#8203;己&#8203;資&#8203;本&#8203;の&#8203;割&#8203;合&#8203;を&#8203;計&#8203;算&#8203;し&#8203;て&#8203;得&#8203;ら&#8203;れ&#8203;ま&#8203;す。&#8203;自&#8203;己&#8203;資&#8203;本&#8203;比&#8203;率&#8203;が&#8203;高&#8203;け&#8203;れ&#8203;ば、&#8203;自&#8203;己&#8203;資&#8203;本&#8203;が&#8203;多&#8203;い、&#8203;つ&#8203;ま&#8203;り&#8203;返&#8203;済&#8203;義&#8203;務&#8203;の&#8203;な&#8203;い&#8203;お&#8203;金&#8203;を&#8203;潤&#8203;沢&#8203;に&#8203;持っ&#8203;て&#8203;い&#8203;る&#8203;と&#8203;い&#8203;う&#8203;こ&#8203;と&#8203;に&#8203;な&#8203;る&#8203;の&#8203;で&#8203;「中&#8203;長&#8203;期&#8203;的&#8203;に&#8203;見&#8203;て&#8203;倒&#8203;産&#8203;し&#8203;に&#8203;く&#8203;い&#8203;会&#8203;社」&#8203;と&#8203;い&#8203;う&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き、&#8203;株&#8203;式&#8203;の&#8203;中&#8203;長&#8203;期&#8203;保&#8203;有&#8203;を&#8203;行&#8203;う&#8203;上&#8203;で&#8203;倒&#8203;産&#8203;リ&#8203;ス&#8203;ク&#8203;を&#8203;減&#8203;ら&#8203;す&#8203;た&#8203;め&#8203;の&#8203;重&#8203;要&#8203;な&#8203;チェッ&#8203;ク&#8203;ポ&#8203;イ&#8203;ン&#8203;ト&#8203;と&#8203;なっ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;(&#8203;自&#8203;己&#8203;資&#8203;本&#8203;比&#8203;率&#8203;｜&#8203;会&#8203;社&#8203;経&#8203;営&#8203;の&#8203;「安&#8203;全&#8203;性」&#8203;を&#8203;あ&#8203;ら&#8203;わ&#8203;す&#8203;指&#8203;標&#8203; &#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://advisors-freee.jp/article/category/cat-big-03/cat-small-08/9011/" class="bare">https://advisors-freee.jp/article/category/cat-big-03/cat-small-08/9011/</a> )</p>
</div>
<div class="paragraph">
<p>な&#8203;お、&#8203;以&#8203;下&#8203;の&#8203;効&#8203;率&#8203;性&#8203;に&#8203;関&#8203;す&#8203;る&#8203;記&#8203;載&#8203;で&#8203;も&#8203;紹&#8203;介&#8203;し&#8203;て&#8203;い&#8203;る&#8203;ROE&#8203;で&#8203;は、&#8203;当&#8203;期&#8203;純&#8203;利&#8203;益&#8203;と&#8203;自&#8203;己&#8203;資&#8203;本&#8203;の&#8203;割&#8203;合&#8203;を&#8203;見&#8203;ま&#8203;す&#8203;が、&#8203;自&#8203;己&#8203;資&#8203;本&#8203;が&#8203;低&#8203;い&#8203;株&#8203;は&#8203;ROE&#8203;が&#8203;高&#8203;く&#8203;な&#8203;る&#8203;の&#8203;で&#8203;注&#8203;意&#8203;が&#8203;必&#8203;要&#8203;で&#8203;す。&#8203;つ&#8203;ま&#8203;り、&#8203;借&#8203;り&#8203;入&#8203;れ&#8203;を&#8203;増&#8203;や&#8203;し&#8203;リ&#8203;ス&#8203;ク&#8203;を&#8203;取っ&#8203;て&#8203;い&#8203;る&#8203;銘&#8203;柄&#8203;で&#8203;は&#8203;ROE&#8203;が&#8203;高&#8203;く&#8203;な&#8203;り&#8203;や&#8203;す&#8203;く、&#8203;安&#8203;定&#8203;性&#8203;が&#8203;低&#8203;く&#8203;な&#8203;る&#8203;可&#8203;能&#8203;性&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;ま&#8203;た、&#8203;小&#8203;型&#8203;株&#8203;に&#8203;お&#8203;い&#8203;て&#8203;は&#8203;安&#8203;定&#8203;性&#8203;よ&#8203;り&#8203;も&#8203;成&#8203;長&#8203;性&#8203;を&#8203;重&#8203;視&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;も&#8203;あ&#8203;る&#8203;と&#8203;い&#8203;う&#8203;点&#8203;に&#8203;注&#8203;意&#8203;が&#8203;必&#8203;要&#8203;で&#8203;す。&#8203;特&#8203;定&#8203;の&#8203;セ&#8203;ク&#8203;ター&#8203;や&#8203;特&#8203;定&#8203;の&#8203;領&#8203;域&#8203;に&#8203;お&#8203;い&#8203;て&#8203;重&#8203;要&#8203;視&#8203;さ&#8203;れ&#8203;る&#8203;指&#8203;標&#8203;を&#8203;モ&#8203;デ&#8203;ル&#8203;に&#8203;投&#8203;入&#8203;す&#8203;る&#8203;場&#8203;合、&#8203;セ&#8203;ク&#8203;ター&#8203;の&#8203;情&#8203;報&#8203;を&#8203;特&#8203;徴&#8203;量&#8203;と&#8203;し&#8203;て&#8203;投&#8203;入&#8203;す&#8203;る&#8203;な&#8203;ど、&#8203;一&#8203;緒&#8203;に&#8203;銘&#8203;柄&#8203;を&#8203;分&#8203;類&#8203;で&#8203;き&#8203;る&#8203;情&#8203;報&#8203;を&#8203;モ&#8203;デ&#8203;ル&#8203;に&#8203;投&#8203;入&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で、&#8203;そ&#8203;れ&#8203;ら&#8203;の&#8203;特&#8203;性&#8203;を&#8203;学&#8203;ば&#8203;せ&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;可&#8203;能&#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p>（<strong>&#8203;効&#8203;率&#8203;性&#8203;</strong>）&#8203;<br>
効&#8203;率&#8203;性&#8203;は、&#8203;近&#8203;年&#8203;注&#8203;目&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;ROE&#8203;や&#8203;ROA&#8203;か&#8203;ら&#8203;計&#8203;算&#8203;さ&#8203;れ&#8203;る&#8203;指&#8203;標&#8203;で&#8203;す。&#8203;<br>
ROE&#8203;は、&#8203;当&#8203;期&#8203;純&#8203;利&#8203;益&#8203; ÷ &#8203;自&#8203;己&#8203;資&#8203;本&#8203; × 100&#8203;と&#8203;し&#8203;て&#8203;計&#8203;算&#8203;さ&#8203;れ、&#8203;自&#8203;己&#8203;資&#8203;本&#8203;に&#8203;対&#8203;し&#8203;て&#8203;ど&#8203;れ&#8203;だ&#8203;け&#8203;の&#8203;利&#8203;益&#8203;が&#8203;生&#8203;み&#8203;出&#8203;さ&#8203;れ&#8203;た&#8203;の&#8203;か&#8203;を&#8203;示&#8203;し&#8203;ま&#8203;す。&#8203;<br>
ROA&#8203;は、&#8203;借&#8203;り&#8203;入&#8203;れ&#8203;な&#8203;ど&#8203;を&#8203;含&#8203;む&#8203;総&#8203;資&#8203;産&#8203;を&#8203;使っ&#8203;て&#8203;ど&#8203;れ&#8203;だ&#8203;け&#8203;利&#8203;益&#8203;を&#8203;生&#8203;み&#8203;出&#8203;し&#8203;た&#8203;か&#8203;を&#8203;表&#8203;す&#8203;指&#8203;標&#8203;で&#8203;す。&#8203;<br>
ROE&#8203;や&#8203;ROA&#8203;は、&#8203;効&#8203;率&#8203;性&#8203;を&#8203;示&#8203;す&#8203;指&#8203;標&#8203;と&#8203;し&#8203;て&#8203;注&#8203;目&#8203;さ&#8203;れ&#8203;て&#8203;お&#8203;り、&#8203;政&#8203;府&#8203;が&#8203;2017&#8203;年&#8203;に&#8203;公&#8203;表&#8203;し&#8203;た&#8203;成&#8203;長&#8203;戦&#8203;略&#8203;「未&#8203;来&#8203;投&#8203;資&#8203;戦&#8203;略&#8203;2017」&#8203;に&#8203;お&#8203;い&#8203;て、&#8203;「《KPI》&#8203;大&#8203;企&#8203;業&#8203;（TOPIX500）&#8203;の&#8203; ROA &#8203;に&#8203;つ&#8203;い&#8203;て、&#8203;2025 &#8203;年&#8203;ま&#8203;で&#8203;に&#8203;欧&#8203;米&#8203;企&#8203;業&#8203;に&#8203;遜&#8203;色&#8203;の&#8203;な&#8203;い&#8203;水&#8203;準&#8203;を&#8203;目&#8203;指&#8203;す。」&#8203;(&#8203;未&#8203;来&#8203;投&#8203;資&#8203;戦&#8203;略&#8203;2017 &#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://www.kantei.go.jp/jp/singi/keizaisaisei/pdf/miraitousi2017_sisaku.pdf" class="bare">https://www.kantei.go.jp/jp/singi/keizaisaisei/pdf/miraitousi2017_sisaku.pdf</a> )&#8203;と&#8203;い&#8203;う&#8203;KPI&#8203;が&#8203;設&#8203;定&#8203;さ&#8203;れ&#8203;注&#8203;目&#8203;を&#8203;浴&#8203;び&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>ROE&#8203;が&#8203;高&#8203;い&#8203;銘&#8203;柄&#8203;ほ&#8203;ど&#8203;効&#8203;率&#8203;性&#8203;が&#8203;高&#8203;い&#8203;と&#8203;考&#8203;え&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き、&#8203;企&#8203;業&#8203;価&#8203;値&#8203;を&#8203;高&#8203;め&#8203;る&#8203;た&#8203;め&#8203;の&#8203;施&#8203;策&#8203;と&#8203;し&#8203;て&#8203;ROE&#8203;の&#8203;向&#8203;上、&#8203;ま&#8203;た&#8203;は&#8203;維&#8203;持&#8203;を&#8203;目&#8203;標&#8203;と&#8203;す&#8203;る&#8203;企&#8203;業&#8203;が&#8203;多&#8203;く、&#8203;ROE&#8203;重&#8203;視&#8203;の&#8203;流&#8203;れ&#8203;の&#8203;背&#8203;景&#8203;は&#8203;「投&#8203;資&#8203;指&#8203;標&#8203;と&#8203;し&#8203;て&#8203;の&#8203; ROE」&#8203;(<a href="https://www.tr.mufg.jp/houjin/jutaku/pdf/u201503_1.pdf" class="bare">https://www.tr.mufg.jp/houjin/jutaku/pdf/u201503_1.pdf</a>) &#8203;で&#8203;詳&#8203;し&#8203;く&#8203;解&#8203;説&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>上&#8203;記&#8203;の&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;情&#8203;報&#8203;は、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;で&#8203;提&#8203;供&#8203;さ&#8203;れ&#8203;る&#8203;デー&#8203;タ&#8203;で&#8203;計&#8203;算&#8203;可&#8203;能&#8203;で&#8203;す&#8203;の&#8203;で、&#8203;様々&#8203;な&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;情&#8203;報&#8203;を&#8203;勉&#8203;強&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;は、&#8203;特&#8203;徴&#8203;量&#8203;設&#8203;計&#8203;の&#8203;次&#8203;の&#8203;一&#8203;歩&#8203;に&#8203;繋&#8203;が&#8203;る&#8203;で&#8203;しょ&#8203;う。</p>
</div>
</div>
<div class="sect2">
<h3 id="_テクニカル分析の活用方法">4.7. テクニカル分析の活用方法</h3>
<div class="paragraph">
<p>テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;は、&#8203;将&#8203;来&#8203;の&#8203;株&#8203;価&#8203;の&#8203;変&#8203;化&#8203;を&#8203;過&#8203;去&#8203;に&#8203;発&#8203;生&#8203;し&#8203;た&#8203;価&#8203;格&#8203;や&#8203;出&#8203;来&#8203;高&#8203;等&#8203;の&#8203;時&#8203;系&#8203;列&#8203;パ&#8203;ター&#8203;ン&#8203;か&#8203;ら&#8203;予&#8203;想・&#8203;分&#8203;析&#8203;し&#8203;よ&#8203;う&#8203;と&#8203;す&#8203;る&#8203;手&#8203;法&#8203;で&#8203;あ&#8203;り、&#8203;メ&#8203;ジャー&#8203;な&#8203;分&#8203;析&#8203;手&#8203;法&#8203;の&#8203;一&#8203;つ&#8203;で&#8203;す。&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;に&#8203;は&#8203;ト&#8203;レ&#8203;ン&#8203;ド&#8203;分&#8203;析、&#8203;オ&#8203;シ&#8203;レー&#8203;ター&#8203;分&#8203;析、&#8203;フォー&#8203;メー&#8203;ショ&#8203;ン&#8203;分&#8203;析、&#8203;ロー&#8203;ソ&#8203;ク&#8203;足&#8203;分&#8203;析&#8203;(&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;指&#8203;標&#8203;一&#8203;覧&#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://info.monex.co.jp/technical-analysis/indicators/" class="bare">https://info.monex.co.jp/technical-analysis/indicators/</a> )&#8203;が&#8203;あ&#8203;り、&#8203;2&#8203;章&#8203;に&#8203;お&#8203;い&#8203;て&#8203;も&#8203;オ&#8203;シ&#8203;レー&#8203;ター&#8203;の&#8203;代&#8203;表&#8203;的&#8203;な&#8203;分&#8203;析&#8203;手&#8203;法&#8203;の&#8203;一&#8203;つ&#8203;で&#8203;あ&#8203;る&#8203;「移&#8203;動&#8203;平&#8203;均&#8203;乖&#8203;離&#8203;率」&#8203;を&#8203;特&#8203;徴&#8203;量&#8203;の&#8203;一&#8203;つ&#8203;と&#8203;し&#8203;て&#8203;採&#8203;用&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で&#8203;は、&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;を&#8203;更&#8203;に&#8203;活&#8203;用&#8203;す&#8203;る&#8203;た&#8203;め&#8203;の&#8203;注&#8203;意&#8203;事&#8203;項&#8203;を&#8203;説&#8203;明&#8203;し&#8203;ま&#8203;す。&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;を&#8203;特&#8203;徴&#8203;量&#8203;と&#8203;し&#8203;て&#8203;採&#8203;用&#8203;す&#8203;る&#8203;場&#8203;合、&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;に&#8203;よ&#8203;り&#8203;得&#8203;た&#8203;新&#8203;規&#8203;の&#8203;情&#8203;報&#8203;が&#8203;す&#8203;で&#8203;に&#8203;投&#8203;入&#8203;済&#8203;み&#8203;の&#8203;特&#8203;徴&#8203;量&#8203;と&#8203;比&#8203;較&#8203;し&#8203;て、&#8203;ど&#8203;の&#8203;程&#8203;度&#8203;新&#8203;し&#8203;い&#8203;情&#8203;報&#8203;を&#8203;保&#8203;持&#8203;し&#8203;て&#8203;い&#8203;る&#8203;か、&#8203;と&#8203;い&#8203;う&#8203;観&#8203;点&#8203;か&#8203;ら&#8203;考&#8203;え&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;重&#8203;要&#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p>例&#8203;え&#8203;ば、&#8203;移&#8203;動&#8203;平&#8203;均&#8203;と&#8203;移&#8203;動&#8203;平&#8203;均&#8203;乖&#8203;離&#8203;率&#8203;は、&#8203;そ&#8203;れ&#8203;ぞ&#8203;れ&#8203;似&#8203;た&#8203;よ&#8203;う&#8203;な&#8203;情&#8203;報&#8203;を&#8203;保&#8203;持&#8203;し&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;容&#8203;易&#8203;に&#8203;想&#8203;像&#8203;が&#8203;つ&#8203;き&#8203;ま&#8203;す。&#8203;こ&#8203;れ&#8203;ら&#8203;の&#8203;情&#8203;報&#8203;を&#8203;特&#8203;徴&#8203;量&#8203;と&#8203;し&#8203;て&#8203;考&#8203;え&#8203;た&#8203;場&#8203;合、&#8203;「20&#8203;日&#8203;移&#8203;動&#8203;平&#8203;均&#8203;乖&#8203;離&#8203;率」&#8203;の&#8203;方&#8203;が&#8203;0&#8203;平&#8203;均&#8203;と&#8203;な&#8203;る&#8203;た&#8203;め、&#8203;定&#8203;常&#8203;性&#8203;を&#8203;仮&#8203;定&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き、&#8203;扱&#8203;い&#8203;や&#8203;す&#8203;い&#8203;こ&#8203;と&#8203;か&#8203;ら&#8203;移&#8203;動&#8203;平&#8203;均&#8203;乖&#8203;離&#8203;率&#8203;を&#8203;2&#8203;章&#8203;で&#8203;は&#8203;採&#8203;用&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;<br>
ス&#8203;ト&#8203;キャ&#8203;ス&#8203;ティ&#8203;ク&#8203;ス&#8203;(&#8203;詳&#8203;細&#8203;は&#8203; <a href="https://info.monex.co.jp/technical-analysis/indicators/006.html" class="bare">https://info.monex.co.jp/technical-analysis/indicators/006.html</a> &#8203;を&#8203;参&#8203;照&#8203;)&#8203;や&#8203;RSI(&#8203;詳&#8203;細&#8203;は&#8203; <a href="https://info.monex.co.jp/technical-analysis/indicators/005.html" class="bare">https://info.monex.co.jp/technical-analysis/indicators/005.html</a> &#8203;を&#8203;参&#8203;照&#8203;)&#8203;の&#8203;よ&#8203;う&#8203;な&#8203;オ&#8203;シ&#8203;レー&#8203;ター&#8203;系&#8203;の&#8203;分&#8203;析&#8203;も、&#8203;似&#8203;通っ&#8203;た&#8203;情&#8203;報&#8203;を&#8203;保&#8203;持&#8203;し&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;推&#8203;測&#8203;で&#8203;き&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>機&#8203;械&#8203;学&#8203;習&#8203;の&#8203;モ&#8203;デ&#8203;ル&#8203;構&#8203;築&#8203;に&#8203;お&#8203;い&#8203;て、&#8203;若&#8203;干&#8203;の&#8203;パ&#8203;ラ&#8203;メー&#8203;タ&#8203;を&#8203;変&#8203;更&#8203;し&#8203;た&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;を&#8203;複&#8203;数&#8203;個&#8203;特&#8203;徴&#8203;量&#8203;と&#8203;し&#8203;て&#8203;投&#8203;入&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;は、&#8203;ほ&#8203;と&#8203;ん&#8203;ど&#8203;の&#8203;場&#8203;合&#8203;良&#8203;い&#8203;結&#8203;果&#8203;に&#8203;結&#8203;び&#8203;つ&#8203;き&#8203;ま&#8203;せ&#8203;ん。&#8203;こ&#8203;れ&#8203;は、&#8203;パ&#8203;ラ&#8203;メー&#8203;タ&#8203;違&#8203;い&#8203;の&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;や&#8203;同&#8203;一&#8203;種&#8203;類&#8203;の&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;は、&#8203;ほ&#8203;ぼ&#8203;同&#8203;一&#8203;の&#8203;情&#8203;報&#8203;を&#8203;保&#8203;持&#8203;し&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;多&#8203;く、&#8203;複&#8203;数&#8203;個&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;投&#8203;入&#8203;し&#8203;た&#8203;と&#8203;し&#8203;て&#8203;も、&#8203;パ&#8203;フォー&#8203;マ&#8203;ン&#8203;ス&#8203;が&#8203;向&#8203;上&#8203;す&#8203;る&#8203;程&#8203;の&#8203;新&#8203;規&#8203;の&#8203;情&#8203;報&#8203;を&#8203;発&#8203;見&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;難&#8203;し&#8203;い&#8203;た&#8203;め&#8203;で&#8203;す。&#8203;ま&#8203;た、&#8203;時&#8203;系&#8203;列&#8203;解&#8203;析&#8203;は&#8203;サ&#8203;ン&#8203;プ&#8203;ル&#8203;数&#8203;が&#8203;限&#8203;ら&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;多&#8203;く、&#8203;特&#8203;徴&#8203;量&#8203;の&#8203;種&#8203;類&#8203;を&#8203;多&#8203;く&#8203;す&#8203;る&#8203;と&#8203;学&#8203;習&#8203;に&#8203;必&#8203;要&#8203;な&#8203;十&#8203;分&#8203;な&#8203;デー&#8203;タ&#8203;量&#8203;を&#8203;確&#8203;保&#8203;で&#8203;き&#8203;な&#8203;い&#8203;た&#8203;め、&#8203;む&#8203;や&#8203;み&#8203;に&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;増&#8203;や&#8203;す&#8203;べ&#8203;き&#8203;で&#8203;は&#8203;な&#8203;く、&#8203;特&#8203;徴&#8203;量&#8203;自&#8203;体&#8203;に&#8203;パ&#8203;フォー&#8203;マ&#8203;ン&#8203;ス&#8203;向&#8203;上&#8203;に&#8203;結&#8203;び&#8203;つ&#8203;く&#8203;新&#8203;し&#8203;い&#8203;情&#8203;報&#8203;が&#8203;含&#8203;ま&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;を&#8203;重&#8203;視&#8203;し&#8203;ま&#8203;しょ&#8203;う。</p>
</div>
<div class="paragraph">
<p>例&#8203;え&#8203;ば、&#8203;2&#8203;章&#8203;に&#8203;あ&#8203;る&#8203;よ&#8203;う&#8203;な&#8203;移&#8203;動&#8203;平&#8203;均&#8203;乖&#8203;離&#8203;率&#8203;と&#8203;標&#8203;準&#8203;偏&#8203;差&#8203;の&#8203;組&#8203;み&#8203;合&#8203;わ&#8203;せ&#8203;は、&#8203;お&#8203;互&#8203;い&#8203;に&#8203;直&#8203;近&#8203;時&#8203;系&#8203;列&#8203;に&#8203;対&#8203;し&#8203;て&#8203;ト&#8203;レ&#8203;ン&#8203;ド&#8203;と&#8203;ボ&#8203;ラ&#8203;ティ&#8203;リ&#8203;ティ&#8203;と&#8203;い&#8203;う&#8203;異&#8203;な&#8203;る&#8203;情&#8203;報&#8203;を&#8203;保&#8203;持&#8203;し&#8203;て&#8203;い&#8203;る&#8203;た&#8203;め、&#8203;パ&#8203;フォー&#8203;マ&#8203;ン&#8203;ス&#8203;向&#8203;上&#8203;に&#8203;期&#8203;待&#8203;が&#8203;持&#8203;て&#8203;ま&#8203;す。&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;分&#8203;析&#8203;は&#8203;順&#8203;張&#8203;り&#8203;系、&#8203;逆&#8203;張&#8203;り&#8203;系&#8203;の&#8203;よ&#8203;う&#8203;な&#8203;系&#8203;統&#8203;で&#8203;く&#8203;く&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;る&#8203;(&#8203;第&#8203;1&#8203;回&#8203; &#8203;数&#8203;多&#8203;く&#8203;あ&#8203;る&#8203;テ&#8203;ク&#8203;ニ&#8203;カ&#8203;ル&#8203;指&#8203;標&#8203;を&#8203;体&#8203;系&#8203;的&#8203;に&#8203;解&#8203;説&#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://kabu.com/investment/guide/technical/01.html" class="bare">https://kabu.com/investment/guide/technical/01.html</a> )&#8203;の&#8203;で、&#8203;そ&#8203;れ&#8203;ら&#8203;の&#8203;系&#8203;統&#8203;の&#8203;中&#8203;か&#8203;ら&#8203;選&#8203;択&#8203;し&#8203;た&#8203;り、&#8203;異&#8203;な&#8203;る&#8203;系&#8203;統&#8203;と&#8203;し&#8203;て&#8203;時&#8203;間&#8203;時&#8203;系&#8203;列&#8203;に&#8203;対&#8203;し&#8203;て&#8203;依&#8203;存&#8203;し&#8203;な&#8203;い&#8203;手&#8203;法、&#8203;例&#8203;え&#8203;ば、&#8203;過&#8203;去&#8203;の&#8203;高&#8203;値&#8203;圏&#8203;に&#8203;ど&#8203;れ&#8203;だ&#8203;け&#8203;近&#8203;づ&#8203;い&#8203;て&#8203;い&#8203;る&#8203;か&#8203;を&#8203;計&#8203;算&#8203;す&#8203;る&#8203;よ&#8203;う&#8203;な&#8203;方&#8203;法&#8203;な&#8203;ど&#8203;も&#8203;考&#8203;え&#8203;ら&#8203;れ&#8203;ま&#8203;す。</p>
</div>
</div>
<div class="sect2">
<h3 id="_ファクター分析の活用方法">4.8. ファクター分析の活用方法</h3>
<div class="paragraph">
<p>ファ&#8203;ク&#8203;ター&#8203;分&#8203;析&#8203;と&#8203;は、&#8203;投&#8203;資&#8203;が&#8203;産&#8203;み&#8203;出&#8203;す&#8203;リ&#8203;ター&#8203;ン&#8203;を&#8203;説&#8203;明&#8203;す&#8203;る&#8203;ファ&#8203;ク&#8203;ター&#8203;を&#8203;定&#8203;義&#8203;し、&#8203;そ&#8203;の&#8203;ファ&#8203;ク&#8203;ター&#8203;の&#8203;挙&#8203;動&#8203;か&#8203;ら&#8203;分&#8203;析&#8203;を&#8203;行&#8203;う&#8203;手&#8203;法&#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p>例&#8203;え&#8203;ば、&#8203;ファー&#8203;マ&#8203;-&#8203;フ&#8203;レ&#8203;ン&#8203;チ&#8203;の&#8203;3&#8203;ファ&#8203;ク&#8203;ター&#8203;モ&#8203;デ&#8203;ル&#8203;で&#8203;は、&#8203;株&#8203;式&#8203;投&#8203;資&#8203;が&#8203;産&#8203;み&#8203;出&#8203;す&#8203;リ&#8203;ター&#8203;ン&#8203;を&#8203;リ&#8203;ス&#8203;ク&#8203;プ&#8203;レ&#8203;ミ&#8203;ア&#8203;ム、&#8203;時&#8203;価&#8203;総&#8203;額&#8203;リ&#8203;ス&#8203;ク&#8203;ファ&#8203;ク&#8203;ター、&#8203;簿&#8203;価&#8203;時&#8203;価&#8203;比&#8203;率&#8203;リ&#8203;ス&#8203;ク&#8203;ファ&#8203;ク&#8203;ター&#8203;の&#8203;3&#8203;要&#8203;素&#8203;に&#8203;分&#8203;解&#8203;し&#8203;て&#8203;ま&#8203;す。&#8203;(Wikipedia &#8203;ファー&#8203;マ&#8203;-&#8203;フ&#8203;レ&#8203;ン&#8203;チ&#8203;の&#8203;3&#8203;ファ&#8203;ク&#8203;ター&#8203;モ&#8203;デ&#8203;ル&#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://ja.wikipedia.org/wiki/%E3%83%95%E3%82%A1%E3%83%BC%E3%83%9E-%E3%83%95%E3%83%AC%E3%83%B3%E3%83%81%E3%81%AE3%E3%83%95%E3%82%A1%E3%82%AF%E3%82%BF%E3%83%BC%E3%83%A2%E3%83%87%E3%83%AB" class="bare">https://ja.wikipedia.org/wiki/%E3%83%95%E3%82%A1%E3%83%BC%E3%83%9E-%E3%83%95%E3%83%AC%E3%83%B3%E3%83%81%E3%81%AE3%E3%83%95%E3%82%A1%E3%82%AF%E3%82%BF%E3%83%BC%E3%83%A2%E3%83%87%E3%83%AB</a> )</p>
</div>
<div class="paragraph">
<p>株&#8203;式&#8203;投&#8203;資&#8203;に&#8203;お&#8203;け&#8203;る&#8203;ファ&#8203;ク&#8203;ター&#8203;分&#8203;析&#8203;を&#8203;知っ&#8203;て&#8203;お&#8203;く&#8203;こ&#8203;と&#8203;は、&#8203;ど&#8203;の&#8203;よ&#8203;う&#8203;な&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;設&#8203;計&#8203;す&#8203;る&#8203;か&#8203;と&#8203;い&#8203;う&#8203;考&#8203;察&#8203;を&#8203;行&#8203;う&#8203;た&#8203;め&#8203;に&#8203;役&#8203;立&#8203;ち&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>例&#8203;え&#8203;ば、&#8203;主&#8203;要&#8203;な&#8203;ファ&#8203;ク&#8203;ター&#8203;で&#8203;あ&#8203;る&#8203;時&#8203;価&#8203;総&#8203;額&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;考&#8203;え&#8203;て&#8203;み&#8203;ま&#8203;しょ&#8203;う。&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;で&#8203;利&#8203;用&#8203;で&#8203;き&#8203;る&#8203;デー&#8203;タ&#8203;を&#8203;利&#8203;用&#8203;し、&#8203;株&#8203;価&#8203;と&#8203;発&#8203;行&#8203;済&#8203;株&#8203;式&#8203;数&#8203;か&#8203;ら&#8203;各&#8203;銘&#8203;柄&#8203;の&#8203;時&#8203;価&#8203;総&#8203;額&#8203;を&#8203;計&#8203;算&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;ま&#8203;す。&#8203;一&#8203;般&#8203;的&#8203;に&#8203;マー&#8203;ケッ&#8203;ト&#8203;は&#8203;小&#8203;型&#8203;株&#8203;が&#8203;優&#8203;位&#8203;な&#8203;と&#8203;き&#8203;も&#8203;あ&#8203;れ&#8203;ば、&#8203;大&#8203;型&#8203;株&#8203;が&#8203;優&#8203;位&#8203;な&#8203;と&#8203;き&#8203;も&#8203;あ&#8203;る&#8203;た&#8203;め、&#8203;ど&#8203;ち&#8203;ら&#8203;に&#8203;投&#8203;資&#8203;す&#8203;る&#8203;べ&#8203;き&#8203;か&#8203;を&#8203;簡&#8203;単&#8203;に&#8203;決&#8203;め&#8203;る&#8203;こ&#8203;と&#8203;は&#8203;で&#8203;き&#8203;ま&#8203;せ&#8203;ん。&#8203;し&#8203;か&#8203;し、&#8203;こ&#8203;の&#8203;時&#8203;価&#8203;総&#8203;額&#8203;が&#8203;株&#8203;価&#8203;の&#8203;リ&#8203;ター&#8203;ン&#8203;の&#8203;説&#8203;明&#8203;要&#8203;因&#8203;の&#8203;一&#8203;つ&#8203;で&#8203;あ&#8203;る&#8203;と&#8203;い&#8203;う&#8203;こ&#8203;と&#8203;を&#8203;知っ&#8203;て&#8203;い&#8203;れ&#8203;ば、&#8203;少&#8203;な&#8203;く&#8203;と&#8203;も&#8203;特&#8203;徴&#8203;量&#8203;に&#8203;追&#8203;加&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で&#8203;何&#8203;ら&#8203;か&#8203;の&#8203;学&#8203;習&#8203;を&#8203;行&#8203;え&#8203;る&#8203;可&#8203;能&#8203;性&#8203;が&#8203;あ&#8203;る&#8203;の&#8203;で&#8203;は&#8203;と&#8203;考&#8203;え&#8203;る&#8203;事&#8203;が&#8203;で&#8203;き&#8203;ま&#8203;す。&#8203;時&#8203;価&#8203;総&#8203;額&#8203;が&#8203;入&#8203;力&#8203;デー&#8203;タ&#8203;に&#8203;含&#8203;ま&#8203;れ&#8203;て&#8203;い&#8203;な&#8203;い&#8203;場&#8203;合、&#8203;モ&#8203;デ&#8203;ル&#8203;は&#8203;時&#8203;価&#8203;総&#8203;額&#8203;ファ&#8203;ク&#8203;ター&#8203;に&#8203;関&#8203;連&#8203;し&#8203;た&#8203;相&#8203;場&#8203;変&#8203;動&#8203;を&#8203;理&#8203;解&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;難&#8203;し&#8203;く&#8203;な&#8203;り&#8203;ま&#8203;す&#8203;の&#8203;で、&#8203;特&#8203;徴&#8203;量&#8203;と&#8203;し&#8203;て&#8203;投&#8203;入&#8203;し&#8203;た&#8203;ほ&#8203;う&#8203;が&#8203;良&#8203;さ&#8203;そ&#8203;う&#8203;だ&#8203;と&#8203;い&#8203;う&#8203;こ&#8203;と&#8203;が&#8203;推&#8203;測&#8203;さ&#8203;れ&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>ま&#8203;た、&#8203;近&#8203;年&#8203;新&#8203;た&#8203;な&#8203;投&#8203;資&#8203;手&#8203;法&#8203;と&#8203;し&#8203;て&#8203;現&#8203;れ&#8203;た&#8203;ス&#8203;マー&#8203;ト&#8203;ベー&#8203;タ&#8203;投&#8203;資&#8203;も、&#8203;こ&#8203;の&#8203;ファ&#8203;ク&#8203;ター&#8203;分&#8203;析&#8203;を&#8203;利&#8203;用&#8203;し&#8203;た&#8203;ア&#8203;プ&#8203;ロー&#8203;チ&#8203;の&#8203;一&#8203;つ&#8203;で&#8203;あ&#8203;り、&#8203;ファ&#8203;ク&#8203;ター&#8203;分&#8203;析&#8203;は&#8203;新&#8203;し&#8203;い&#8203;投&#8203;資&#8203;手&#8203;法&#8203;を&#8203;考&#8203;え&#8203;る&#8203;上&#8203;で、&#8203;基&#8203;礎&#8203;知&#8203;識&#8203;の&#8203;一&#8203;つ&#8203;に&#8203;なっ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;ス&#8203;マー&#8203;ト&#8203;ベー&#8203;タ&#8203;投&#8203;資&#8203;と&#8203;は、&#8203;特&#8203;定&#8203;の&#8203;ファ&#8203;ク&#8203;ター&#8203;を&#8203;ベ&#8203;ン&#8203;チ&#8203;マー&#8203;ク&#8203;と&#8203;し&#8203;て&#8203;制&#8203;御&#8203;す&#8203;る&#8203;手&#8203;法&#8203;で&#8203;す。&#8203;具&#8203;体&#8203;的&#8203;に&#8203;は、&#8203;高&#8203;配&#8203;当、&#8203;バ&#8203;リュー、&#8203;低&#8203;リ&#8203;ス&#8203;ク、&#8203;最&#8203;小&#8203;分&#8203;散、&#8203;ク&#8203;オ&#8203;リ&#8203;ティ、&#8203;モ&#8203;メ&#8203;ン&#8203;タ&#8203;ム、&#8203;及&#8203;び&#8203;こ&#8203;れ&#8203;ら&#8203;の&#8203;組&#8203;み&#8203;合&#8203;わ&#8203;せ&#8203;等&#8203;が、&#8203;ベ&#8203;ン&#8203;チ&#8203;マー&#8203;ク&#8203;と&#8203;し&#8203;て&#8203;制&#8203;御&#8203;す&#8203;る&#8203;ファ&#8203;ク&#8203;ター&#8203;の&#8203;候&#8203;補&#8203;と&#8203;なっ&#8203;て&#8203;い&#8203;ま&#8203;す&#8203;(&#8203;ス&#8203;マー&#8203;ト&#8203;ベー&#8203;タ&#8203;と&#8203;リ&#8203;ター&#8203;ン&#8203;特&#8203;性&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://www.mizuho-ir.co.jp/publication/report/2020/fe36.html" class="bare">https://www.mizuho-ir.co.jp/publication/report/2020/fe36.html</a> )。</p>
</div>
<div class="paragraph">
<p>ファ&#8203;ク&#8203;ター&#8203;分&#8203;析&#8203;で&#8203;扱&#8203;わ&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;ファ&#8203;ク&#8203;ター&#8203;は、&#8203;リ&#8203;ター&#8203;ン&#8203;の&#8203;要&#8203;因&#8203;と&#8203;し&#8203;て&#8203;定&#8203;義&#8203;さ&#8203;れ、&#8203;株&#8203;価&#8203;に&#8203;も&#8203;何&#8203;ら&#8203;か&#8203;の&#8203;影&#8203;響&#8203;力&#8203;が&#8203;あ&#8203;る&#8203;と&#8203;考&#8203;え&#8203;ら&#8203;れ&#8203;た&#8203;も&#8203;の&#8203;で&#8203;す。&#8203;様々&#8203;な&#8203;ファ&#8203;ク&#8203;ター&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;勉&#8203;強&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が、&#8203;特&#8203;徴&#8203;量&#8203;設&#8203;計&#8203;の&#8203;次&#8203;の&#8203;一&#8203;歩&#8203;に&#8203;繋&#8203;が&#8203;る&#8203;で&#8203;しょ&#8203;う。</p>
</div>
</div>
<div class="sect2">
<h3 id="_複数個のモデルの出力をアンサンブルするアプローチ">4.9. 複数個のモデルの出力をアンサンブルするアプローチ</h3>
<div class="paragraph">
<p>ア&#8203;ン&#8203;サ&#8203;ン&#8203;ブ&#8203;ル&#8203;の&#8203;活&#8203;用&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;説&#8203;明&#8203;し&#8203;ま&#8203;す。&#8203;機&#8203;械&#8203;学&#8203;習&#8203;に&#8203;お&#8203;け&#8203;る&#8203;「ア&#8203;ン&#8203;サ&#8203;ン&#8203;ブ&#8203;ル」&#8203;と&#8203;は、&#8203;複&#8203;数&#8203;の&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;組&#8203;み&#8203;合&#8203;わ&#8203;せ&#8203;る&#8203;こ&#8203;と&#8203;で&#8203;パ&#8203;フォー&#8203;マ&#8203;ン&#8203;ス&#8203;の&#8203;高&#8203;い&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;作&#8203;成&#8203;す&#8203;る&#8203;手&#8203;法&#8203;を&#8203;意&#8203;味&#8203;し&#8203;ま&#8203;す。&#8203;ア&#8203;ン&#8203;サ&#8203;ン&#8203;ブ&#8203;ル&#8203;に&#8203;使&#8203;う&#8203;モ&#8203;デ&#8203;ル&#8203;は&#8203;多&#8203;様&#8203;性&#8203;が&#8203;あ&#8203;れ&#8203;ば&#8203;あ&#8203;る&#8203;程&#8203;基&#8203;本&#8203;的&#8203;に&#8203;は&#8203;好&#8203;ま&#8203;し&#8203;く、&#8203;多&#8203;様&#8203;性&#8203;の&#8203;あ&#8203;る&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;作&#8203;り、&#8203;最&#8203;終&#8203;的&#8203;に&#8203;ア&#8203;ン&#8203;サ&#8203;ン&#8203;ブ&#8203;ル&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で、&#8203;単&#8203;一&#8203;モ&#8203;デ&#8203;ル&#8203;で&#8203;は&#8203;達&#8203;成&#8203;で&#8203;き&#8203;な&#8203;い&#8203;パ&#8203;フォー&#8203;マ&#8203;ン&#8203;ス&#8203;を&#8203;最&#8203;終&#8203;的&#8203;に&#8203;達&#8203;成&#8203;す&#8203;る&#8203;可&#8203;能&#8203;性&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>ア&#8203;ン&#8203;サ&#8203;ン&#8203;ブ&#8203;ル&#8203;に&#8203;は、&#8203;シ&#8203;ン&#8203;プ&#8203;ル&#8203;に&#8203;複&#8203;数&#8203;の&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;出&#8203;力&#8203;の&#8203;平&#8203;均&#8203;を&#8203;取&#8203;る&#8203;モ&#8203;デ&#8203;ル&#8203;平&#8203;均&#8203;法、&#8203;scikit-learn&#8203;ラ&#8203;イ&#8203;ブ&#8203;ラ&#8203;リ&#8203;の&#8203;StandardScaler( <a href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html" class="bare">https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.StandardScaler.html</a> )&#8203;に&#8203;よ&#8203;る&#8203;標&#8203;準&#8203;化&#8203;を&#8203;実&#8203;施&#8203;し&#8203;て&#8203;分&#8203;布&#8203;を&#8203;あ&#8203;る&#8203;程&#8203;度&#8203;揃&#8203;え&#8203;て&#8203;か&#8203;ら&#8203;足&#8203;し&#8203;合&#8203;わ&#8203;せ&#8203;る&#8203;方&#8203;法&#8203;な&#8203;ど&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;ま&#8203;た、&#8203;よ&#8203;り&#8203;高&#8203;度&#8203;な&#8203;手&#8203;法&#8203;で&#8203;あ&#8203;る&#8203;ス&#8203;タッ&#8203;キ&#8203;ン&#8203;グ&#8203;も&#8203;scikit-learn&#8203;ラ&#8203;イ&#8203;ブ&#8203;ラ&#8203;リ&#8203;に&#8203;は&#8203;StackingClassifer/StackingRegressor&#8203;が&#8203;あ&#8203;る&#8203;た&#8203;め&#8203;容&#8203;易&#8203;に&#8203;実&#8203;施&#8203;(&#8203;ス&#8203;タッ&#8203;キ&#8203;ン&#8203;グ&#8203;で&#8203;分&#8203;類・&#8203;回&#8203;帰&#8203; (scikit-learn) &#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://qiita.com/maskot1977/items/de7383898123fa378d86" class="bare">https://qiita.com/maskot1977/items/de7383898123fa378d86</a> )&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;可&#8203;能&#8203;で&#8203;す。&#8203;kaggle&#8203;で&#8203;活&#8203;用&#8203;さ&#8203;れ&#8203;て&#8203;い&#8203;る&#8203;様々&#8203;な&#8203;ア&#8203;ン&#8203;サ&#8203;ン&#8203;ブ&#8203;ル&#8203;の&#8203;方&#8203;法&#8203;が&#8203;KAGGLE ENSEMBLING GUIDE( <a href="https://mlwave.com/kaggle-ensembling-guide/" class="bare">https://mlwave.com/kaggle-ensembling-guide/</a> )&#8203;で&#8203;は&#8203;紹&#8203;介&#8203;さ&#8203;れ&#8203;て&#8203;お&#8203;り、&#8203;英&#8203;文&#8203;で&#8203;す&#8203;が&#8203;読&#8203;む&#8203;価&#8203;値&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で&#8203;は、&#8203;時&#8203;価&#8203;総&#8203;額&#8203;に&#8203;着&#8203;目&#8203;し&#8203;て&#8203;学&#8203;習&#8203;の&#8203;対&#8203;象&#8203;を&#8203;分&#8203;け&#8203;て&#8203;複&#8203;数&#8203;個&#8203;の&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;作&#8203;る&#8203;ア&#8203;プ&#8203;ロー&#8203;チ&#8203;を&#8203;考&#8203;え&#8203;て&#8203;み&#8203;ま&#8203;す。&#8203;一&#8203;般&#8203;的&#8203;に&#8203;時&#8203;価&#8203;総&#8203;額&#8203;が&#8203;低&#8203;い&#8203;銘&#8203;柄&#8203;は、&#8203;大&#8203;き&#8203;な&#8203;値&#8203;動&#8203;き&#8203;が&#8203;発&#8203;生&#8203;し&#8203;や&#8203;す&#8203;い&#8203;こ&#8203;と&#8203;が&#8203;知&#8203;ら&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;こ&#8203;れ&#8203;は&#8203;市&#8203;場&#8203;の&#8203;流&#8203;動&#8203;性&#8203;に&#8203;違&#8203;い&#8203;が&#8203;あ&#8203;り、&#8203;同&#8203;一&#8203;額&#8203;の&#8203;投&#8203;資&#8203;が&#8203;発&#8203;生&#8203;し&#8203;て&#8203;も、&#8203;小&#8203;型&#8203;株&#8203;の&#8203;ほ&#8203;う&#8203;が&#8203;よ&#8203;り&#8203;イ&#8203;ン&#8203;パ&#8203;ク&#8203;ト&#8203;が&#8203;大&#8203;き&#8203;い&#8203;た&#8203;め&#8203;で&#8203;す。&#8203;今&#8203;回&#8203;の&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;で&#8203;は、&#8203;全&#8203;銘&#8203;柄&#8203;を&#8203;予&#8203;測&#8203;対&#8203;象&#8203;と&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す&#8203;が、&#8203;実&#8203;際&#8203;に&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;作&#8203;る&#8203;と&#8203;全&#8203;銘&#8203;柄&#8203;の&#8203;時&#8203;価&#8203;総&#8203;額&#8203;の&#8203;下&#8203;位&#8203;の&#8203;銘&#8203;柄&#8203;を&#8203;学&#8203;習&#8203;対&#8203;象&#8203;か&#8203;ら&#8203;除&#8203;外&#8203;す&#8203;る&#8203;と、&#8203;よ&#8203;り&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;パ&#8203;フォー&#8203;マ&#8203;ン&#8203;ス&#8203;が&#8203;高&#8203;く&#8203;な&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;こ&#8203;れ&#8203;は&#8203;時&#8203;価&#8203;総&#8203;額&#8203;が&#8203;低&#8203;い&#8203;銘&#8203;柄&#8203;は、&#8203;ラ&#8203;ン&#8203;ダ&#8203;ム&#8203;性&#8203;が&#8203;よ&#8203;り&#8203;高&#8203;く、&#8203;ま&#8203;た&#8203;ファ&#8203;ン&#8203;ダ&#8203;メ&#8203;ン&#8203;タ&#8203;ル&#8203;に&#8203;従&#8203;わ&#8203;な&#8203;い&#8203;こ&#8203;と&#8203;が&#8203;多&#8203;い&#8203;た&#8203;め&#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p>で&#8203;は、&#8203;以&#8203;下&#8203;の&#8203;2&#8203;つ&#8203;の&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;つ&#8203;くっ&#8203;た&#8203;場&#8203;合&#8203;を&#8203;考&#8203;え&#8203;て&#8203;み&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p><strong>A</strong>: &#8203;全&#8203;銘&#8203;柄&#8203;を&#8203;対&#8203;象&#8203;に&#8203;学&#8203;習&#8203;し&#8203;た&#8203;モ&#8203;デ&#8203;ル</p>
</div>
<div class="paragraph">
<p><strong>B</strong>: &#8203;時&#8203;価&#8203;総&#8203;額&#8203;の&#8203;下&#8203;位&#8203;の&#8203;銘&#8203;柄&#8203;を&#8203;学&#8203;習&#8203;か&#8203;ら&#8203;除&#8203;外&#8203;し&#8203;た&#8203;上&#8203;で、&#8203;パ&#8203;フォー&#8203;マ&#8203;ン&#8203;ス&#8203;を&#8203;チュー&#8203;ニ&#8203;ン&#8203;グ&#8203;し&#8203;た&#8203;モ&#8203;デ&#8203;ル</p>
</div>
<div class="paragraph">
<p>こ&#8203;の&#8203;2&#8203;つ&#8203;が&#8203;異&#8203;な&#8203;る&#8203;こ&#8203;と&#8203;を&#8203;学&#8203;習&#8203;し&#8203;た&#8203;と&#8203;し&#8203;た&#8203;場&#8203;合、&#8203;B&#8203;の&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;出&#8203;力&#8203;に&#8203;対&#8203;し&#8203;て&#8203;StandardScaler&#8203;に&#8203;よ&#8203;る&#8203;標&#8203;準&#8203;化&#8203;を&#8203;実&#8203;施&#8203;し、&#8203;A&#8203;の&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;出&#8203;力&#8203;に&#8203;足&#8203;し&#8203;合&#8203;わ&#8203;せ&#8203;る&#8203;と、&#8203;B&#8203;の&#8203;モ&#8203;デ&#8203;ル&#8203;が&#8203;学&#8203;ん&#8203;だ&#8203;こ&#8203;と&#8203;を&#8203;B&#8203;の&#8203;学&#8203;習&#8203;対&#8203;象&#8203;の&#8203;銘&#8203;柄&#8203;に&#8203;足&#8203;し&#8203;合&#8203;わ&#8203;せ&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;ま&#8203;す。&#8203;B&#8203;の&#8203;出&#8203;力&#8203;に&#8203;対&#8203;し&#8203;て&#8203;は、&#8203;StandardScaler&#8203;に&#8203;よ&#8203;る&#8203;標&#8203;準&#8203;化&#8203;を&#8203;実&#8203;施&#8203;し&#8203;て&#8203;い&#8203;る&#8203;た&#8203;め&#8203;分&#8203;布&#8203;が&#8203;0&#8203;平&#8203;均&#8203;と&#8203;なっ&#8203;て&#8203;お&#8203;り、&#8203;学&#8203;習&#8203;対&#8203;象&#8203;外&#8203;の&#8203;銘&#8203;柄&#8203;に&#8203;対&#8203;す&#8203;る&#8203;影&#8203;響&#8203;も&#8203;限&#8203;定&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>異&#8203;な&#8203;る&#8203;特&#8203;性&#8203;を&#8203;もっ&#8203;た&#8203;デー&#8203;タ&#8203;を&#8203;学&#8203;習&#8203;さ&#8203;せ&#8203;る&#8203;こ&#8203;と&#8203;で、&#8203;モ&#8203;デ&#8203;ル&#8203;が&#8203;異&#8203;な&#8203;る&#8203;こ&#8203;と&#8203;を&#8203;学&#8203;び、&#8203;結&#8203;果&#8203;的&#8203;に&#8203;モ&#8203;デ&#8203;ル&#8203;同&#8203;士&#8203;の&#8203;出&#8203;力&#8203;の&#8203;相&#8203;関&#8203;が&#8203;低&#8203;く&#8203;な&#8203;り&#8203;ま&#8203;す。&#8203;モ&#8203;デ&#8203;ル&#8203;間&#8203;の&#8203;出&#8203;力&#8203;の&#8203;相&#8203;関&#8203;が&#8203;低&#8203;い&#8203;も&#8203;の&#8203;同&#8203;士&#8203;を&#8203;ア&#8203;ン&#8203;サ&#8203;ン&#8203;ブ&#8203;ル&#8203;さ&#8203;せ&#8203;る&#8203;と、&#8203;相&#8203;関&#8203;の&#8203;高&#8203;い&#8203;も&#8203;の&#8203;同&#8203;士&#8203;を&#8203;ア&#8203;ン&#8203;サ&#8203;ン&#8203;ブ&#8203;ル&#8203;さ&#8203;せ&#8203;た&#8203;時&#8203;よ&#8203;り&#8203;も、&#8203;ア&#8203;ン&#8203;サ&#8203;ン&#8203;ブ&#8203;ル&#8203;の&#8203;効&#8203;果&#8203;は&#8203;高&#8203;く&#8203;出&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;多&#8203;い&#8203;た&#8203;め、&#8203;上&#8203;記&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;学&#8203;習&#8203;対&#8203;象&#8203;を&#8203;変&#8203;え&#8203;る&#8203;こ&#8203;と&#8203;で&#8203;複&#8203;数&#8203;の&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;作&#8203;り、&#8203;ア&#8203;ン&#8203;サ&#8203;ン&#8203;ブ&#8203;ル&#8203;を&#8203;実&#8203;施&#8203;す&#8203;る&#8203;よ&#8203;う&#8203;な&#8203;ア&#8203;プ&#8203;ロー&#8203;チ&#8203;は&#8203;有&#8203;用&#8203;で&#8203;す。</p>
</div>
</div>
<div class="sect2">
<h3 id="_プライベート期間の性能の向上のために考慮すべきこと">4.10. プライベート期間の性能の向上のために考慮すべきこと</h3>
<div class="paragraph">
<p>金&#8203;融&#8203;時&#8203;系&#8203;列&#8203;は&#8203;サ&#8203;ン&#8203;プ&#8203;ル&#8203;数&#8203;が&#8203;少&#8203;な&#8203;い&#8203;た&#8203;め、&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;大&#8203;量&#8203;に&#8203;生&#8203;成&#8203;し、&#8203;特&#8203;徴&#8203;量&#8203;選&#8203;択&#8203;を&#8203;す&#8203;べ&#8203;て&#8203;モ&#8203;デ&#8203;ル&#8203;に&#8203;任&#8203;せ&#8203;る&#8203;ア&#8203;プ&#8203;ロー&#8203;チ&#8203;を&#8203;採&#8203;用&#8203;す&#8203;る&#8203;場&#8203;合、&#8203;ラ&#8203;イ&#8203;ブ&#8203;性&#8203;能&#8203;の&#8203;劣&#8203;化&#8203;に&#8203;注&#8203;意&#8203;す&#8203;る&#8203;必&#8203;要&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;特&#8203;徴&#8203;量&#8203;を&#8203;ど&#8203;ん&#8203;ど&#8203;ん&#8203;増&#8203;や&#8203;す&#8203;と、&#8203;訓&#8203;練&#8203;期&#8203;間&#8203;の&#8203;パ&#8203;フォー&#8203;マ&#8203;ン&#8203;ス&#8203;は&#8203;伸&#8203;び&#8203;て&#8203;い&#8203;て&#8203;も、&#8203;評&#8203;価&#8203;期&#8203;間&#8203;の&#8203;パ&#8203;フォー&#8203;マ&#8203;ン&#8203;ス&#8203;の&#8203;向&#8203;上&#8203;が&#8203;止&#8203;ま&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;100&#8203;種&#8203;類&#8203;の&#8203;デー&#8203;タ&#8203;を&#8203;使&#8203;う&#8203;モ&#8203;デ&#8203;ル&#8203;と&#8203;10&#8203;種&#8203;類&#8203;の&#8203;デー&#8203;タ&#8203;を&#8203;使&#8203;う&#8203;モ&#8203;デ&#8203;ル&#8203;が、&#8203;同&#8203;一&#8203;の&#8203;訓&#8203;練&#8203;期&#8203;間&#8203;で&#8203;同&#8203;一&#8203;の&#8203;精&#8203;度&#8203;を&#8203;達&#8203;成&#8203;し&#8203;た&#8203;場&#8203;合、&#8203;評&#8203;価&#8203;期&#8203;間・&#8203;ラ&#8203;イ&#8203;ブ&#8203;期&#8203;間&#8203;で&#8203;は、&#8203;少&#8203;な&#8203;い&#8203;デー&#8203;タ&#8203;を&#8203;使っ&#8203;た&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;方&#8203;が&#8203;高&#8203;い&#8203;性&#8203;能&#8203;を&#8203;期&#8203;待&#8203;で&#8203;き&#8203;る&#8203;可&#8203;能&#8203;性&#8203;が&#8203;高&#8203;い&#8203;こ&#8203;と&#8203;が、&#8203;経&#8203;験&#8203;的&#8203;に&#8203;わ&#8203;かっ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;こ&#8203;れ&#8203;は、&#8203;説&#8203;明&#8203;変&#8203;数&#8203;の&#8203;取&#8203;り&#8203;う&#8203;る&#8203;パ&#8203;ター&#8203;ン&#8203;が&#8203;多&#8203;い&#8203;と、&#8203;未&#8203;来&#8203;で&#8203;同&#8203;じ&#8203;現&#8203;象&#8203;を&#8203;発&#8203;生&#8203;す&#8203;る&#8203;確&#8203;率&#8203;が&#8203;下&#8203;がっ&#8203;て&#8203;い&#8203;く&#8203;た&#8203;め&#8203;と&#8203;考&#8203;え&#8203;ら&#8203;れ&#8203;ま&#8203;す。&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;複&#8203;雑&#8203;さ&#8203;と&#8203;デー&#8203;タ&#8203;へ&#8203;の&#8203;適&#8203;合&#8203;度&#8203;と&#8203;の&#8203;バ&#8203;ラ&#8203;ン&#8203;ス&#8203;を&#8203;取&#8203;る&#8203;た&#8203;め&#8203;に&#8203;は、&#8203;オッ&#8203;カ&#8203;ム&#8203;の&#8203;剃&#8203;刀&#8203;(Wikipedia &#8203;オッ&#8203;カ&#8203;ム&#8203;の&#8203;剃&#8203;刀&#8203;よ&#8203;り&#8203;引&#8203;用&#8203; <a href="https://ja.wikipedia.org/wiki/%E3%82%AA%E3%83%83%E3%82%AB%E3%83%A0%E3%81%AE%E5%89%83%E5%88%80" class="bare">https://ja.wikipedia.org/wiki/%E3%82%AA%E3%83%83%E3%82%AB%E3%83%A0%E3%81%AE%E5%89%83%E5%88%80</a> ) &#8203;の&#8203;よ&#8203;う&#8203;な&#8203;発&#8203;想&#8203;が&#8203;必&#8203;要&#8203;と&#8203;な&#8203;り&#8203;ま&#8203;す。</p>
</div>
</div>
<div class="sect2">
<h3 id="_本コンペでは利用できないがモデルを将来的に発展させるために検討する価値のある外部データ">4.11. 本コンペでは利用できないが、モデルを将来的に発展させるために検討する価値のある外部データ</h3>
<div class="paragraph">
<p>日&#8203;本&#8203;株&#8203;の&#8203;デー&#8203;タ&#8203;以&#8203;外&#8203;に&#8203;特&#8203;徴&#8203;量&#8203;設&#8203;計&#8203;に&#8203;利&#8203;用&#8203;可&#8203;能&#8203;と&#8203;思&#8203;わ&#8203;れ&#8203;る&#8203;デー&#8203;タ&#8203;を&#8203;紹&#8203;介&#8203;し&#8203;ま&#8203;す。&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;で&#8203;は、&#8203;あ&#8203;ら&#8203;か&#8203;じ&#8203;め&#8203;定&#8203;め&#8203;ら&#8203;れ&#8203;た&#8203;デー&#8203;タ&#8203;し&#8203;か&#8203;利&#8203;用&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;は&#8203;で&#8203;き&#8203;ま&#8203;せ&#8203;ん&#8203;が、&#8203;今&#8203;後&#8203;手&#8203;元&#8203;で&#8203;新&#8203;た&#8203;な&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;作&#8203;成&#8203;す&#8203;る&#8203;と&#8203;き&#8203;の&#8203;知&#8203;識&#8203;と&#8203;し&#8203;て&#8203;ご&#8203;活&#8203;用&#8203;下&#8203;さ&#8203;い。</p>
</div>
<div class="paragraph">
<p><strong>&#8203;為&#8203;替&#8203;デー&#8203;タ&#8203;</strong>: &#8203;ド&#8203;ル&#8203;円&#8203;の&#8203;値&#8203;動&#8203;き&#8203;が&#8203;株&#8203;式&#8203;市&#8203;場&#8203;に&#8203;影&#8203;響&#8203;を&#8203;与&#8203;え&#8203;て&#8203;い&#8203;る&#8203;こ&#8203;と&#8203;は&#8203;よ&#8203;く&#8203;知&#8203;ら&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;特&#8203;に&#8203;日&#8203;本&#8203;市&#8203;場&#8203;の&#8203;株&#8203;式&#8203;は&#8203;輸&#8203;出&#8203;関&#8203;連&#8203;銘&#8203;柄&#8203;が&#8203;多&#8203;い&#8203;た&#8203;め、&#8203;ド&#8203;ル&#8203;円&#8203;の&#8203;値&#8203;動&#8203;き&#8203;は&#8203;直&#8203;接&#8203;収&#8203;益&#8203;に&#8203;関&#8203;連&#8203;し&#8203;ま&#8203;す。&#8203;よっ&#8203;て、&#8203;為&#8203;替&#8203;デー&#8203;タ&#8203;を&#8203;説&#8203;明&#8203;変&#8203;数&#8203;に&#8203;採&#8203;用&#8203;す&#8203;る&#8203;ア&#8203;プ&#8203;ロー&#8203;チ&#8203;も&#8203;想&#8203;定&#8203;さ&#8203;れ&#8203;ま&#8203;す。&#8203;為&#8203;替&#8203;デー&#8203;タ&#8203;は、&#8203;い&#8203;く&#8203;つ&#8203;か&#8203;の&#8203;FX&#8203;会&#8203;社&#8203;が&#8203;API&#8203;を&#8203;提&#8203;供&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p><strong>&#8203;金&#8203;利&#8203;デー&#8203;タ&#8203;</strong>: &#8203;金&#8203;利&#8203;デー&#8203;タ&#8203;と&#8203;は、&#8203;例&#8203;え&#8203;ば&#8203;米&#8203;国&#8203;債&#8203;10&#8203;年&#8203;金&#8203;利&#8203;の&#8203;よ&#8203;う&#8203;な&#8203;各&#8203;国&#8203;の&#8203;債&#8203;券&#8203;の&#8203;金&#8203;利&#8203;を&#8203;指&#8203;し&#8203;ま&#8203;す。&#8203;一&#8203;般&#8203;的&#8203;に、&#8203;機&#8203;関&#8203;投&#8203;資&#8203;家&#8203;は&#8203;債&#8203;券&#8203;と&#8203;株&#8203;式&#8203;の&#8203;両&#8203;方&#8203;を&#8203;投&#8203;資&#8203;対&#8203;象&#8203;と&#8203;す&#8203;る&#8203;た&#8203;め、&#8203;債&#8203;券&#8203;市&#8203;場&#8203;の&#8203;動&#8203;き&#8203;は&#8203;株&#8203;式&#8203;市&#8203;場&#8203;に&#8203;反&#8203;映&#8203;さ&#8203;れ&#8203;ま&#8203;す。&#8203;こ&#8203;ち&#8203;ら&#8203;は、&#8203;API&#8203;に&#8203;よ&#8203;る&#8203;デー&#8203;タ&#8203;習&#8203;得&#8203;は&#8203;容&#8203;易&#8203;で&#8203;は&#8203;あ&#8203;り&#8203;ま&#8203;せ&#8203;ん&#8203;が、&#8203;そ&#8203;こ&#8203;ま&#8203;で&#8203;数&#8203;は&#8203;多&#8203;く&#8203;な&#8203;い&#8203;た&#8203;め、&#8203;説&#8203;明&#8203;変&#8203;数&#8203;と&#8203;し&#8203;て&#8203;利&#8203;用&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;は&#8203;難&#8203;し&#8203;く&#8203;あ&#8203;り&#8203;ま&#8203;せ&#8203;ん。</p>
</div>
<div class="paragraph">
<p><strong>&#8203;米&#8203;国&#8203;株&#8203;デー&#8203;タ&#8203;</strong>: Alpaca US( <a href="https://alpaca.markets/data" class="bare">https://alpaca.markets/data</a> )&#8203;や&#8203;IEX Cloud( <a href="https://iexcloud.io/" class="bare">https://iexcloud.io/</a> )&#8203;な&#8203;ど、&#8203;様々&#8203;な&#8203;米&#8203;国&#8203;株&#8203;の&#8203;株&#8203;価&#8203;/ETF&#8203;の&#8203;デー&#8203;タ&#8203;を&#8203;提&#8203;供&#8203;す&#8203;る&#8203;サー&#8203;ビ&#8203;ス&#8203;が&#8203;存&#8203;在&#8203;し&#8203;ま&#8203;す。&#8203;日&#8203;本&#8203;株&#8203;式&#8203;の&#8203;マー&#8203;ケッ&#8203;ト&#8203;は、&#8203;米&#8203;国&#8203;株&#8203;式&#8203;の&#8203;マー&#8203;ケッ&#8203;ト&#8203;ク&#8203;ロー&#8203;ズ&#8203;後&#8203;に&#8203;オー&#8203;プ&#8203;ン&#8203;す&#8203;る&#8203;た&#8203;め、&#8203;米&#8203;国&#8203;市&#8203;場&#8203;が&#8203;日&#8203;本&#8203;市&#8203;場&#8203;に&#8203;与&#8203;え&#8203;る&#8203;影&#8203;響&#8203;を&#8203;解&#8203;析&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で、&#8203;様々&#8203;な&#8203;情&#8203;報&#8203;を&#8203;分&#8203;析&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;可&#8203;能&#8203;で&#8203;す。</p>
</div>
<div class="paragraph">
<p>他&#8203;に&#8203;も&#8203;政&#8203;府&#8203;が&#8203;発&#8203;表&#8203;す&#8203;る&#8203;GDP&#8203;な&#8203;ど&#8203;の&#8203;各&#8203;国&#8203;の&#8203;経&#8203;済&#8203;動&#8203;向、&#8203;金&#8203;な&#8203;ど&#8203;の&#8203;コ&#8203;モ&#8203;ディ&#8203;ティ&#8203;市&#8203;場&#8203;も、&#8203;密&#8203;接&#8203;に&#8203;株&#8203;式&#8203;市&#8203;場&#8203;の&#8203;長&#8203;期&#8203;ト&#8203;レ&#8203;ン&#8203;ド&#8203;の&#8203;形&#8203;成&#8203;に&#8203;関&#8203;わっ&#8203;て&#8203;い&#8203;ま&#8203;す&#8203;の&#8203;で、&#8203;様々&#8203;な&#8203;外&#8203;部&#8203;デー&#8203;タ&#8203;の&#8203;利&#8203;用&#8203;を&#8203;検&#8203;討&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で&#8203;新&#8203;た&#8203;な&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;作&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;る&#8203;可&#8203;能&#8203;性&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。</p>
</div>
</div>
<div class="sect2">
<h3 id="_モデルの再学習の運用について">4.12. モデルの再学習の運用について</h3>
<div class="paragraph">
<p>長&#8203;期&#8203;間&#8203;に&#8203;渡&#8203;り&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;運&#8203;用&#8203;し&#8203;よ&#8203;う&#8203;と&#8203;す&#8203;る&#8203;場&#8203;合、&#8203;再&#8203;学&#8203;習&#8203;の&#8203;運&#8203;用&#8203;を&#8203;考&#8203;慮&#8203;し&#8203;て&#8203;お&#8203;く&#8203;必&#8203;要&#8203;が&#8203;あ&#8203;り&#8203;ま&#8203;す。&#8203;再&#8203;学&#8203;習&#8203;の&#8203;運&#8203;用&#8203;と&#8203;は、&#8203;例&#8203;え&#8203;ば&#8203;2019&#8203;年&#8203;ま&#8203;で&#8203;の&#8203;デー&#8203;タ&#8203;を&#8203;用&#8203;い&#8203;て&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;学&#8203;習&#8203;し&#8203;2020&#8203;年&#8203;で&#8203;運&#8203;用&#8203;し&#8203;た&#8203;場&#8203;合、&#8203;2020&#8203;年&#8203;末&#8203;に&#8203;2020&#8203;年&#8203;の&#8203;デー&#8203;タ&#8203;を&#8203;用&#8203;い&#8203;て&#8203;再&#8203;学&#8203;習&#8203;を&#8203;行&#8203;う&#8203;と&#8203;いっ&#8203;た&#8203;よ&#8203;う&#8203;な&#8203;こ&#8203;と&#8203;を&#8203;指&#8203;し&#8203;ま&#8203;す。&#8203;再&#8203;学&#8203;習&#8203;を&#8203;行&#8203;う&#8203;に&#8203;あ&#8203;たっ&#8203;て&#8203;い&#8203;く&#8203;つ&#8203;か&#8203;考&#8203;慮&#8203;し&#8203;て&#8203;お&#8203;く&#8203;べ&#8203;き&#8203;ポ&#8203;イ&#8203;ン&#8203;ト&#8203;を&#8203;紹&#8203;介&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="sect3">
<h4 id="_再学習を行う必要があるほど新規のデータが存在するか">4.12.1. 再学習を行う必要があるほど新規のデータが存在するか</h4>
<div class="paragraph">
<p>再&#8203;学&#8203;習&#8203;は、&#8203;新&#8203;規&#8203;の&#8203;デー&#8203;タ&#8203;が&#8203;溜&#8203;まっ&#8203;た&#8203;時&#8203;に&#8203;実&#8203;施&#8203;し&#8203;ま&#8203;す。&#8203;モ&#8203;デ&#8203;ル&#8203;に&#8203;も&#8203;依&#8203;存&#8203;し&#8203;ま&#8203;す&#8203;が、&#8203;モ&#8203;デ&#8203;ル&#8203;が&#8203;挙&#8203;動&#8203;を&#8203;変&#8203;え&#8203;る&#8203;に&#8203;は、&#8203;既&#8203;存&#8203;の&#8203;学&#8203;習&#8203;に&#8203;用&#8203;い&#8203;た&#8203;デー&#8203;タ&#8203;量&#8203;と&#8203;比&#8203;較&#8203;し&#8203;て&#8203;あ&#8203;る&#8203;程&#8203;度&#8203;の&#8203;量&#8203;の&#8203;新&#8203;規&#8203;デー&#8203;タ&#8203;が&#8203;存&#8203;在&#8203;し&#8203;な&#8203;い&#8203;と、&#8203;再&#8203;学&#8203;習&#8203;を&#8203;実&#8203;施&#8203;し&#8203;て&#8203;も&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;挙&#8203;動&#8203;は&#8203;変&#8203;わ&#8203;り&#8203;ま&#8203;せ&#8203;ん。&#8203;再&#8203;学&#8203;習&#8203;す&#8203;る&#8203;際&#8203;に&#8203;有&#8203;用&#8203;な&#8203;新&#8203;規&#8203;デー&#8203;タ&#8203;量&#8203;は&#8203;一&#8203;概&#8203;に&#8203;は&#8203;言&#8203;え&#8203;ず、&#8203;モ&#8203;デ&#8203;ル&#8203;に&#8203;よっ&#8203;て&#8203;変&#8203;わ&#8203;り&#8203;ま&#8203;す。&#8203;毎&#8203;日&#8203;モ&#8203;デ&#8203;ル&#8203;を&#8203;ト&#8203;レー&#8203;ニ&#8203;ン&#8203;グ&#8203;す&#8203;る&#8203;よ&#8203;う&#8203;な&#8203;運&#8203;用&#8203;も&#8203;可&#8203;能&#8203;で&#8203;す&#8203;が、&#8203;デー&#8203;タ&#8203;量&#8203;が&#8203;多&#8203;少&#8203;増&#8203;え&#8203;た&#8203;だ&#8203;け&#8203;で&#8203;は、&#8203;ほ&#8203;ぼ&#8203;同&#8203;じ&#8203;挙&#8203;動&#8203;と&#8203;な&#8203;る&#8203;可&#8203;能&#8203;性&#8203;が&#8203;高&#8203;い&#8203;で&#8203;す。</p>
</div>
</div>
<div class="sect3">
<h4 id="_再学習を行うことでモデルの出力分布が変わらないか">4.12.2. 再学習を行うことでモデルの出力分布が変わらないか</h4>
<div class="paragraph">
<p>こ&#8203;ち&#8203;ら&#8203;は、&#8203;シ&#8203;ス&#8203;テ&#8203;ム&#8203;で&#8203;運&#8203;用&#8203;す&#8203;る&#8203;場&#8203;合&#8203;に&#8203;発&#8203;生&#8203;し&#8203;や&#8203;す&#8203;い&#8203;問&#8203;題&#8203;で&#8203;す。&#8203;例&#8203;え&#8203;ば、&#8203;投&#8203;資&#8203;す&#8203;る&#8203;際&#8203;の&#8203;購&#8203;入&#8203;タ&#8203;イ&#8203;ミ&#8203;ン&#8203;グ&#8203;を、&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;出&#8203;力&#8203;が&#8203;0.8&#8203;以&#8203;上&#8203;と&#8203;いっ&#8203;た&#8203;し&#8203;き&#8203;い&#8203;値&#8203;を&#8203;用&#8203;い&#8203;た&#8203;実&#8203;装&#8203;を&#8203;し&#8203;て&#8203;い&#8203;た&#8203;と&#8203;し&#8203;ま&#8203;す。&#8203;こ&#8203;の&#8203;際&#8203;に&#8203;再&#8203;学&#8203;習&#8203;を&#8203;行&#8203;う&#8203;こ&#8203;と&#8203;で&#8203;モ&#8203;デ&#8203;ル&#8203;の&#8203;出&#8203;力&#8203;が&#8203;変&#8203;わ&#8203;る&#8203;と、&#8203;想&#8203;像&#8203;以&#8203;上&#8203;に&#8203;購&#8203;入&#8203;し&#8203;た&#8203;り、&#8203;逆&#8203;に&#8203;購&#8203;入&#8203;を&#8203;実&#8203;施&#8203;し&#8203;な&#8203;く&#8203;なっ&#8203;た&#8203;り&#8203;し&#8203;ま&#8203;す。&#8203;再&#8203;学&#8203;習&#8203;を&#8203;行っ&#8203;た&#8203;場&#8203;合、&#8203;直&#8203;近&#8203;数&#8203;週&#8203;間&#8203;程&#8203;度&#8203;の&#8203;デー&#8203;タ&#8203;は&#8203;利&#8203;用&#8203;せ&#8203;ず&#8203;に、&#8203;古&#8203;い&#8203;モ&#8203;デ&#8203;ル&#8203;と&#8203;新&#8203;し&#8203;い&#8203;モ&#8203;デ&#8203;ル&#8203;で&#8203;出&#8203;力&#8203;を&#8203;比&#8203;較&#8203;し、&#8203;出&#8203;力&#8203;の&#8203;分&#8203;布&#8203;が&#8203;変&#8203;わっ&#8203;て&#8203;い&#8203;な&#8203;い&#8203;こ&#8203;と&#8203;を&#8203;確&#8203;認&#8203;す&#8203;る&#8203;の&#8203;が&#8203;良&#8203;い&#8203;で&#8203;しょ&#8203;う。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_google_colaboratoryの使用法">4.13. Google Colaboratoryの使用法</h3>
<div class="paragraph">
<p>Google Colaboratory&#8203;は、&#8203;ブ&#8203;ラ&#8203;ウ&#8203;ザ&#8203;か&#8203;ら&#8203; Python &#8203;を&#8203;ノー&#8203;ト&#8203;ブッ&#8203;ク&#8203;形&#8203;式&#8203;で&#8203;記&#8203;述、&#8203;実&#8203;行&#8203;で&#8203;き&#8203;る&#8203;サー&#8203;ビ&#8203;ス&#8203;で&#8203;す。&#8203;環&#8203;境&#8203;構&#8203;築&#8203;が&#8203;不&#8203;要&#8203;と&#8203;なっ&#8203;て&#8203;お&#8203;り、&#8203;本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;も&#8203;Google Colaboratory&#8203;で&#8203;実&#8203;行&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;可&#8203;能&#8203;と&#8203;なっ&#8203;て&#8203;い&#8203;ま&#8203;す。&#8203;ま&#8203;た、&#8203;時&#8203;間&#8203;等&#8203;の&#8203;制&#8203;限&#8203;は&#8203;ご&#8203;ざ&#8203;い&#8203;ま&#8203;す&#8203;が&#8203;GPU&#8203;を&#8203;利&#8203;用&#8203;で&#8203;き&#8203;る&#8203;こ&#8203;と&#8203;や、&#8203;ノー&#8203;ト&#8203;ブッ&#8203;ク&#8203;の&#8203;共&#8203;有&#8203;が&#8203;簡&#8203;単&#8203;に&#8203;で&#8203;き&#8203;る&#8203;こ&#8203;と&#8203;な&#8203;ど、&#8203;多&#8203;く&#8203;の&#8203;利&#8203;点&#8203;を&#8203;備&#8203;え&#8203;て&#8203;い&#8203;ま&#8203;す&#8203; (<a href="https://colab.research.google.com/notebooks/intro.ipynb?hl=ja#">参考元</a>  )。</p>
</div>
<div class="sect3">
<h4 id="_colab_でノートブックが動作する時間は">4.13.1. <strong>Colab でノートブックが動作する時間は？</strong></h4>
<div class="paragraph">
<p>本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;を&#8203;Google Colaboratory&#8203;で&#8203;実&#8203;行&#8203;す&#8203;る&#8203;際&#8203;に&#8203;は&#8203;時&#8203;間&#8203;制&#8203;限&#8203;に&#8203;ご&#8203;注&#8203;意&#8203;く&#8203;だ&#8203;さ&#8203;い。&#8203;ノー&#8203;ト&#8203;ブッ&#8203;ク&#8203;は、&#8203;イ&#8203;ン&#8203;ス&#8203;タ&#8203;ン&#8203;ス&#8203;が&#8203;起&#8203;動&#8203;さ&#8203;れ&#8203;た&#8203;後&#8203; 12 &#8203;時&#8203;間&#8203;経&#8203;過&#8203;す&#8203;る&#8203;と&#8203;自&#8203;動&#8203;的&#8203;に&#8203;ラ&#8203;ン&#8203;タ&#8203;イ&#8203;ム&#8203;が&#8203;リ&#8203;セッ&#8203;ト&#8203;さ&#8203;れ&#8203;実&#8203;行&#8203;環&#8203;境&#8203;が&#8203;初&#8203;期&#8203;化&#8203;さ&#8203;れ&#8203;ま&#8203;す。&#8203;ま&#8203;た、&#8203;ノー&#8203;ト&#8203;ブッ&#8203;ク&#8203;の&#8203;ア&#8203;イ&#8203;ド&#8203;ル&#8203;状&#8203;態&#8203;が&#8203; 90 &#8203;分&#8203;続&#8203;く&#8203;と&#8203;タ&#8203;イ&#8203;ム&#8203;ア&#8203;ウ&#8203;ト&#8203;し、&#8203;こ&#8203;ち&#8203;ら&#8203;も&#8203;ラ&#8203;ン&#8203;タ&#8203;イ&#8203;ム&#8203;が&#8203;リ&#8203;セッ&#8203;ト&#8203;さ&#8203;れ&#8203;ま&#8203;す。&#8203;(&#8203;詳&#8203;細&#8203;は&#8203;<a href="https://research.google.com/colaboratory/faq.html#:~:text=How%20long%20can%20notebooks%20run,or%20based%20on%20your%20usage">Google Colaboratory&#8203;の&#8203;Q&amp;A</a>&#8203;を&#8203;ご&#8203;参&#8203;照&#8203;く&#8203;だ&#8203;さ&#8203;い。&#8203;)。</p>
</div>
</div>
<div class="sect3">
<h4 id="_本コンペでgoogle_colaboratoryを使用するために">4.13.2. 本コンペでGoogle Colaboratoryを使用するために</h4>
<div class="paragraph">
<p>本&#8203;コ&#8203;ン&#8203;ペ&#8203;の&#8203;2&#8203;章&#8203;の&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;を&#8203;Google Colaboratory&#8203;上&#8203;で&#8203;動&#8203;か&#8203;す&#8203;た&#8203;め&#8203;に&#8203;は、&#8203;ま&#8203;ず&#8203;以&#8203;下&#8203;の&#8203;手&#8203;順&#8203;で&#8203;Google Drive&#8203;上&#8203;に&#8203;ファ&#8203;イ&#8203;ル&#8203;を&#8203;設&#8203;置&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Google Drive&#8203;の&#8203;My Drive&#8203;に&#8203;<code>JPX_competition</code>&#8203;と&#8203;い&#8203;う&#8203;フォ&#8203;ル&#8203;ダー&#8203;を&#8203;作&#8203;成&#8203;し&#8203;ま&#8203;す。</p>
</li>
<li>
<p>SIGNATE&#8203;の&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;サ&#8203;イ&#8203;ト&#8203;よ&#8203;り&#8203;ダ&#8203;ウ&#8203;ン&#8203;ロー&#8203;ド&#8203;し&#8203;た&#8203;各&#8203;種&#8203;デー&#8203;タ&#8203;を&#8203;1&#8203;で&#8203;作&#8203;成&#8203;し&#8203;た&#8203;フォ&#8203;ル&#8203;ダー&#8203;に&#8203;アッ&#8203;プ&#8203;ロー&#8203;ド&#8203;し&#8203;ま&#8203;す。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>次&#8203;に&#8203;Google Colaboratory&#8203;上&#8203;で&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;の&#8203;ノー&#8203;ト&#8203;ブッ&#8203;ク&#8203;を&#8203;展&#8203;開&#8203;し&#8203;ま&#8203;す。&#8203;ノー&#8203;ト&#8203;ブッ&#8203;ク&#8203;は&#8203;Google Colaboratory&#8203;上&#8203;で&#8203;も&#8203;実&#8203;行&#8203;可&#8203;能&#8203;と&#8203;なっ&#8203;て&#8203;お&#8203;り、&#8203;そ&#8203;の&#8203;ま&#8203;ま&#8203;編&#8203;集&#8203;な&#8203;し&#8203;で&#8203;実&#8203;行&#8203;で&#8203;き&#8203;ま&#8203;す。&#8203;以&#8203;下、&#8203;具&#8203;体&#8203;的&#8203;な&#8203;方&#8203;法&#8203;を&#8203;説&#8203;明&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>ノー&#8203;ト&#8203;ブッ&#8203;ク&#8203;を&#8203;ダ&#8203;ウ&#8203;ン&#8203;ロー&#8203;ド&#8203;し&#8203;ま&#8203;す。&#8203; <a href="https://github.com/JapanExchangeGroup/J-Quants-Tutorial/blob/main/handson/Chapter02/20210121-chapter02-tutorial.ipynb">こちらのGithubリポジトリ</a>&#8203;よ&#8203;り&#8203;Raw&#8203;ボ&#8203;タ&#8203;ン&#8203;を&#8203;右&#8203;ク&#8203;リッ&#8203;ク&#8203;し、&#8203;「リ&#8203;ン&#8203;ク&#8203;先&#8203;を&#8203;名&#8203;前&#8203;を&#8203;つ&#8203;け&#8203;て&#8203;保&#8203;存」&#8203;を&#8203;選&#8203;択&#8203;し&#8203;て&#8203;先&#8203;程&#8203;作&#8203;成&#8203;し&#8203;た&#8203;<code>JPX_competition</code>&#8203;に&#8203;保&#8203;存&#8203;し&#8203;て&#8203;く&#8203;だ&#8203;さ&#8203;い。</p>
</li>
<li>
<p>Google Drive&#8203;に&#8203;アッ&#8203;プ&#8203;ロー&#8203;ド&#8203;し&#8203;た&#8203; <code>20210121-chapter02-tutorial.ipynb</code> &#8203;ファ&#8203;イ&#8203;ル&#8203;を&#8203;ダ&#8203;ブ&#8203;ル&#8203;ク&#8203;リッ&#8203;ク&#8203;し&#8203;て&#8203; Google Colaboratory &#8203;で&#8203;開&#8203;き&#8203;ま&#8203;す。</p>
</li>
<li>
<p>コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;デー&#8203;タ&#8203;を&#8203;ノー&#8203;ト&#8203;ブッ&#8203;ク&#8203;で&#8203;読&#8203;み&#8203;込&#8203;む&#8203;た&#8203;め&#8203;に、&#8203;Google Drive&#8203;へ&#8203;マ&#8203;ウ&#8203;ン&#8203;ト&#8203;し&#8203;ま&#8203;す。&#8203;マ&#8203;ウ&#8203;ン&#8203;ト&#8203;方&#8203;法&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;は&#8203;<a href="https://qiita.com/kado_u/items/45b76f9a6f920bf0f786">こちら</a>&#8203;の&#8203;記&#8203;事&#8203;を&#8203;ご&#8203;参&#8203;照&#8203;く&#8203;だ&#8203;さ&#8203;い。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_内国株の売買制度">4.14. 内国株の売買制度</h3>
<div class="paragraph">
<p>本&#8203;節&#8203;で&#8203;は、&#8203;本&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;の&#8203;題&#8203;材&#8203;と&#8203;なっ&#8203;て&#8203;い&#8203;る&#8203;株&#8203;式&#8203;の&#8203;売&#8203;買&#8203;制&#8203;度&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;説&#8203;明&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="sect3">
<h4 id="_制限値幅">4.14.1. 制限値幅</h4>
<div class="paragraph">
<p>東&#8203;京&#8203;証&#8203;券&#8203;取&#8203;引&#8203;所&#8203;で&#8203;は、&#8203;一&#8203;日&#8203;の&#8203;売&#8203;買&#8203;に&#8203;お&#8203;け&#8203;る&#8203;値&#8203;動&#8203;き&#8203;の&#8203;幅&#8203;を&#8203;価&#8203;格&#8203;水&#8203;準&#8203;に&#8203;応&#8203;じ&#8203;て&#8203;一&#8203;定&#8203;に&#8203;制&#8203;限&#8203;し&#8203;て&#8203;お&#8203;り、&#8203;こ&#8203;の&#8203;値&#8203;幅&#8203;を&#8203; <strong>&#8203;制&#8203;限&#8203;値&#8203;幅&#8203;</strong> &#8203;と&#8203;い&#8203;い&#8203;ま&#8203;す。&#8203;制&#8203;限&#8203;値&#8203;幅&#8203;は、&#8203;前&#8203;日&#8203;の&#8203;終&#8203;値&#8203;又&#8203;は&#8203;最&#8203;終&#8203;気&#8203;配&#8203;値&#8203;段&#8203;な&#8203;ど&#8203;（以&#8203;下、&#8203;「基&#8203;準&#8203;値&#8203;段」&#8203;と&#8203;言&#8203;い&#8203;ま&#8203;す）&#8203;を&#8203;基&#8203;準&#8203;と&#8203;し&#8203;て&#8203;お&#8203;り、&#8203;そ&#8203;の&#8203;値&#8203;幅&#8203;の&#8203;大&#8203;き&#8203;さ&#8203;は&#8203;基&#8203;準&#8203;値&#8203;段&#8203;に&#8203;よっ&#8203;て&#8203;異&#8203;な&#8203;り&#8203;ま&#8203;す。&#8203;詳&#8203;細&#8203;は&#8203;<a href="https://www.jpx.co.jp/equities/trading/domestic/06.html">こちら</a>&#8203;を&#8203;ご&#8203;参&#8203;照&#8203;く&#8203;だ&#8203;さ&#8203;い。</p>
</div>
</div>
<div class="sect3">
<h4 id="_呼値の単位">4.14.2. 呼値の単位</h4>
<div class="paragraph">
<p>内&#8203;国&#8203;株&#8203;式&#8203;の&#8203;売&#8203;買&#8203;の&#8203;注&#8203;文&#8203;を&#8203;す&#8203;る&#8203;際&#8203;の&#8203;値&#8203;段&#8203;の&#8203;刻&#8203;み&#8203;こ&#8203;と&#8203;を&#8203; <strong>&#8203;呼&#8203;値&#8203;の&#8203;単&#8203;位&#8203;</strong> &#8203;と&#8203;い&#8203;い、&#8203;こ&#8203;の&#8203;呼&#8203;値&#8203;の&#8203;単&#8203;位&#8203;は、&#8203;売&#8203;買&#8203;の&#8203;対&#8203;象&#8203;と&#8203;な&#8203;る&#8203;銘&#8203;柄&#8203;及&#8203;び&#8203;そ&#8203;の&#8203;値&#8203;段&#8203;の&#8203;水&#8203;準&#8203;に&#8203;応&#8203;じ&#8203;て&#8203;異&#8203;な&#8203;り&#8203;ま&#8203;す。&#8203;各&#8203;値&#8203;段&#8203;の&#8203;水&#8203;準&#8203;に&#8203;お&#8203;け&#8203;る&#8203;詳&#8203;細&#8203;な&#8203;呼&#8203;値&#8203;の&#8203;単&#8203;位&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;は、&#8203;<a href="https://www.jpx.co.jp/equities/trading/domestic/07.html">こちら</a>&#8203;を&#8203;ご&#8203;参&#8203;照&#8203;く&#8203;だ&#8203;さ&#8203;い。&#8203;な&#8203;お、&#8203;銘&#8203;柄&#8203;に&#8203;よっ&#8203;て&#8203;は&#8203;呼&#8203;値&#8203;の&#8203;単&#8203;位&#8203;は&#8203;整&#8203;数&#8203;で&#8203;は&#8203;な&#8203;く、&#8203;小&#8203;数&#8203;点&#8203;が&#8203;あ&#8203;る&#8203;も&#8203;の&#8203;も&#8203;ご&#8203;ざ&#8203;い&#8203;ま&#8203;す&#8203;の&#8203;で&#8203;ご&#8203;留&#8203;意&#8203;く&#8203;だ&#8203;さ&#8203;い。</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_j_quantsapi">5. J-QuantsAPI</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_概要">5.1. 概要</h3>
<div class="paragraph">
<p>こ&#8203;の&#8203;章&#8203;で&#8203;は、&#8203;各&#8203;種&#8203;デー&#8203;タ&#8203;を&#8203;ダ&#8203;ウ&#8203;ン&#8203;ロー&#8203;ド&#8203;で&#8203;き&#8203;る&#8203;J-QuantsAPI&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;ご&#8203;紹&#8203;介&#8203;し&#8203;ま&#8203;す。&#8203;API&#8203;の&#8203;詳&#8203;細&#8203;な&#8203;仕&#8203;様&#8203;は&#8203;こ&#8203;ち&#8203;ら&#8203;(<a href="https://jpx-jquants.com/apidoc.html" class="bare">https://jpx-jquants.com/apidoc.html</a> )&#8203;を&#8203;ご&#8203;確&#8203;認&#8203;く&#8203;だ&#8203;さ&#8203;い。</p>
</div>
</div>
<div class="sect2">
<h3 id="_apiの利用">5.2. APIの利用</h3>
<div class="paragraph">
<p>API&#8203;を&#8203;利&#8203;用&#8203;す&#8203;る&#8203;に&#8203;は、&#8203;SIGNATE&#8203;で&#8203;の&#8203;コ&#8203;ン&#8203;ペ&#8203;ティ&#8203;ショ&#8203;ン&#8203;へ&#8203;の&#8203;ご&#8203;登&#8203;録&#8203;( <a href="https://signate.jp/competitions/423" class="bare">https://signate.jp/competitions/423</a> )&#8203;と&#8203;J-QuantsAPI&#8203;の&#8203;利&#8203;用&#8203;登&#8203;録&#8203;( <a href="https://jpx-jquants.com/" class="bare">https://jpx-jquants.com/</a> )&#8203;が&#8203;必&#8203;要&#8203;と&#8203;な&#8203;り&#8203;ま&#8203;す。</p>
</div>
</div>
<div class="sect2">
<h3 id="_必要なパッケージのインポート">5.3. 必要なパッケージのインポート</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">import</span> <span class="include">os</span>
<span class="keyword">import</span> <span class="include">json</span>
<span class="keyword">import</span> <span class="include">requests</span>
<span class="keyword">import</span> <span class="include">base64</span></code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stripes-even fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>&#8203;パッ&#8203;ケー&#8203;ジ&#8203;名&#8203;</strong></th>
<th class="tableblock halign-left valign-top"><strong>&#8203;目&#8203;的&#8203;</strong>　</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">os</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ディ&#8203;レ&#8203;ク&#8203;ト&#8203;リ、&#8203;ファ&#8203;イ&#8203;ル&#8203;操&#8203;作&#8203;の&#8203;た&#8203;め</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">json</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">レ&#8203;ス&#8203;ポ&#8203;ン&#8203;ス&#8203;の&#8203;加&#8203;工&#8203;の&#8203;た&#8203;め</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">requests</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">API&#8203;の&#8203;GET&#8203;や&#8203;POST&#8203;を&#8203;利&#8203;用&#8203;す&#8203;る&#8203;た&#8203;め</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">base64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TDnet&#8203;の&#8203;ファ&#8203;イ&#8203;ル&#8203;ダ&#8203;ウ&#8203;ン&#8203;ロー&#8203;ド&#8203;API&#8203;で&#8203;Base64&#8203;形&#8203;式&#8203;で&#8203;返っ&#8203;て&#8203;く&#8203;る&#8203;デー&#8203;タ&#8203;を&#8203;デ&#8203;コー&#8203;ド&#8203;す&#8203;る&#8203;た&#8203;め</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_refresh_api">5.4. Refresh API</h3>
<div class="paragraph">
<p>は&#8203;じ&#8203;め&#8203;に、&#8203;idToken&#8203;を&#8203;リ&#8203;フ&#8203;レッ&#8203;シュ&#8203;す&#8203;る&#8203;Refresh API("/refresh")&#8203;を&#8203;ご&#8203;紹&#8203;介&#8203;し&#8203;ま&#8203;す。&#8203;こ&#8203;の&#8203;API&#8203;で&#8203;は、&#8203;J-Quants&#8203;の&#8203;ロ&#8203;グ&#8203;イ&#8203;ン&#8203;後&#8203;の&#8203;画&#8203;面&#8203;で&#8203;ご&#8203;確&#8203;認&#8203;い&#8203;た&#8203;だ&#8203;く&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;る&#8203;refreshToken&#8203;を&#8203;使&#8203;用&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>Refresh API&#8203;を&#8203;使&#8203;う&#8203;た&#8203;め&#8203;の&#8203;サ&#8203;ン&#8203;プ&#8203;ル&#8203;コー&#8203;ド&#8203;は&#8203;以&#8203;下&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;な&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">def</span> <span class="function">call_refresh_api</span>(refreshtoken: <span class="predefined">str</span>):
    <span class="docstring"><span class="delimiter">&quot;&quot;&quot;</span><span class="content">
</span><span class="content">    idTokenをリフレッシュするメソッド。</span><span class="content">
</span><span class="content">
</span><span class="content">    Parameters</span><span class="content">
</span><span class="content">    ----------</span><span class="content">
</span><span class="content">    refreshtoken : str</span><span class="content">
</span><span class="content">        refreshtoken。ログイン後の画面からご確認いただけます。</span><span class="content">
</span><span class="content">
</span><span class="content">    Returns</span><span class="content">
</span><span class="content">    -------</span><span class="content">
</span><span class="content">    resjson : dict</span><span class="content">
</span><span class="content">        新しいidtokenが格納されたAPIレスポンス(json形式)</span><span class="content">
</span><span class="content">    </span><span class="delimiter">&quot;&quot;&quot;</span></span>
    headers = {<span class="string"><span class="delimiter">&quot;</span><span class="content">accept</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/json</span><span class="delimiter">&quot;</span></span>}
    data = {<span class="string"><span class="delimiter">&quot;</span><span class="content">refresh-token</span><span class="delimiter">&quot;</span></span>: refreshtoken}

    response = requests.post(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">https://api.jpx-jquants.com/refresh</span><span class="delimiter">&quot;</span></span>, headers=headers, data=json.dumps(data)
    )

    resjson = json.loads(response.text)
    <span class="keyword">return</span> resjson</code></pre>
</div>
</div>
<div class="paragraph">
<p>こ&#8203;の&#8203;API&#8203;を&#8203;使&#8203;う&#8203;こ&#8203;と&#8203;で&#8203;新&#8203;し&#8203;い&#8203;idtoken&#8203;を&#8203;払&#8203;い&#8203;出&#8203;す&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;ま&#8203;す。&#8203;使&#8203;用&#8203;例&#8203;は&#8203;以&#8203;下&#8203;の&#8203;通&#8203;り&#8203;で&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">refreshtoken = &lt;Your refreshtoken&gt;
call_refresh_api(refreshtoken)</code></pre>
</div>
</div>
<div class="paragraph">
<p>以&#8203;下&#8203;の&#8203;よ&#8203;う&#8203;な&#8203;レ&#8203;ス&#8203;ポ&#8203;ン&#8203;ス&#8203;が&#8203;返&#8203;り&#8203;ま&#8203;す。&#8203;な&#8203;お、&#8203;idtoken&#8203;の&#8203;有&#8203;効&#8203;期&#8203;限&#8203;は&#8203;１&#8203;時&#8203;間&#8203;（3600sec）&#8203;と&#8203;なっ&#8203;て&#8203;お&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{<span class="key"><span class="delimiter">&quot;</span><span class="content">idToken</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;Your New idtoken&gt;</span><span class="delimiter">&quot;</span></span>,
<span class="key"><span class="delimiter">&quot;</span><span class="content">expiresIn</span><span class="delimiter">&quot;</span></span>: <span class="integer">3600</span>}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_共通で使用するメソッド">5.5. 共通で使用するメソッド</h3>
<div class="paragraph">
<p>こ&#8203;こ&#8203;で&#8203;は、&#8203;API&#8203;共&#8203;通&#8203;の&#8203;関&#8203;数&#8203;を&#8203;用&#8203;意&#8203;し&#8203;て&#8203;お&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>サ&#8203;ン&#8203;プ&#8203;ル&#8203;コー&#8203;ド&#8203;は&#8203;以&#8203;下&#8203;の&#8203;通&#8203;り&#8203;で&#8203;す。&#8203;引&#8203;数&#8203;"apitype"&#8203;に&#8203;各&#8203;API&#8203;を&#8203;指&#8203;定&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で&#8203;呼&#8203;び&#8203;出&#8203;す&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span class="error">d</span><span class="error">e</span><span class="error">f</span> <span class="error">c</span><span class="error">a</span><span class="error">l</span><span class="error">l</span><span class="error">_</span><span class="error">j</span><span class="error">q</span><span class="error">u</span><span class="error">a</span><span class="error">n</span><span class="error">t</span><span class="error">s</span><span class="error">_</span><span class="error">a</span><span class="error">p</span><span class="error">i</span><span class="error">(</span><span class="error">p</span><span class="error">a</span><span class="error">r</span><span class="error">a</span><span class="error">m</span><span class="error">s</span>: <span class="error">d</span><span class="error">i</span><span class="error">c</span><span class="error">t</span>, <span class="error">i</span><span class="error">d</span><span class="error">t</span><span class="error">o</span><span class="error">k</span><span class="error">e</span><span class="error">n</span>: <span class="error">s</span><span class="error">t</span><span class="error">r</span>, <span class="error">a</span><span class="error">p</span><span class="error">i</span><span class="error">t</span><span class="error">y</span><span class="error">p</span><span class="error">e</span>: <span class="error">s</span><span class="error">t</span><span class="error">r</span>, <span class="error">c</span><span class="error">o</span><span class="error">d</span><span class="error">e</span>: <span class="error">s</span><span class="error">t</span><span class="error">r</span> <span class="error">=</span> <span class="error">N</span><span class="error">o</span><span class="error">n</span><span class="error">e</span><span class="error">)</span>:
    <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span><span class="string"><span class="delimiter">&quot;</span><span class="content">
    J-QuantsのAPIを試すメソッド。

    Parameters
    ----------
    params : dict
        リクエストパラメータ。
    idtoken : str
        idTokenはログイン後の画面からご確認いただけます。
    apitype: str
        APIの種類。</span><span class="delimiter">&quot;</span></span><span class="error">n</span><span class="error">e</span><span class="error">w</span><span class="error">s</span><span class="string"><span class="delimiter">&quot;</span><span class="content">, </span><span class="delimiter">&quot;</span></span><span class="error">p</span><span class="error">r</span><span class="error">i</span><span class="error">c</span><span class="error">e</span><span class="error">s</span><span class="string"><span class="delimiter">&quot;</span><span class="content">, </span><span class="delimiter">&quot;</span></span><span class="error">l</span><span class="error">i</span><span class="error">s</span><span class="error">t</span><span class="error">s</span><span class="string"><span class="delimiter">&quot;</span><span class="content">などがあります。
    code: str
        銘柄を指定するAPIの場合に設定します。

    Returns
    -------
    resjson : dict
        APIレスポンス(json形式)
    </span><span class="delimiter">&quot;</span></span><span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>
    <span class="error">d</span><span class="error">a</span><span class="error">t</span><span class="error">e</span><span class="error">f</span><span class="error">r</span><span class="error">o</span><span class="error">m</span> <span class="error">=</span> <span class="error">p</span><span class="error">a</span><span class="error">r</span><span class="error">a</span><span class="error">m</span><span class="error">s</span><span class="error">.</span><span class="error">g</span><span class="error">e</span><span class="error">t</span><span class="error">(</span><span class="string"><span class="delimiter">&quot;</span><span class="content">datefrom</span><span class="delimiter">&quot;</span></span>, <span class="error">N</span><span class="error">o</span><span class="error">n</span><span class="error">e</span><span class="error">)</span>
    <span class="error">d</span><span class="error">a</span><span class="error">t</span><span class="error">e</span><span class="error">t</span><span class="error">o</span> <span class="error">=</span> <span class="error">p</span><span class="error">a</span><span class="error">r</span><span class="error">a</span><span class="error">m</span><span class="error">s</span><span class="error">.</span><span class="error">g</span><span class="error">e</span><span class="error">t</span><span class="error">(</span><span class="string"><span class="delimiter">&quot;</span><span class="content">dateto</span><span class="delimiter">&quot;</span></span>, <span class="error">N</span><span class="error">o</span><span class="error">n</span><span class="error">e</span><span class="error">)</span>
    <span class="error">d</span><span class="error">a</span><span class="error">t</span><span class="error">e</span> <span class="error">=</span> <span class="error">p</span><span class="error">a</span><span class="error">r</span><span class="error">a</span><span class="error">m</span><span class="error">s</span><span class="error">.</span><span class="error">g</span><span class="error">e</span><span class="error">t</span><span class="error">(</span><span class="string"><span class="delimiter">&quot;</span><span class="content">date</span><span class="delimiter">&quot;</span></span>, <span class="error">N</span><span class="error">o</span><span class="error">n</span><span class="error">e</span><span class="error">)</span>
    <span class="error">i</span><span class="error">n</span><span class="error">c</span><span class="error">l</span><span class="error">u</span><span class="error">d</span><span class="error">e</span><span class="error">d</span><span class="error">e</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">l</span><span class="error">s</span> <span class="error">=</span> <span class="error">p</span><span class="error">a</span><span class="error">r</span><span class="error">a</span><span class="error">m</span><span class="error">s</span><span class="error">.</span><span class="error">g</span><span class="error">e</span><span class="error">t</span><span class="error">(</span><span class="string"><span class="delimiter">&quot;</span><span class="content">includedetails</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span><span class="error">)</span>
    <span class="error">k</span><span class="error">e</span><span class="error">y</span><span class="error">w</span><span class="error">o</span><span class="error">r</span><span class="error">d</span> <span class="error">=</span> <span class="error">p</span><span class="error">a</span><span class="error">r</span><span class="error">a</span><span class="error">m</span><span class="error">s</span><span class="error">.</span><span class="error">g</span><span class="error">e</span><span class="error">t</span><span class="error">(</span><span class="string"><span class="delimiter">&quot;</span><span class="content">keyword</span><span class="delimiter">&quot;</span></span>, <span class="error">N</span><span class="error">o</span><span class="error">n</span><span class="error">e</span><span class="error">)</span>
    <span class="error">h</span><span class="error">e</span><span class="error">a</span><span class="error">d</span><span class="error">l</span><span class="error">i</span><span class="error">n</span><span class="error">e</span> <span class="error">=</span> <span class="error">p</span><span class="error">a</span><span class="error">r</span><span class="error">a</span><span class="error">m</span><span class="error">s</span><span class="error">.</span><span class="error">g</span><span class="error">e</span><span class="error">t</span><span class="error">(</span><span class="string"><span class="delimiter">&quot;</span><span class="content">headline</span><span class="delimiter">&quot;</span></span>, <span class="error">N</span><span class="error">o</span><span class="error">n</span><span class="error">e</span><span class="error">)</span>
    <span class="error">p</span><span class="error">a</span><span class="error">r</span><span class="error">a</span><span class="error">m</span><span class="error">c</span><span class="error">o</span><span class="error">d</span><span class="error">e</span> <span class="error">=</span> <span class="error">p</span><span class="error">a</span><span class="error">r</span><span class="error">a</span><span class="error">m</span><span class="error">s</span><span class="error">.</span><span class="error">g</span><span class="error">e</span><span class="error">t</span><span class="error">(</span><span class="string"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span>, <span class="error">N</span><span class="error">o</span><span class="error">n</span><span class="error">e</span><span class="error">)</span>
    <span class="error">n</span><span class="error">e</span><span class="error">x</span><span class="error">t</span><span class="error">t</span><span class="error">o</span><span class="error">k</span><span class="error">e</span><span class="error">n</span> <span class="error">=</span> <span class="error">p</span><span class="error">a</span><span class="error">r</span><span class="error">a</span><span class="error">m</span><span class="error">s</span><span class="error">.</span><span class="error">g</span><span class="error">e</span><span class="error">t</span><span class="error">(</span><span class="string"><span class="delimiter">&quot;</span><span class="content">nexttoken</span><span class="delimiter">&quot;</span></span>, <span class="error">N</span><span class="error">o</span><span class="error">n</span><span class="error">e</span><span class="error">)</span>
    <span class="error">h</span><span class="error">e</span><span class="error">a</span><span class="error">d</span><span class="error">e</span><span class="error">r</span><span class="error">s</span> <span class="error">=</span> {<span class="key"><span class="delimiter">&quot;</span><span class="content">accept</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">application/json</span><span class="delimiter">&quot;</span></span>, <span class="key"><span class="delimiter">&quot;</span><span class="content">Authorization</span><span class="delimiter">&quot;</span></span>: <span class="error">i</span><span class="error">d</span><span class="error">t</span><span class="error">o</span><span class="error">k</span><span class="error">e</span><span class="error">n</span>}
    <span class="error">d</span><span class="error">a</span><span class="error">t</span><span class="error">a</span> <span class="error">=</span> {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">from</span><span class="delimiter">&quot;</span></span>: <span class="error">d</span><span class="error">a</span><span class="error">t</span><span class="error">e</span><span class="error">f</span><span class="error">r</span><span class="error">o</span><span class="error">m</span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">to</span><span class="delimiter">&quot;</span></span>: <span class="error">d</span><span class="error">a</span><span class="error">t</span><span class="error">e</span><span class="error">t</span><span class="error">o</span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">includeDetails</span><span class="delimiter">&quot;</span></span>: <span class="error">i</span><span class="error">n</span><span class="error">c</span><span class="error">l</span><span class="error">u</span><span class="error">d</span><span class="error">e</span><span class="error">d</span><span class="error">e</span><span class="error">t</span><span class="error">a</span><span class="error">i</span><span class="error">l</span><span class="error">s</span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">nexttoken</span><span class="delimiter">&quot;</span></span>: <span class="error">n</span><span class="error">e</span><span class="error">x</span><span class="error">t</span><span class="error">t</span><span class="error">o</span><span class="error">k</span><span class="error">e</span><span class="error">n</span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">date</span><span class="delimiter">&quot;</span></span>: <span class="error">d</span><span class="error">a</span><span class="error">t</span><span class="error">e</span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">keyword</span><span class="delimiter">&quot;</span></span>: <span class="error">k</span><span class="error">e</span><span class="error">y</span><span class="error">w</span><span class="error">o</span><span class="error">r</span><span class="error">d</span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">headline</span><span class="delimiter">&quot;</span></span>: <span class="error">h</span><span class="error">e</span><span class="error">a</span><span class="error">d</span><span class="error">l</span><span class="error">i</span><span class="error">n</span><span class="error">e</span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span>: <span class="error">p</span><span class="error">a</span><span class="error">r</span><span class="error">a</span><span class="error">m</span><span class="error">c</span><span class="error">o</span><span class="error">d</span><span class="error">e</span>,
    }

    <span class="error">i</span><span class="error">f</span> <span class="error">c</span><span class="error">o</span><span class="error">d</span><span class="error">e</span>:
        <span class="error">c</span><span class="error">o</span><span class="error">d</span><span class="error">e</span> <span class="error">=</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">/</span><span class="delimiter">&quot;</span></span> <span class="error">+</span> <span class="error">c</span><span class="error">o</span><span class="error">d</span><span class="error">e</span>
        <span class="error">r</span> <span class="error">=</span> <span class="error">r</span><span class="error">e</span><span class="error">q</span><span class="error">u</span><span class="error">e</span><span class="error">s</span><span class="error">t</span><span class="error">s</span><span class="error">.</span><span class="error">g</span><span class="error">e</span><span class="error">t</span><span class="error">(</span>
            <span class="string"><span class="delimiter">&quot;</span><span class="content">https://api.jpx-jquants.com/</span><span class="delimiter">&quot;</span></span> <span class="error">+</span> <span class="error">a</span><span class="error">p</span><span class="error">i</span><span class="error">t</span><span class="error">y</span><span class="error">p</span><span class="error">e</span> <span class="error">+</span> <span class="error">c</span><span class="error">o</span><span class="error">d</span><span class="error">e</span>,
            <span class="error">p</span><span class="error">a</span><span class="error">r</span><span class="error">a</span><span class="error">m</span><span class="error">s</span><span class="error">=</span><span class="error">d</span><span class="error">a</span><span class="error">t</span><span class="error">a</span>,
            <span class="error">h</span><span class="error">e</span><span class="error">a</span><span class="error">d</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">=</span><span class="error">h</span><span class="error">e</span><span class="error">a</span><span class="error">d</span><span class="error">e</span><span class="error">r</span><span class="error">s</span>,
        <span class="error">)</span>
    <span class="error">e</span><span class="error">l</span><span class="error">s</span><span class="error">e</span>:
        <span class="error">r</span> <span class="error">=</span> <span class="error">r</span><span class="error">e</span><span class="error">q</span><span class="error">u</span><span class="error">e</span><span class="error">s</span><span class="error">t</span><span class="error">s</span><span class="error">.</span><span class="error">g</span><span class="error">e</span><span class="error">t</span><span class="error">(</span>
            <span class="string"><span class="delimiter">&quot;</span><span class="content">https://api.jpx-jquants.com/</span><span class="delimiter">&quot;</span></span> <span class="error">+</span> <span class="error">a</span><span class="error">p</span><span class="error">i</span><span class="error">t</span><span class="error">y</span><span class="error">p</span><span class="error">e</span>, <span class="error">p</span><span class="error">a</span><span class="error">r</span><span class="error">a</span><span class="error">m</span><span class="error">s</span><span class="error">=</span><span class="error">d</span><span class="error">a</span><span class="error">t</span><span class="error">a</span>, <span class="error">h</span><span class="error">e</span><span class="error">a</span><span class="error">d</span><span class="error">e</span><span class="error">r</span><span class="error">s</span><span class="error">=</span><span class="error">h</span><span class="error">e</span><span class="error">a</span><span class="error">d</span><span class="error">e</span><span class="error">r</span><span class="error">s</span>
        <span class="error">)</span>
    <span class="error">r</span><span class="error">e</span><span class="error">s</span><span class="error">j</span><span class="error">s</span><span class="error">o</span><span class="error">n</span> <span class="error">=</span> <span class="error">j</span><span class="error">s</span><span class="error">o</span><span class="error">n</span><span class="error">.</span><span class="error">l</span><span class="error">o</span><span class="error">a</span><span class="error">d</span><span class="error">s</span><span class="error">(</span><span class="error">r</span><span class="error">.</span><span class="error">t</span><span class="error">e</span><span class="error">x</span><span class="error">t</span><span class="error">)</span>
    <span class="error">r</span><span class="error">e</span><span class="error">t</span><span class="error">u</span><span class="error">r</span><span class="error">n</span> <span class="error">r</span><span class="error">e</span><span class="error">s</span><span class="error">j</span><span class="error">s</span><span class="error">o</span><span class="error">n</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_stock_lists_api">5.6. Stock Lists API</h3>
<div class="paragraph">
<p>銘&#8203;柄&#8203;一&#8203;覧&#8203;を&#8203;取&#8203;得&#8203;す&#8203;る&#8203;API&#8203;に&#8203;つ&#8203;い&#8203;て&#8203;紹&#8203;介&#8203;い&#8203;た&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>こ&#8203;の&#8203;API&#8203;で&#8203;は、&#8203;企&#8203;業&#8203;名&#8203;や&#8203;業&#8203;種&#8203;区&#8203;分&#8203;な&#8203;ど&#8203;の&#8203;基&#8203;本&#8203;情&#8203;報&#8203;を&#8203;取&#8203;得&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;ま&#8203;す。&#8203;全&#8203;銘&#8203;柄&#8203;の&#8203;一&#8203;覧&#8203;を&#8203;取&#8203;得&#8203;す&#8203;る&#8203;"/lists"&#8203;と&#8203;銘&#8203;柄&#8203;コー&#8203;ド&#8203;を&#8203;指&#8203;定&#8203;し&#8203;た&#8203;"/lists/{code}"&#8203;が&#8203;利&#8203;用&#8203;で&#8203;き&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">idtk=&lt;your idtoken&gt;
<span class="comment"># Codeを指定しない場合</span>
paramdict = {}
paramdict[<span class="string"><span class="delimiter">&quot;</span><span class="content">includedetails</span><span class="delimiter">&quot;</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">True</span><span class="delimiter">&quot;</span></span>
call_jquants_api(paramdict, idtk, <span class="string"><span class="delimiter">&quot;</span><span class="content">lists</span><span class="delimiter">&quot;</span></span>)

<span class="comment"># Codeを指定する場合</span>
paramdict = {}
paramdict[<span class="string"><span class="delimiter">&quot;</span><span class="content">includedetails</span><span class="delimiter">&quot;</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">True</span><span class="delimiter">&quot;</span></span>
call_jquants_api(paramdict, idtk, <span class="string"><span class="delimiter">&quot;</span><span class="content">lists</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">8697</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>レ&#8203;ス&#8203;ポ&#8203;ン&#8203;ス&#8203;は&#8203;以&#8203;下&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;な&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{<span class="key"><span class="delimiter">&quot;</span><span class="content">list</span><span class="delimiter">&quot;</span></span>: [{<span class="key"><span class="delimiter">&quot;</span><span class="content">33 Sector(name)</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Other Financing Business</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Effective Date</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">20201230</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">prediction_target</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">True</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Section/Products</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">First Section (Domestic)</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">33 Sector(Code)</span><span class="delimiter">&quot;</span></span>: <span class="float">7200.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Name (English)</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Japan Exchange Group,Inc.</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">IssuedShareEquityQuote IssuedShare</span><span class="delimiter">&quot;</span></span>: <span class="float">536351448.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">8697</span><span class="delimiter">&quot;</span></span>}]}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_prices_api">5.7. Prices API</h3>
<div class="paragraph">
<p>株&#8203;価&#8203;情&#8203;報&#8203;を&#8203;取&#8203;得&#8203;す&#8203;る&#8203;Price API&#8203;を&#8203;ご&#8203;紹&#8203;介&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>検&#8203;索&#8203;期&#8203;間&#8203;や&#8203;銘&#8203;柄&#8203;コー&#8203;ド&#8203;を&#8203;指&#8203;定&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で、&#8203;四&#8203;本&#8203;値、&#8203;売&#8203;買&#8203;高、&#8203;前&#8203;日&#8203;比&#8203;変&#8203;化&#8203;率&#8203;な&#8203;ど&#8203;を&#8203;取&#8203;得&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;が&#8203;で&#8203;き&#8203;ま&#8203;す。&#8203;銘&#8203;柄&#8203;コー&#8203;ド&#8203;を&#8203;指&#8203;定&#8203;す&#8203;る&#8203;場&#8203;合&#8203;は&#8203;"/prices/{code}"&#8203;で&#8203;API&#8203;を&#8203;ご&#8203;利&#8203;用&#8203;く&#8203;だ&#8203;さ&#8203;い。&#8203;"includeDetails"&#8203;を&#8203;True&#8203;に&#8203;し&#8203;た&#8203;場&#8203;合&#8203;は、&#8203;全&#8203;て&#8203;の&#8203;デー&#8203;タ&#8203;系&#8203;列&#8203;を&#8203;取&#8203;得&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">idtk=&lt;your idtoken&gt;
<span class="comment"># Codeを指定しない場合</span>
paramdict = {}
paramdict[<span class="string"><span class="delimiter">&quot;</span><span class="content">date</span><span class="delimiter">&quot;</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-12-30</span><span class="delimiter">&quot;</span></span>
paramdict[<span class="string"><span class="delimiter">&quot;</span><span class="content">includedetails</span><span class="delimiter">&quot;</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">True</span><span class="delimiter">&quot;</span></span>
call_jquants_api(paramdict, idtk, <span class="string"><span class="delimiter">&quot;</span><span class="content">prices</span><span class="delimiter">&quot;</span></span>)

<span class="comment"># Codeを指定する場合</span>
paramdict = {}
paramdict[<span class="string"><span class="delimiter">&quot;</span><span class="content">datefrom</span><span class="delimiter">&quot;</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-01-17</span><span class="delimiter">&quot;</span></span>
paramdict[<span class="string"><span class="delimiter">&quot;</span><span class="content">dateto</span><span class="delimiter">&quot;</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-01-31</span><span class="delimiter">&quot;</span></span>
paramdict[<span class="string"><span class="delimiter">&quot;</span><span class="content">includedetails</span><span class="delimiter">&quot;</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">True</span><span class="delimiter">&quot;</span></span>
call_jquants_api(paramdict, idtk, <span class="string"><span class="delimiter">&quot;</span><span class="content">prices</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">8697</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>レ&#8203;ス&#8203;ポ&#8203;ン&#8203;ス&#8203;の&#8203;サ&#8203;ン&#8203;プ&#8203;ル&#8203;は&#8203;以&#8203;下&#8203;の&#8203;通&#8203;り&#8203;で&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{<span class="key"><span class="delimiter">&quot;</span><span class="content">prices</span><span class="delimiter">&quot;</span></span>: [{<span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote Open</span><span class="delimiter">&quot;</span></span>: <span class="float">2005.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote PreviousClose</span><span class="delimiter">&quot;</span></span>: <span class="float">1972.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote CumulativeAdjustmentFactor</span><span class="delimiter">&quot;</span></span>: <span class="float">1.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote VWAP</span><span class="delimiter">&quot;</span></span>: <span class="float">1994.792</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote Low</span><span class="delimiter">&quot;</span></span>: <span class="float">1989.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote PreviousExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>: <span class="float">1972.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote High</span><span class="delimiter">&quot;</span></span>: <span class="float">2008.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote Date</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020/01/20</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote Close</span><span class="delimiter">&quot;</span></span>: <span class="float">1990.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote PreviousExchangeOfficialCloseDate</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020/01/17</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>: <span class="float">1990.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ChangeFromPreviousClose</span><span class="delimiter">&quot;</span></span>: <span class="float">18.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote PercentChangeFromPreviousClose</span><span class="delimiter">&quot;</span></span>: <span class="float">0.913</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote PreviousCloseDate</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020/01/17</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">8697</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote Volume</span><span class="delimiter">&quot;</span></span>: <span class="float">528600.0</span>},
    {<span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote Open</span><span class="delimiter">&quot;</span></span>: <span class="float">1989.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote PreviousClose</span><span class="delimiter">&quot;</span></span>: <span class="float">1990.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote CumulativeAdjustmentFactor</span><span class="delimiter">&quot;</span></span>: <span class="float">1.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote VWAP</span><span class="delimiter">&quot;</span></span>: <span class="float">1976.539</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote Low</span><span class="delimiter">&quot;</span></span>: <span class="float">1965.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote PreviousExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>: <span class="float">1990.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote High</span><span class="delimiter">&quot;</span></span>: <span class="float">1995.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote Date</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020/01/21</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote Close</span><span class="delimiter">&quot;</span></span>: <span class="float">1977.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote PreviousExchangeOfficialCloseDate</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020/01/20</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ExchangeOfficialClose</span><span class="delimiter">&quot;</span></span>: <span class="float">1977.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote ChangeFromPreviousClose</span><span class="delimiter">&quot;</span></span>: <span class="float">-13.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote PercentChangeFromPreviousClose</span><span class="delimiter">&quot;</span></span>: <span class="float">-0.653</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote PreviousCloseDate</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020/01/20</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">8697</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">EndOfDayQuote Volume</span><span class="delimiter">&quot;</span></span>: <span class="float">571000.0</span>},
    <span class="error">.</span><span class="error">.</span><span class="error">.</span>]}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_stock_fins_api">5.8. Stock Fins API</h3>
<div class="paragraph">
<p>各&#8203;銘&#8203;柄&#8203;の&#8203;財&#8203;務&#8203;諸&#8203;表&#8203;デー&#8203;タ&#8203;を&#8203;取&#8203;得&#8203;す&#8203;る&#8203;API&#8203;を&#8203;ご&#8203;紹&#8203;介&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>特&#8203;定&#8203;の&#8203;日&#8203;の&#8203;全&#8203;銘&#8203;柄&#8203;の&#8203;情&#8203;報&#8203;を&#8203;取&#8203;得&#8203;す&#8203;る&#8203;"/stockfins"&#8203;と&#8203;１&#8203;銘&#8203;柄&#8203;の&#8203;情&#8203;報&#8203;を&#8203;取&#8203;得&#8203;す&#8203;る&#8203;"/stockfins/{code}"&#8203;が&#8203;ご&#8203;ざ&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">idtk=&lt;your idtoken&gt;
<span class="comment"># Codeを指定しない場合</span>
paramdict = {}
paramdict[<span class="string"><span class="delimiter">&quot;</span><span class="content">date</span><span class="delimiter">&quot;</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-12-30</span><span class="delimiter">&quot;</span></span>
paramdict[<span class="string"><span class="delimiter">&quot;</span><span class="content">includedetails</span><span class="delimiter">&quot;</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">True</span><span class="delimiter">&quot;</span></span>
call_jquants_api(paramdict, idtk, <span class="string"><span class="delimiter">&quot;</span><span class="content">stockfins</span><span class="delimiter">&quot;</span></span>)


<span class="comment"># Codeを指定する場合</span>
paramdict = {}
paramdict[<span class="string"><span class="delimiter">&quot;</span><span class="content">datefrom</span><span class="delimiter">&quot;</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-01-01</span><span class="delimiter">&quot;</span></span>
paramdict[<span class="string"><span class="delimiter">&quot;</span><span class="content">dateto</span><span class="delimiter">&quot;</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-12-30</span><span class="delimiter">&quot;</span></span>
paramdict[<span class="string"><span class="delimiter">&quot;</span><span class="content">includedetails</span><span class="delimiter">&quot;</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">True</span><span class="delimiter">&quot;</span></span>
call_jquants_api(paramdict, idtk, <span class="string"><span class="delimiter">&quot;</span><span class="content">stockfins</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">8697</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>レ&#8203;ス&#8203;ポ&#8203;ン&#8203;ス&#8203;は&#8203;以&#8203;下&#8203;の&#8203;よ&#8203;う&#8203;に&#8203;な&#8203;り&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{<span class="key"><span class="delimiter">&quot;</span><span class="content">stockfin</span><span class="delimiter">&quot;</span></span>: [{<span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement TotalAssets</span><span class="delimiter">&quot;</span></span>: <span class="float">56671198.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">base_date</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020/01/30</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement FiscalPeriodEnd</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2019/12</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement ReportType</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Q3</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement OrdinaryIncome</span><span class="delimiter">&quot;</span></span>: <span class="float">48586.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement CashFlowsFromOperatingActivities</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">8697</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement NetSales</span><span class="delimiter">&quot;</span></span>: <span class="float">87433.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement CashFlowsFromFinancingActivities</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement CashFlowsFromInvestingActivities</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement AccountingStandard</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ConsolidatedIFRS</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement NetIncome</span><span class="delimiter">&quot;</span></span>: <span class="float">33317.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement OperatingIncome</span><span class="delimiter">&quot;</span></span>: <span class="float">48176.0</span>},
    {<span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement TotalAssets</span><span class="delimiter">&quot;</span></span>: <span class="float">56671198.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">base_date</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020/03/23</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement FiscalPeriodEnd</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2019/12</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement ReportType</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Q3</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement OrdinaryIncome</span><span class="delimiter">&quot;</span></span>: <span class="float">48586.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement CashFlowsFromOperatingActivities</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">8697</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement NetSales</span><span class="delimiter">&quot;</span></span>: <span class="float">87433.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement CashFlowsFromFinancingActivities</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement CashFlowsFromInvestingActivities</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement AccountingStandard</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ConsolidatedIFRS</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement NetIncome</span><span class="delimiter">&quot;</span></span>: <span class="float">33317.0</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Result_FinancialStatement OperatingIncome</span><span class="delimiter">&quot;</span></span>: <span class="float">48176.0</span>}]}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_stock_labels_api">5.9. Stock Labels API</h3>
<div class="paragraph">
<p>基&#8203;準&#8203;日&#8203;か&#8203;ら&#8203;5&#8203;日、&#8203;10&#8203;日、&#8203;20&#8203;日&#8203;の&#8203;株&#8203;価&#8203;の&#8203;最&#8203;大&#8203;上&#8203;昇&#8203;率、&#8203;最&#8203;大&#8203;下&#8203;落&#8203;率&#8203;を&#8203;取&#8203;得&#8203;す&#8203;る&#8203;API&#8203;を&#8203;ご&#8203;紹&#8203;介&#8203;し&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>Stock Labels API&#8203;は&#8203;期&#8203;間&#8203;や&#8203;銘&#8203;柄&#8203;コー&#8203;ド&#8203;を&#8203;指&#8203;定&#8203;す&#8203;る&#8203;こ&#8203;と&#8203;で&#8203;該&#8203;当&#8203;す&#8203;る&#8203;株&#8203;価&#8203;騰&#8203;落&#8203;率&#8203;の&#8203;デー&#8203;タ&#8203;を&#8203;取&#8203;得&#8203;で&#8203;き&#8203;ま&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="comment"># Codeを指定しない場合</span>
paramdict = {}
paramdict[<span class="string"><span class="delimiter">&quot;</span><span class="content">date</span><span class="delimiter">&quot;</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">2018-05-31</span><span class="delimiter">&quot;</span></span>
paramdict[<span class="string"><span class="delimiter">&quot;</span><span class="content">includedetails</span><span class="delimiter">&quot;</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span>
call_jquants_api(paramdict, idtk, <span class="string"><span class="delimiter">&quot;</span><span class="content">stocklabels</span><span class="delimiter">&quot;</span></span>)

<span class="comment"># Codeを指定する場合</span>
paramdict = {}
paramdict[<span class="string"><span class="delimiter">&quot;</span><span class="content">datefrom</span><span class="delimiter">&quot;</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-02-01</span><span class="delimiter">&quot;</span></span>
paramdict[<span class="string"><span class="delimiter">&quot;</span><span class="content">dateto</span><span class="delimiter">&quot;</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-02-28</span><span class="delimiter">&quot;</span></span>
paramdict[<span class="string"><span class="delimiter">&quot;</span><span class="content">includedetails</span><span class="delimiter">&quot;</span></span>] = <span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span>
call_jquants_api(paramdict, idtk, <span class="string"><span class="delimiter">&quot;</span><span class="content">stocklabels</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">1301</span><span class="delimiter">&quot;</span></span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>レ&#8203;ス&#8203;ポ&#8203;ン&#8203;ス&#8203;の&#8203;サ&#8203;ン&#8203;プ&#8203;ル&#8203;は&#8203;以&#8203;下&#8203;の&#8203;通&#8203;り&#8203;で&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{<span class="key"><span class="delimiter">&quot;</span><span class="content">labels</span><span class="delimiter">&quot;</span></span>: [{<span class="key"><span class="delimiter">&quot;</span><span class="content">label_low_10</span><span class="delimiter">&quot;</span></span>: <span class="float">-0.01748</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label_low_20</span><span class="delimiter">&quot;</span></span>: <span class="float">-0.10699</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label_low_5</span><span class="delimiter">&quot;</span></span>: <span class="float">0.0021</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label_high_20</span><span class="delimiter">&quot;</span></span>: <span class="float">0.02203</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">base_date</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-02-04</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label_high_10</span><span class="delimiter">&quot;</span></span>: <span class="float">0.02203</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label_date_5</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-02-12</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label_date_10</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-02-19</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label_high_5</span><span class="delimiter">&quot;</span></span>: <span class="float">0.02203</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label_date_20</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-03-05</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1301</span><span class="delimiter">&quot;</span></span>},
    {<span class="key"><span class="delimiter">&quot;</span><span class="content">label_low_10</span><span class="delimiter">&quot;</span></span>: <span class="float">-0.02507</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label_low_20</span><span class="delimiter">&quot;</span></span>: <span class="float">-0.11072</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label_low_5</span><span class="delimiter">&quot;</span></span>: <span class="float">-0.00557</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label_high_20</span><span class="delimiter">&quot;</span></span>: <span class="float">0.01776</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">base_date</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-02-05</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label_high_10</span><span class="delimiter">&quot;</span></span>: <span class="float">0.01776</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label_date_5</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-02-13</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label_date_10</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-02-20</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label_high_5</span><span class="delimiter">&quot;</span></span>: <span class="float">0.01776</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">label_date_20</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-03-06</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">Local Code</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1301</span><span class="delimiter">&quot;</span></span>}],
    <span class="key"><span class="delimiter">&quot;</span><span class="content">scrollId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">eyJMb2NhbCBDb2RlIjogIjEzMDEiLCAiYmFzZV9kYXRlIjogIjIwMjAtMDItMDUifQ==</span><span class="delimiter">&quot;</span></span>}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_news_api">5.10. News API</h3>
<div class="paragraph">
<p>日&#8203;経&#8203;新&#8203;聞&#8203;の&#8203;記&#8203;事&#8203;情&#8203;報&#8203;を&#8203;取&#8203;得&#8203;す&#8203;る&#8203;API&#8203;は&#8203;ま&#8203;だ&#8203;公&#8203;開&#8203;し&#8203;て&#8203;お&#8203;り&#8203;ま&#8203;せ&#8203;ん。</p>
</div>
<div class="paragraph">
<p>レ&#8203;ス&#8203;ポ&#8203;ン&#8203;ス&#8203;の&#8203;サ&#8203;ン&#8203;プ&#8203;ル&#8203;は&#8203;以&#8203;下&#8203;の&#8203;通&#8203;り&#8203;に&#8203;な&#8203;る&#8203;予&#8203;定&#8203;で&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{<span class="key"><span class="delimiter">&quot;</span><span class="content">news</span><span class="delimiter">&quot;</span></span>: [{<span class="key"><span class="delimiter">&quot;</span><span class="content">article_id</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">TDSKDBDGXLASFL21HM9_21022020000000</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">publish_datetime</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-02-21T16:34:00Z</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">media_code</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">TNY</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">media_name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">日本経済新聞電子版</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">men_name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">headline</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">日本取引所ＣＥＯ、東商取のエネルギー市場「早期に統合したい」</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">keywords</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">最高経営責任者</span><span class="char">\n</span><span class="content">東京商品取引所</span><span class="char">\n</span><span class="content">日本取引所グループ</span><span class="char">\n</span><span class="content">清田瞭</span><span class="char">\n</span><span class="content">エネルギー市場</span><span class="char">\n</span><span class="content">大阪取引所</span><span class="char">\n</span><span class="content">統合</span><span class="char">\n</span><span class="content">定例</span><span class="char">\n</span><span class="content">早期</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">classifications</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Ｔ８６９７</span><span class="char">\n</span><span class="content">ＰＤ５２１</span><span class="char">\n</span><span class="content">Ｎ００４０４３１</span><span class="char">\n</span><span class="content">Ｎ００７５１０７</span><span class="char">\n</span><span class="content">Ｎ００４０７７９</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">stock_code</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">8697</span><span class="delimiter">&quot;</span></span>}],
    <span class="key"><span class="delimiter">&quot;</span><span class="content">scrollId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">FGluY2x1ZGVfY29u</span><span class="delimiter">&quot;</span></span>}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tdnet_api">5.11. TDnet API</h3>
<div class="paragraph">
<p>適&#8203;時&#8203;開&#8203;示&#8203;を&#8203;取&#8203;得&#8203;で&#8203;き&#8203;る&#8203;TDnetAPI&#8203;は&#8203;ま&#8203;だ&#8203;公&#8203;開&#8203;し&#8203;て&#8203;お&#8203;り&#8203;ま&#8203;せ&#8203;ん。</p>
</div>
<div class="paragraph">
<p>レ&#8203;ス&#8203;ポ&#8203;ン&#8203;ス&#8203;の&#8203;サ&#8203;ン&#8203;プ&#8203;ル&#8203;は&#8203;以&#8203;下&#8203;の&#8203;通&#8203;り&#8203;に&#8203;な&#8203;る&#8203;予&#8203;定&#8203;で&#8203;す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{<span class="key"><span class="delimiter">&quot;</span><span class="content">tdnet</span><span class="delimiter">&quot;</span></span>: [{<span class="key"><span class="delimiter">&quot;</span><span class="content">pdfSumaryFlag</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">modifiedHistory</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ＪＰＸ</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">disclosureItems</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">11384</span><span class="delimiter">&quot;</span></span>],
    <span class="key"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">86970</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">disclosedDate</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-01-30</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">datetime</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-01-30:12:00:00</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">handlingType</span><span class="delimiter">&quot;</span></span>: <span class="error">N</span><span class="error">o</span><span class="error">n</span><span class="error">e</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">disclosedTime</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">12:00:00</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">pdfGeneralFlag</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">disclosureNumber</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">20200129453073</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">xbrlFlag</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020年３月期 第３四半期決算短信〔ＩＦＲＳ〕（連結） </span><span class="delimiter">&quot;</span></span>},
    {<span class="key"><span class="delimiter">&quot;</span><span class="content">pdfSumaryFlag</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">modifiedHistory</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">ＪＰＸ</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">disclosureItems</span><span class="delimiter">&quot;</span></span>: [<span class="string"><span class="delimiter">&quot;</span><span class="content">11804</span><span class="delimiter">&quot;</span></span>],
    <span class="key"><span class="delimiter">&quot;</span><span class="content">code</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">86970</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">disclosedDate</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-01-30</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">datetime</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">2020-01-30:12:00:00</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">handlingType</span><span class="delimiter">&quot;</span></span>: <span class="error">N</span><span class="error">o</span><span class="error">n</span><span class="error">e</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">disclosedTime</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">12:00:00</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">pdfGeneralFlag</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">disclosureNumber</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">20200129453074</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">xbrlFlag</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">0</span><span class="delimiter">&quot;</span></span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">title</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Consolidated financial results for the nine months ended December 31, 2019</span><span class="delimiter">&quot;</span></span>},
    <span class="error">.</span><span class="error">.</span><span class="error">.</span>]}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_チュートリアル作成環境の参考文献">6. チュートリアル作成環境の参考文献</h2>
<div class="sectionbody">
<div class="paragraph">
<p>本&#8203;文&#8203;書&#8203;の&#8203;執&#8203;筆&#8203;で&#8203;は&#8203;次&#8203;の&#8203;プ&#8203;ロ&#8203;ダ&#8203;ク&#8203;ト&#8203;と&#8203;技&#8203;術&#8203;資&#8203;料&#8203;が&#8203;使&#8203;わ&#8203;れ&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="注記"></i>
</td>
<td class="content">
プ&#8203;ロ&#8203;ダ&#8203;ク&#8203;ト&#8203;名&#8203;の&#8203;隣&#8203;に&#8203;ラ&#8203;イ&#8203;セ&#8203;ン&#8203;ス&#8203;を&#8203;併&#8203;記&#8203;し&#8203;て&#8203;お&#8203;り&#8203;ま&#8203;す。
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Template</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Asciidoctor&#8203;と&#8203;Gradle&#8203;で&#8203;つ&#8203;く&#8203;る&#8203;文&#8203;書&#8203;執&#8203;筆&#8203;環&#8203;境&#8203; - MIT License -
<a href="https://h1romas4.github.io/asciidoctor-gradle-template/index.html" class="bare">https://h1romas4.github.io/asciidoctor-gradle-template/index.html</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Font</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>源&#8203;真&#8203;ゴ&#8203;シッ&#8203;ク&#8203; - SIL Open Font License 1.1  - <a href="http://jikasei.me/font/genshin/" class="bare">http://jikasei.me/font/genshin/</a></p>
</li>
<li>
<p>源&#8203;様&#8203;明&#8203;朝&#8203; - SIL Open Font License 1.1 - <a href="https://github.com/ButTaiwan/genyo-font" class="bare">https://github.com/ButTaiwan/genyo-font</a></p>
</li>
<li>
<p>Ricty Diminished - SIL Open Font License 1.1 - <a href="https://github.com/edihbrandon/RictyDiminished" class="bare">https://github.com/edihbrandon/RictyDiminished</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Asciidoc</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Asciidoctor - MIT License - <a href="https://asciidoctor.org/" class="bare">https://asciidoctor.org/</a></p>
</li>
<li>
<p>Asciidoctorj - Apache License 2.0 - <a href="https://github.com/asciidoctor/asciidoctorj" class="bare">https://github.com/asciidoctor/asciidoctorj</a></p>
</li>
<li>
<p>Asciidoctor.js - MIT License - <a href="https://asciidoctor.org/docs/asciidoctor.js/" class="bare">https://asciidoctor.org/docs/asciidoctor.js/</a></p>
</li>
<li>
<p>Asciidoctor PDF - MIT License - <a href="https://asciidoctor.org/docs/asciidoctor-pdf/" class="bare">https://asciidoctor.org/docs/asciidoctor-pdf/</a></p>
</li>
<li>
<p>Asciidoctor Gradle Plugin Suite - Apache License 2.0 - <a href="https://github.com/asciidoctor/asciidoctor-gradle-plugin" class="bare">https://github.com/asciidoctor/asciidoctor-gradle-plugin</a></p>
</li>
<li>
<p>asciidoctor-pdf-linewrap-ja - MIT License - <a href="https://github.com/fuka/asciidoctor-pdf-linewrap-ja" class="bare">https://github.com/fuka/asciidoctor-pdf-linewrap-ja</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Build Tool</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>SDKMAN - Apache License 2.0 - <a href="https://sdkman.io/" class="bare">https://sdkman.io/</a></p>
</li>
<li>
<p>Gradle - Apache License 2.0 - <a href="https://gradle.org/" class="bare">https://gradle.org/</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Text Editor</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Visual Studio Code - Microsoft - <a href="https://code.visualstudio.com/" class="bare">https://code.visualstudio.com/</a></p>
</li>
<li>
<p>asciidoctor-vscode - MIT License - <a href="https://github.com/asciidoctor/asciidoctor-vscode" class="bare">https://github.com/asciidoctor/asciidoctor-vscode</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Guide</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>asciidoctor-pdf&#8203;で&#8203;かっ&#8203;こ&#8203;い&#8203;い&#8203;PDF&#8203;を&#8203;作&#8203;る&#8203; - <a href="https://qiita.com/kuboaki/items/67774c5ebd41467b83e2" class="bare">https://qiita.com/kuboaki/items/67774c5ebd41467b83e2</a></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">OGP</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Socialify - <a href="https://github.com/wei/socialify" class="bare">https://github.com/wei/socialify</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="_商標">6.1. 商標</h3>
<div class="ulist">
<ul>
<li>
<p>Windows、&#8203;PowerShell&#8203;は、&#8203;Microsoft Corporation &#8203;の&#8203;登&#8203;録&#8203;商&#8203;標&#8203;ま&#8203;た&#8203;は&#8203;商&#8203;標&#8203;で&#8203;す。</p>
</li>
<li>
<p>Docker &#8203;は、&#8203;Docker Inc.&#8203;の&#8203;登&#8203;録&#8203;商&#8203;標&#8203;ま&#8203;た&#8203;は&#8203;商&#8203;標&#8203;で&#8203;す。</p>
</li>
<li>
<p>CoLaboratory™ &#8203;は、&#8203;Google Inc. &#8203;の&#8203;登&#8203;録&#8203;商&#8203;標&#8203;ま&#8203;た&#8203;は&#8203;商&#8203;標&#8203;で&#8203;す。</p>
</li>
<li>
<p>GitHub &#8203;は、&#8203;GitHub Inc.&#8203;の&#8203;登&#8203;録&#8203;商&#8203;標&#8203;ま&#8203;た&#8203;は&#8203;商&#8203;標&#8203;で&#8203;す</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ライセンス">7. ライセンス</h2>
<div class="sectionbody">
<div class="paragraph">
<p>本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;お&#8203;よ&#8203;び&#8203;ハ&#8203;ン&#8203;ズ&#8203;オ&#8203;ン&#8203;の&#8203;ソー&#8203;ス&#8203;コー&#8203;ド&#8203;は&#8203; <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/">CC BY-NC-ND 4.0</a> &#8203;に&#8203;従&#8203;う&#8203;ラ&#8203;イ&#8203;セ&#8203;ン&#8203;ス&#8203;で&#8203;公&#8203;開&#8203;し&#8203;て&#8203;い&#8203;ま&#8203;す。</p>
</div>
<div class="paragraph">
<p>教&#8203;育&#8203;な&#8203;ど&#8203;非&#8203;商&#8203;用&#8203;の&#8203;目&#8203;的&#8203;で&#8203;の&#8203;本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;の&#8203;使&#8203;用&#8203;や&#8203;再&#8203;配&#8203;布&#8203;は&#8203;自&#8203;由&#8203;に&#8203;行&#8203;う&#8203;こ&#8203;と&#8203;が&#8203;可&#8203;能&#8203;で&#8203;す。
商&#8203;用&#8203;目&#8203;的&#8203;で&#8203;本&#8203;チュー&#8203;ト&#8203;リ&#8203;ア&#8203;ル&#8203;の&#8203;全&#8203;体&#8203;ま&#8203;た&#8203;は&#8203;そ&#8203;の&#8203;一&#8203;部&#8203;を&#8203;無&#8203;断&#8203;で&#8203;転&#8203;載&#8203;す&#8203;る&#8203;行&#8203;為&#8203;は，&#8203;こ&#8203;れ&#8203;を&#8203;固&#8203;く&#8203;禁&#8203;じ&#8203;ま&#8203;す。</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="ChapterLicence/images/cc_by_nc_nd.png" alt="cc_by_nc_nd.png" width="400">
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
最終更新 2021-02-26 17:52:58 +0900
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "AMS" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>